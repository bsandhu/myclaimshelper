<div class="panel panel-default">
    <div class="panel-heading">

        <form class="form-inline" role="form">
            <div class="form-group">
                <!-- Group selection -->
                <span><strong>Arrange by</strong></span>
                <select class="form-control input-sm summaryGroupSelector"
                        data-bind="value: groupBy,
                                   options: groupByOptions,
                                   optionsText: 'description'"></select>
            </div>
            <!-- Due date group filter -->
            <div class="form-group leftMargin2pc">
                <strong>Show tasks</strong>
            </div>
            <div class="form-group">
                <span>due</span>
                <select class="form-control input-sm summaryGroupSelector"
                        data-bind="value: dueDateFilter,
                                   options: dueDateFilters,
                                   optionsText: 'description'"></select>
            </div>
            <div class="form-group" data-bind="if: showDueDateDaysFilter">
                <!-- Due date - day group filter -->
                <input class="form-control input-sm summaryGroupSelector" style="width: 70px" type="number" min="0"
                       data-bind="value: dueDateDaysFilterValue">
                <span>days.</span>
            </div>
            <!-- Status filter -->
            <div class="form-group">
                <span class="rightMargin5"> with status</span>
                <select class="form-control input-sm summaryGroupSelector"
                        data-bind="value: statusFilter,
                                   options: statusFilters,
                                   optionsText: 'description'"></select>
            </div>

        </form>
    </div>

    <div class="panel-body">

        <div class="panel panel-default">
            <table class="table table-hover table-condensed summaryTable">
                <thead>
                <th>&nbsp;</th>
                <th>&nbsp;</th>
                <th>Claim</th>
                <th>Summary</th>
                <th>Entry Date</th>
                <th>Due Date</th>
                <th>State</th>
                </thead>

                <tbody data-bind="foreach : {data: arrangeByKeys, as: 'groupKey'}">
                <tr>
                    <td colspan="7">
                        <span class="fa fa-angle-double-right"></span>
                            <span class="summaryGroupHeader"
                                  data-bind="text: $parent.groupBy().description"></span>
                        <span class="paddingRight5"></span>
                            <span class="summaryGroupSubHeader"
                                  data-bind="text: groupKey"></span>
                            <span class="summaryGroupSubHeader"
                                  data-bind="text: '(' + ($parent.claimEntriesGrouped()[groupKey].length) + ')'"></span>
                    </td>
                </tr>

                <!-- ko foreach: $parent.claimEntriesGrouped()[groupKey] -->
                <tr draggable="true" class="summaryRow"
                    data-bind="event: {dragend  : $parents[1].onSummaryRowDragEnd.bind($parents[1]),
                                               dragenter: $parents[1].onSummaryRowDragEnter.bind($parents[1]),
                                               dragover:  $parents[1].onSummaryRowDragOver.bind($parents[1]),
                                               dragleave: $parents[1].onSummaryRowDragLeave.bind($parents[1])},
                                       attr: {'data-entryId': $data._id},
                                       click: $parents[1].onClaimEntrySelect">
                    <td class="summaryGroupDrag" title="Click and Drag to reorder">
                        <span class="fa fa-ellipsis-v"></span>
                    </td>
                    <td>
                        <input type="checkbox">
                    </td>
                    <td>
                        <span data-bind="text: $data.claimId"><span
                    </td>
                    <td data-bind="text: $data.summary"></td>
                    <td class="summaryGroupCell">
                        <span data-bind="text: $parents[1].DateUtils.niceDate($data.entryDate())"></span>
                        <span class="fa fa-pencil"></span>
                    </td>
                    <td class="summaryGroupCell">
                        <span data-bind="text: $parents[1].DateUtils.niceDate($data.dueDate ? $data.dueDate() : '')"></span>
                        <span class="fa fa-pencil"></span>
                    </td>
                    <td class="summaryGroupCell">
                        <status-editor-component params="'statusValue': $data.state,
                                                         'entryId': $data._id"></status-editor-component>
                    </td>
                </tr>
                <!-- /ko -->
                </tbody>
            </table>
        </div>

    </div>
    <!-- End panel body -->
</div>