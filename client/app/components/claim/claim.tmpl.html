<!-- *** Tabs *** -->
<ul id="myTab1" class="nav nav-tabs bordered">
    <li data-bind="attr: {class: activeTab() == Consts.CLAIMS_TAB ? 'active' : ''}">
        <a href="#" data-toggle="tab" data-bind="click: selectClaimTab">
            Claim
            <span class="badge bg-color-blue txt-color-white"
                  data-bind="text: (claim().insuranceCompanyFileNum() || '')"></span>
        </a>
    </li>
    <li data-bind="attr: {class: activeTab() == Consts.BILLING_TAB ? 'active' : ''}">
        <a href="#" data-toggle="tab" data-bind="click: selectBillingTab">
            <i class="fa fa-fw fa-lg fa-credit-card"></i>Billing
        </a>
    </li>
</ul>

<!-- *** Tabs content *** -->
<div id="myTabContent1" class="tab-content padding-5">

    <div class="tab-pane fade in" id="claimTab"
         data-bind="css: {active: activeTab() == Consts.CLAIMS_TAB}">

        <!-- *** Claim Panel -->
        <div class="panel panel-default">
            <div class="panel-body">
                <!-- ************************************************ -->
                <!-- Claim top level info -->
                <!-- ************************************************ -->

                <div data-bind="ifnot: inEditMode" class="container-fluid">

                    <!-- Insured/claimant/Description -->
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                            <strong>Insured</strong>

                            <div data-bind="text: niceName(claim().insuredContact)"></div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                            <strong>Claimant</strong>

                            <div data-bind="text: niceName(claim().claimantContact)"></div>
                        </div>
                        <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                            <strong>Description</strong>

                            <div data-bind="text: claim().description"></div>
                        </div>
                    </div>

                    <div class="margin-bottom-10 bottomBorderDashed"></div>

                    <!-- Dates -->
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <strong>Received</strong>

                            <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateReceived() : '')"></div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-4  col-xs-4">
                            <strong>Due</strong>

                            <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateDue() : '')"></div>
                        </div>

                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <strong>Date of loss</strong>

                            <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateOfLoss() : '')"></div>
                        </div>
                        <div class="col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <strong>Insurance co.</strong>

                            <div data-bind="text: claim().insuranceCompanyName ? claim().insuranceCompanyName() : ''"></div>
                        </div>
                    </div>

                    <div class="margin-bottom-10 bottomBorderDashed"></div>

                    <!-- Contacts -->
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <strong>Contacts</strong>
                        </div>
                        <div class="col-lg-2 col-md-2 col-lg-offset-2 col-md-offset-2 col-sm-4 col-xs-4 col-sm-offset-4 col-xs-offset-4">
                            <div data-bind="text: 'Show all (' + Number(claim().otherContacts().length) + 2 + ')'" class="font-sm"></div>
                        </div>
                    </div>

                    <div class="row ">
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <span>Insured Attorney</span>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <a data-bind="click: onShowContact" class="cursor-pointer">
                                <span data-bind="text: niceName(claim().insuredAttorneyContact)"></span>
                            </a>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <span data-bind="text: '616 112 9889'"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <span>Claimant Attorney</span>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <a data-bind="click: onShowContact">
                                <span data-bind="text: niceName(claim().claimantsAttorneyContact)"></span>
                            </a>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                            <span data-bind="text: '616 112 9889'"></span>
                        </div>
                    </div>

                    <!-- Other contacts -->
                    <div data-bind="foreach: claim().otherContacts()">
                        <div class="row bottomBorder">
                            <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                                &nbsp;
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                                <a><!--data-bind="click: $parent.onShowContact($data._id)">-->
                                    <!--<span data-bind="text: $parent.niceName($data)"></span>-->
                                    Foo
                                </a>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                                <span data-bind="text: '616 112 9889'"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="margin-bottom-10 bottomBorderDashed"></div>
            </div>

            <!-- *** Editor *** -->
            <div data-bind="template: {name: 'app/components/claim/claim.editor'}"></div>

            <!-- ************************************************ -->
            <!-- New entry button group -->
            <!-- ************************************************ -->

            <div data-bind="ifnot: inEditMode" class="topMargin1pc">
                <div class="btn-group inline leftMargin5">
                    <button type="button" class="btn btn-default dropdown-toggle btn-info" data-toggle="dropdown">
                        <span class="fa fa-plus"></span>
                        Add New Entry <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li>
                            <a href="#/claimEntry/new/phone">
                                <span class="glyphicon glyphicon-earphone"></span>
                                <span class="leftMargin5">Phone</span>
                            </a>
                        </li>
                        <li>
                            <a href="#/claimEntry/new/visit">
                                <span class="glyphicon glyphicon-map-marker"></span>
                                <span class="leftMargin5">Site visit</span>
                            </a>
                        </li>
                        <li>
                            <a href="#/claimEntry/new/photos">
                                <span class="glyphicon glyphicon-camera"></span>
                                <span class="leftMargin5">Photos</span>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#/claimEntry/new/other">
                                <span class="leftMargin5">Other</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Edit claim button -->
                <div class="btn btn-default inline btn-info" data-bind="click: onEditModeClick.bind($data)">
                    <i class="fa fa-pencil"></i>
                    Edit claim
                </div>

                <!-- Add contact Button -->
                <div class="inline">
                    <add-contact-component></add-contact-component>
                </div>

                <!-- Create Bill Button -->
                <div class="inline pull-right rightMargin5">
                    <div class="btn-group">
                        <a class="btn btn-sm btn-info" data-bind="attr: {href: '#/claim/' + claim()._id() + '/newbill'}">
                            <i class="fa fa-plus"></i> New Invoice
                        </a>
                    </div>
                </div>
            </div>

            <!-- *** Entries *** -->
            <div data-bind="template: {name: 'app/components/claim/claim.entries'}"></div>

        </div>
        <!-- *** Claim Panel - end -->
    </div>

    <!-- *** Biling panel *** -->
    <div class="tab-pane fade in" id="bilingTab"
         data-bind="css: {active: activeTab() == Consts.BILLING_TAB}">
        <div id="billPanelContent">
            <div data-bind="component: {name: 'billing-component',
                                        params: claim()._id()}"></div>
        </div>
    </div>
    <!-- *** Biling panel - end *** -->

</div>
<!-- Tabs content - end. -->

