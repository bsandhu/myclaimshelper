<!-- **** Name **** -->
<div style="width: 100%;">
    <div class="inline narrowest contactFormIcon" data-bind="visible: showDetails() && allowEdits()">
        <i class="fa fa-user"></i>
    </div>
    <div class="inline bottomMargin">
        <!-- Auto complete -->
        <input class="form-control wider input-sm"
               data-bind="autoComplete: contact,
                                  value: contact.name,
                                  attr: {'placeholder': placeholder}"/>
    </div>
    <div class="inline" data-bind="if: showDetails">
        <a href="#"
           data-bind="click: onDetailsClick"
           style="font-size: .85em" tabindex="-1">Collapse</a>
    </div>
    <div class="inline" data-bind="ifnot: showDetails">
        <a href="#"
           data-bind="click: onDetailsClick"
           style="font-size: .85em"
           class="myTooltip"
           myTitle="Show contact details"
           tabindex="-1">Expand</a>
    </div>
</div>

<!-- **** Details form - allow editing **** -->
<div data-bind="visible: showDetails() && allowEdits()">

    <!--Business-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-power-off" style="visibility: hidden"></i>
        </div>
        <div class="inline bottomMargin">
            <input class="form-control wide input-sm" placeholder="Business name"
                   data-bind="value: contact.businessName"/>
        </div>
        <div class="inline bottomMargin">
            <input class="form-control normal input-sm" placeholder="Job title"
                   data-bind="value: contact.jobTitle"/>
        </div>
    </div>

    <!--Address-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-map-marker"></i>
        </div>
        <div class="inline bottomMargin">
            <input class="form-control wider input-sm" placeholder="Address"
                   data-bind="value: contact.streetAddress"/>
        </div>
    </div>

    <!--City/State/Zip-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-power-off" style="visibility: hidden"></i>
        </div>
        <div class="inline bottomMargin">
            <input class="form-control normal input-sm" placeholder="City"
                   data-bind="value: contact.city"/>
        </div>
        <div class="inline bottomMargin">
            <select class="form-control narrow input-sm"
                    data-bind="value: contact.state,
                                   options: states,
                                   optionsCaption: 'State'">
            </select>
        </div>
        <div class="inline bottomMargin">
            <input class="form-control narrow input-sm" placeholder="Zip"
                   data-bind="value: contact.zip"/>
        </div>
    </div>

    <!--Email-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-envelope"></i>
        </div>
        <div class="inline bottomMargin">
            <input type="email" class="form-control wider input-sm" placeholder="Email"
                   data-bind="value: contact.email"/>
        </div>
    </div>

    <!--Phone-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-phone"></i>
        </div>
        <div class="inline bottomMargin">
            <input type="tel" class="form-control normal input-sm" placeholder="Phone"
                   data-bind="phoneMask: contact.phone,
                              value: contact.phone"/>
        </div>
        <div class="inline narrow bottomMargin">
            <input class="form-control narrower input-sm" placeholder="Ext"
                   data-bind="value: contact.ext"/>
        </div>
    </div>

    <!--Cell-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-power-off" style="visibility: hidden"></i>
        </div>
        <div class="inline bottomMargin">
            <input type="tel" class="form-control normal input-sm" placeholder="Cell"
                   data-bind="phoneMask: contact.cell, value: contact.cell"/>
        </div>
    </div>

    <!--Notes-->
    <div style="width: 100%;">
        <div class="inline narrowest contactFormIcon">
            <i class="fa fa-power-off" style="visibility: hidden"></i>
        </div>
        <div class="inline bottomMargin">
            <textarea class="form-control widest" placeholder="Notes"
                      data-bind="value: contact.notes"></textarea>
        </div>
    </div>
</div>

<!-- **** Details view only **** -->
<div data-bind="visible: showDetails() && !allowEdits()">
    <div data-bind="if: contact">
        <span data-bind="text: contact.streetAddress"></span><br>
        <span data-bind="text: contact.city"></span>
        <span data-bind="text: contact.zip"></span><br>
        <a>
            <span data-bind="text: contact.phone"></span>
        </a>
    </div>
</div>

</div>