!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Z.type(t);return"function"===i||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Z.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(rt.test(e))return Z.filter(e,t,i);e=Z.filter(e,t)}return Z.grep(t,function(t){return q.call(e,t)>=0!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=ft[t]={};return Z.each(t.match(pt)||[],function(t,i){e[i]=!0}),e}function a(){X.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Z.ready()}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(wt,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:yt.test(i)?Z.parseJSON(i):i}catch(o){}bt.set(t,e,i)}else i=void 0;return i}function c(){return!0}function u(){return!1}function h(){try{return X.activeElement}catch(t){}}function d(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var i=0,n=t.length;n>i;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function g(t,e){var i,n,o,s,a,r,l,c;if(1===e.nodeType){if(vt.hasData(t)&&(s=vt.access(t),a=vt.set(e,s),c=s.events)){delete a.handle,a.events={};for(o in c)for(i=0,n=c[o].length;n>i;i++)Z.event.add(e,o,c[o][i])}bt.hasData(t)&&(r=bt.access(t),l=Z.extend({},r),bt.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function b(t,e){var i=e.nodeName.toLowerCase();"input"===i&&kt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function y(e,i){var n,o=Z(i.createElement(e)).appendTo(i.body),s=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(o[0]))?n.display:Z.css(o[0],"display");return o.detach(),s}function w(t){var e=X,i=Ht[t];return i||(i=y(t,e),"none"!==i&&i||(Bt=(Bt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),i=y(t,e),Bt.detach()),Ht[t]=i),i}function x(t,e,i){var n,o,s,a,r=t.style;return i=i||Vt(t),i&&(a=i.getPropertyValue(e)||i[e]),i&&(""!==a||Z.contains(t.ownerDocument,t)||(a=Z.style(t,e)),Wt.test(a)&&jt.test(e)&&(n=r.width,o=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=o,r.maxWidth=s)),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function _(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Gt.length;o--;)if(e=Gt[o]+i,e in t)return e;return n}function k(t,e,i){var n=Ut.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>s;s+=2)"margin"===i&&(a+=Z.css(t,i+Ct[s],!0,o)),n?("content"===i&&(a-=Z.css(t,"padding"+Ct[s],!0,o)),"margin"!==i&&(a-=Z.css(t,"border"+Ct[s]+"Width",!0,o))):(a+=Z.css(t,"padding"+Ct[s],!0,o),"padding"!==i&&(a+=Z.css(t,"border"+Ct[s]+"Width",!0,o)));return a}function T(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=Vt(t),a="border-box"===Z.css(t,"boxSizing",!1,s);if(0>=o||null==o){if(o=x(t,e,s),(0>o||null==o)&&(o=t.style[e]),Wt.test(o))return o;n=a&&(K.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,i||(a?"border":"content"),n,s)+"px"}function D(t,e){for(var i,n,o,s=[],a=0,r=t.length;r>a;a++)n=t[a],n.style&&(s[a]=vt.get(n,"olddisplay"),i=n.style.display,e?(s[a]||"none"!==i||(n.style.display=""),""===n.style.display&&_t(n)&&(s[a]=vt.access(n,"olddisplay",w(n.nodeName)))):(o=_t(n),"none"===i&&o||vt.set(n,"olddisplay",o?i:Z.css(n,"display"))));for(a=0;r>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[a]||"":"none"));return t}function A(t,e,i,n,o){return new A.prototype.init(t,e,i,n,o)}function I(){return setTimeout(function(){Kt=void 0}),Kt=Z.now()}function E(t,e){var i,n=0,o={height:t};for(e=e?1:0;4>n;n+=2-e)i=Ct[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function O(t,e,i){for(var n,o=(ie[e]||[]).concat(ie["*"]),s=0,a=o.length;a>s;s++)if(n=o[s].call(i,e,t))return n}function P(t,e,i){var n,o,s,a,r,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&_t(t),m=vt.get(t,"fxshow");i.queue||(r=Z._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,Z.queue(t,"fx").length||r.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=Z.css(t,"display"),u="none"===c?vt.get(t,"olddisplay")||w(t.nodeName):c,"inline"===u&&"none"===Z.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Qt.exec(o)){if(delete e[n],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||Z.style(t,n)}else c=void 0;if(Z.isEmptyObject(d))"inline"===("none"===c?w(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=vt.access(t,"fxshow",{}),s&&(m.hidden=!f),f?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in d)Z.style(t,e,d[e])});for(n in d)a=O(f?m[n]:0,n,h),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function M(t,e){var i,n,o,s,a;for(i in t)if(n=Z.camelCase(i),o=e[n],s=t[i],Z.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),a=Z.cssHooks[n],a&&"expand"in a){s=a.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function N(t,e,i){var n,o,s=0,a=ee.length,r=Z.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Kt||I(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,s=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(s);return r.notifyWith(t,[c,s,i]),1>s&&l?i:(r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Kt||I(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return e?r.resolveWith(t,[c,e]):r.rejectWith(t,[c,e]),this}}),u=c.props;for(M(u,c.opts.specialEasing);a>s;s++)if(n=ee[s].call(c,t,u,c.opts))return n;return Z.map(u,O,c),Z.isFunction(c.opts.start)&&c.opts.start.call(t,c),Z.fx.timer(Z.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(pt)||[];if(Z.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function R(t,e,i,n){function o(r){var l;return s[r]=!0,Z.each(t[r]||[],function(t,r){var c=r(e,i,n);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var s={},a=t===xe;return o(e.dataTypes[0])||!s["*"]&&o("*")}function $(t,e){var i,n,o=Z.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&Z.extend(!0,t,n),t}function F(t,e,i){for(var n,o,s,a,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in r)if(r[o]&&r[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function B(t,e,i,n){var o,s,a,r,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=c[l+" "+s]||c["* "+s],!a)for(o in c)if(r=o.split(" "),r[1]===s&&(a=c[l+" "+r[0]]||c["* "+r[0]])){a===!0?a=c[o]:c[o]!==!0&&(s=r[0],u.unshift(r[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function H(t,e,i,n){var o;if(Z.isArray(e))Z.each(e,function(e,o){i||Se.test(t)?n(t,o):H(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(o in e)H(t+"["+o+"]",e[o],i,n)}function j(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],V=W.slice,z=W.concat,U=W.push,q=W.indexOf,Y={},J=Y.toString,G=Y.hasOwnProperty,K={},X=t.document,Q="2.1.1",Z=function(t,e){return new Z.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:W.sort,splice:W.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[r]||{},r++),"object"==typeof a||Z.isFunction(a)||(a={}),r===l&&(a=this,r--);l>r;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],n=t[e],a!==n&&(c&&n&&(Z.isPlainObject(n)||(o=Z.isArray(n)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[e]=Z.extend(c,s,n)):void 0!==n&&(a[e]=n));return a},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[J.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,s=0,a=t.length,r=i(t);if(n){if(r)for(;a>s&&(o=e.apply(t[s],n),o!==!1);s++);else for(s in t)if(o=e.apply(t[s],n),o===!1)break}else if(r)for(;a>s&&(o=e.call(t[s],s,t[s]),o!==!1);s++);else for(s in t)if(o=e.call(t[s],s,t[s]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],s=0,a=t.length,r=!i;a>s;s++)n=!e(t[s],s),n!==r&&o.push(t[s]);return o},map:function(t,e,n){var o,s=0,a=t.length,r=i(t),l=[];if(r)for(;a>s;s++)o=e(t[s],s,n),null!=o&&l.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&l.push(o);return z.apply([],l)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t)?(n=V.call(arguments,2),o=function(){return t.apply(e||this,n.concat(V.call(arguments)))},o.guid=t.guid=t.guid||Z.guid++,o):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var ot=function(t){function e(t,e,i,n){var o,s,a,r,l,c,h,p,f,m;if((e?e.ownerDocument||e:H)!==P&&O(e),e=e||P,i=i||[],!t||"string"!=typeof t)return i;if(1!==(r=e.nodeType)&&9!==r)return[];if(N&&!n){if(o=bt.exec(t))if(a=o[1]){if(9===r){if(s=e.getElementById(a),!s||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(a))&&F(e,s)&&s.id===a)return i.push(s),i}else{if(o[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(a)),i}if(x.qsa&&(!L||!L.test(t))){if(p=h=B,f=e,m=9===r&&t,1===r&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(h=e.getAttribute("id"))?p=h.replace(wt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=yt.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{h||e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>C.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function o(t){var e=P.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=t.length;n--;)C.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function r(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var o,s=t([],i.length,e),a=s.length;a--;)i[o=s[a]]&&(i[o]=!(n[o]=i[o]))})})}function u(t){return t&&typeof t.getElementsByTagName!==Y&&t}function h(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=i&&"parentNode"===n,s=W++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s)}:function(e,i,a){var r,l,c=[j,s];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[B]||(e[B]={}),(r=l[n])&&r[0]===j&&r[1]===s)return c[2]=r[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var o=0,s=i.length;s>o;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var s,a=[],r=0,l=t.length,c=null!=e;l>r;r++)(s=t[r])&&(!i||i(s,n,o))&&(a.push(s),c&&e.push(r));return a}function v(t,e,i,o,s,a){return o&&!o[B]&&(o=v(o)),s&&!s[B]&&(s=v(s,a)),n(function(n,a,r,l){var c,u,h,d=[],p=[],f=a.length,v=n||m(e||"*",r.nodeType?[r]:r,[]),b=!t||!n&&e?v:g(v,d,t,r,l),y=i?s||(n?t:f||o)?[]:a:b;if(i&&i(b,y,r,l),o)for(c=g(y,p),o(c,[],r,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(b[p[u]]=h));if(n){if(s||t){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(b[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?et.call(n,h):d[u])>-1&&(n[c]=!(a[c]=h))}}else y=g(y===a?y.splice(f,y.length):y),s?s(null,a,y,l):Z.apply(a,y)})}function b(t){for(var e,i,n,o=t.length,s=C.relative[t[0].type],a=s||C.relative[" "],r=s?1:0,l=p(function(t){return t===e},a,!0),c=p(function(t){return et.call(e,t)>-1},a,!0),u=[function(t,i,n){return!s&&(n||i!==A)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>r;r++)if(i=C.relative[t[r].type])u=[p(f(u),i)];else{if(i=C.filter[t[r].type].apply(null,t[r].matches),i[B]){for(n=++r;o>n&&!C.relative[t[n].type];n++);return v(r>1&&f(u),r>1&&d(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(lt,"$1"),i,n>r&&b(t.slice(r,n)),o>n&&b(t=t.slice(n)),o>n&&d(t))}u.push(i)}return f(u)}function y(t,i){var o=i.length>0,s=t.length>0,a=function(n,a,r,l,c){var u,h,d,p=0,f="0",m=n&&[],v=[],b=A,y=n||s&&C.find.TAG("*",c),w=j+=null==b?1:Math.random()||.1,x=y.length;for(c&&(A=a!==P&&a);f!==x&&null!=(u=y[f]);f++){if(s&&u){for(h=0;d=t[h++];)if(d(u,a,r)){l.push(u);break}c&&(j=w)}o&&((u=!d&&u)&&p--,n&&m.push(u))}if(p+=f,o&&f!==p){for(h=0;d=i[h++];)d(m,v,a,r);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(j=w,A=b),m};return o?n(a):a}var w,x,C,_,k,S,T,D,A,I,E,O,P,M,N,L,R,$,F,B="sizzle"+-new Date,H=t.document,j=0,W=0,V=i(),z=i(),U=i(),q=function(t,e){return t===e&&(E=!0),0},Y="undefined",J=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,Z=K.push,tt=K.slice,et=K.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=ot.replace("w","w#"),at="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+nt+"*\\]",rt=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),pt=new RegExp("^"+st+"$"),ft={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(K=tt.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(_t){Z={apply:K.length?function(t,e){Q.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:H,n=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,M=i.documentElement,N=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){O()},!1):n.attachEvent&&n.attachEvent("onunload",function(){O()})),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=o(function(t){return M.appendChild(t).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if(typeof e.getElementById!==Y&&N){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){var i=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},C.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&N?e.getElementsByClassName(t):void 0},R=[],L=[],(x.qsa=vt.test(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=vt.test($=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(t){x.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),R.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),R=R.length&&new RegExp(R.join("|")),e=vt.test(M.compareDocumentPosition),F=e||vt.test(M.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===H&&F(H,t)?-1:e===i||e.ownerDocument===H&&F(H,e)?1:I?et.call(I,t)-et.call(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,o=0,s=t.parentNode,r=e.parentNode,l=[t],c=[e];if(!s||!r)return t===i?-1:e===i?1:s?-1:r?1:I?et.call(I,t)-et.call(I,e):0;if(s===r)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},i):P},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==P&&O(t),i=i.replace(ht,"='$1']"),x.matchesSelector&&N&&(!R||!R.test(i))&&(!L||!L.test(i)))try{var n=$.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&O(t);var i=C.attrHandle[e.toLowerCase()],n=i&&G.call(C.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:x.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(E=!x.detectDuplicates,I=!x.sortStable&&t.slice(0),t.sort(q),E){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return I=null,t},_=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=_(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=_(e);return i},C=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var s=e.attr(o,t);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,m=s!==a?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),b=!l&&!r;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(r?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(u=g[B]||(g[B]={}),c=u[t]||[],p=c[0]===j&&c[1],d=c[0]===j&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[j,p,d];break}}else if(b&&(c=(e[B]||(e[B]={}))[t])&&c[0]===j)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((r?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[B]||(h[B]={}))[t]=[j,d]),h!==e)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,i){var o,s=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[B]?s(i):s.length>1?(o=[t,t,"",i],C.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=s(t,i),a=o.length;a--;)n=et.call(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return s(t,0,o)}):s}},pseudos:{not:n(function(t){var e=[],i=[],o=T(t.replace(lt,"$1"));return o[B]?n(function(t,e,i,n){for(var s,a=o(t,null,n,[]),r=t.length;r--;)(s=a[r])&&(t[r]=!(e[r]=s))}):function(t,n,s){return e[0]=t,o(e,null,s,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Ct).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=r(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,S=e.tokenize=function(t,i){var n,o,s,a,r,l,c,u=z[t+" "];if(u)return i?0:u.slice(0);for(r=t,l=[],c=C.preFilter;r;){(!n||(o=ct.exec(r)))&&(o&&(r=r.slice(o[0].length)||r),l.push(s=[])),n=!1,(o=ut.exec(r))&&(n=o.shift(),s.push({value:n,type:o[0].replace(lt," ")}),r=r.slice(n.length));for(a in C.filter)!(o=ft[a].exec(r))||c[a]&&!(o=c[a](o))||(n=o.shift(),s.push({value:n,type:a,matches:o}),r=r.slice(n.length));if(!n)break}return i?r.length:r?e.error(t):z(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],o=[],s=U[t+" "];if(!s){for(e||(e=S(t)),i=e.length;i--;)s=b(e[i]),s[B]?n.push(s):o.push(s);s=U(t,y(o,n)),s.selector=t}return s},D=e.select=function(t,e,i,n){var o,s,a,r,l,c="function"==typeof t&&t,h=!n&&S(t=c.selector||t);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[s[1].type]){if(e=(C.find.ID(a.matches[0].replace(xt,Ct),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=ft.needsContext.test(t)?0:s.length;o--&&(a=s[o],!C.relative[r=a.type]);)if((l=C.find[r])&&(n=l(a.matches[0].replace(xt,Ct),yt.test(s[0].type)&&u(e.parentNode)||e))){if(s.splice(o,1),t=n.length&&d(s),!t)return Z.apply(i,n),i;break}}return(c||T(t,h))(n,e,!N,i,yt.test(t)&&u(e.parentNode)||e),i},x.sortStable=B.split("").sort(q).join("")===B,x.detectDuplicates=!!E,O(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(it,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Z.find=ot,Z.expr=ot.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ot.uniqueSort,Z.text=ot.getText,Z.isXMLDoc=ot.isXML,Z.contains=ot.contains;var st=Z.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){
for(e=0;i>e;e++)if(Z.contains(o[e],this))return!0}));for(e=0;i>e;e++)Z.find(t,o[e],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&st.test(t)?Z(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Z.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),at.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=X.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};ut.prototype=Z.fn,lt=Z(X);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Z(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,s=[],a=st.test(t)||"string"!=typeof t?Z(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(t){return t?"string"==typeof t?q.call(Z(t),this[0]):q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var o=Z.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=Z.filter(n,o)),this.length>1&&(dt[t]||Z.unique(o),ht.test(t)&&o.reverse()),this.pushStack(o)}});var pt=/\S+/g,ft={};Z.Callbacks=function(t){t="string"==typeof t?ft[t]||s(t):Z.extend({},t);var e,i,n,o,a,r,l=[],c=!t.once&&[],u=function(s){for(e=t.memory&&s,i=!0,r=o||0,o=0,a=l.length,n=!0;l&&a>r;r++)if(l[r].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function s(e){Z.each(e,function(e,i){var n=Z.type(i);"function"===n?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),n?a=l.length:e&&(o=i,u(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(a>=i&&a--,r>=i&&r--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],n?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,s){var a=Z.isFunction(t[e])&&t[e];o[s[1]](function(){var t=a&&a.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},o={};return n.pipe=n.then,Z.each(e,function(t,s){var a=s[2],r=s[3];n[s[1]]=a.add,r&&a.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=V.call(arguments),a=s.length,r=1!==a||t&&Z.isFunction(t.promise)?a:0,l=1===r?t:Z.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?V.call(arguments):o,n===e?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)s[o]&&Z.isFunction(s[o].promise)?s[o].promise().done(c(o,n,s)).fail(l.reject).progress(c(o,i,e)):--r;return r||l.resolveWith(n,s),l.promise()}});var mt;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(mt.resolveWith(X,[Z]),Z.fn.triggerHandler&&(Z(X).triggerHandler("ready"),Z(X).off("ready"))))}}),Z.ready.promise=function(e){return mt||(mt=Z.Deferred(),"complete"===X.readyState?setTimeout(Z.ready):(X.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),mt.promise(e)},Z.ready.promise();var gt=Z.access=function(t,e,i,n,o,s,a){var r=0,l=t.length,c=null==i;if("object"===Z.type(i)){o=!0;for(r in i)Z.access(t,e,r,i[r],!0,s,a)}else if(void 0!==n&&(o=!0,Z.isFunction(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(Z(t),i)})),e))for(;l>r;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return o?t:c?e.call(t):l?e(t[0],i):s};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},r.uid=1,r.accepts=Z.acceptData,r.prototype={key:function(t){if(!r.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=r.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),s=this.cache[o];if("string"==typeof e)s[e]=i;else if(Z.isEmptyObject(s))Z.extend(this.cache[o],e);else for(n in e)s[n]=e[n];return s},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Z.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,s=this.key(t),a=this.cache[s];if(void 0===e)this.cache[s]={};else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(o=Z.camelCase(e),e in a?n=[e,o]:(n=o,n=n in a?[n]:n.match(pt)||[])),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new r,bt=new r,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Z.extend({hasData:function(t){return bt.hasData(t)||vt.hasData(t)},data:function(t,e,i){return bt.access(t,e,i)},removeData:function(t,e){bt.remove(t,e)},_data:function(t,e,i){return vt.access(t,e,i)},_removeData:function(t,e){vt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,o,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(o=bt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(s,n,o[n])));vt.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){bt.set(this,t)}):gt(this,function(e){var i,n=Z.camelCase(t);if(s&&void 0===e){if(i=bt.get(s,t),void 0!==i)return i;if(i=bt.get(s,n),void 0!==i)return i;if(i=l(s,n,void 0),void 0!==i)return i}else this.each(function(){var i=bt.get(this,n);bt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){bt.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=vt.get(t,e),i&&(!n||Z.isArray(i)?n=vt.access(t,e,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,o=i.shift(),s=Z._queueHooks(t,e),a=function(){Z.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,a,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return vt.get(t,i)||vt.access(t,i,{empty:Z.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=Z.Deferred(),s=this,a=this.length,r=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=vt.get(s[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],_t=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},kt=/^(?:checkbox|radio)$/i;!function(){var t=X.createDocumentFragment(),e=t.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";K.focusinBubbles="onfocusin"in t;var Tt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,n,o){var s,a,r,l,c,u,h,d,p,f,m,g=vt.get(t);if(g)for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=Z.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof Z!==St&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],c=e.length;c--;)r=It.exec(e[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},u=Z.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,n,f,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),Z.event.global[p]=!0)},remove:function(t,e,i,n,o){var s,a,r,l,c,u,h,d,p,f,m,g=vt.hasData(t)&&vt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(pt)||[""],c=e.length;c--;)if(r=It.exec(e[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=l[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)u=d[s],!o&&m!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||Z.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)Z.event.remove(t,p+e[c],i,n,!0);Z.isEmptyObject(l)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,i,n,o){var s,a,r,l,c,u,h,d=[n||X],p=G.call(e,"type")?e.type:e,f=G.call(e,"namespace")?e.namespace.split("."):[];if(a=r=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!At.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[Z.expando]?e:new Z.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),h=Z.event.special[p]||{},o||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!o&&!h.noBubble&&!Z.isWindow(n)){for(l=h.delegateType||p,At.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),r=a;r===(n.ownerDocument||X)&&d.push(r.defaultView||r.parentWindow||t)}for(s=0;(a=d[s++])&&!e.isPropagationStopped();)e.type=s>1?l:h.bindType||p,u=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),u&&u.apply(a,i),u=c&&a[c],u&&u.apply&&Z.acceptData(a)&&(e.result=u.apply(a,i),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!Z.acceptData(n)||c&&Z.isFunction(n[p])&&!Z.isWindow(n)&&(r=n[c],r&&(n[c]=null),Z.event.triggered=p,n[p](),Z.event.triggered=void 0,r&&(n[c]=r)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,n,o,s,a=[],r=V.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],c=Z.event.special[t.type]||{};if(r[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=Z.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,n=((Z.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,r),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,s,a=[],r=e.delegateCount,l=t.target;if(r&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;r>i;i++)s=e[i],o=s.selector+" ",void 0===n[o]&&(n[o]=s.needsContext?Z(o,this).index(l)>=0:Z.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&a.push({elem:l,handlers:n})}return r<e.length&&a.push({elem:this,handlers:e.slice(r)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||X,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Dt.test(o)?this.mouseHooks:Tt.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new Z.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(o,null,e):Z.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:u):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return(!o||o!==n&&!Z.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=vt.access(n,e);o||n.addEventListener(t,i,!0),vt.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=vt.access(n,e)-1;o?vt.access(n,e,o):(n.removeEventListener(t,i,!0),vt.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,o){var s,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=u;else if(!n)return this;return 1===o&&(s=n,n=function(t){return Z().off(t),s.apply(this,arguments)},n.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=u),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Z.event.trigger(t,e,i,!0):void 0}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Pt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,Z.extend({clone:function(t,e,i){var n,o,s,a,r=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(a=v(r),s=v(t),n=0,o=s.length;o>n;n++)b(s[n],a[n]);if(e)if(i)for(s=s||v(t),a=a||v(r),n=0,o=s.length;o>n;n++)g(s[n],a[n]);else g(t,r);return a=v(r,"script"),a.length>0&&m(a,!l&&v(t,"script")),r},buildFragment:function(t,e,i,n){for(var o,s,a,r,l,c,u=e.createDocumentFragment(),h=[],d=0,p=t.length;p>d;d++)if(o=t[d],o||0===o)if("object"===Z.type(o))Z.merge(h,o.nodeType?[o]:o);else if(Pt.test(o)){for(s=s||u.appendChild(e.createElement("div")),a=(Ot.exec(o)||["",""])[1].toLowerCase(),r=Ft[a]||Ft._default,s.innerHTML=r[1]+o.replace(Et,"<$1></$2>")+r[2],c=r[0];c--;)s=s.lastChild;Z.merge(h,s.childNodes),s=u.firstChild,s.textContent=""}else h.push(e.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if((!n||-1===Z.inArray(o,n))&&(l=Z.contains(o.ownerDocument,o),s=v(u.appendChild(o),"script"),l&&m(s),i))for(c=0;o=s[c++];)Lt.test(o.type||"")&&i.push(o);return u},cleanData:function(t){for(var e,i,n,o,s=Z.event.special,a=0;void 0!==(i=t[a]);a++){if(Z.acceptData(i)&&(o=i[vt.expando],o&&(e=vt.cache[o]))){if(e.events)for(n in e.events)s[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle);vt.cache[o]&&delete vt.cache[o]}delete bt.cache[i[bt.expando]]}}}),Z.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&m(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!Ft[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Et,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var i,n,o,s,a,r,l=0,c=this.length,u=this,h=c-1,d=t[0],m=Z.isFunction(d);if(m||c>1&&"string"==typeof d&&!K.checkClone&&Nt.test(d))return this.each(function(i){var n=u.eq(i);m&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(c&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=Z.map(v(i,"script"),p),s=o.length;c>l;l++)a=i,l!==h&&(a=Z.clone(a,!0,!0),s&&Z.merge(o,v(a,"script"))),e.call(this[l],a,l);if(s)for(r=o[o.length-1].ownerDocument,Z.map(o,f),l=0;s>l;l++)a=o[l],Lt.test(a.type||"")&&!vt.access(a,"globalEval")&&Z.contains(r,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace($t,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],o=Z(t),s=o.length-1,a=0;s>=a;a++)i=a===s?this:this.clone(!0),Z(o[a])[e](i),U.apply(n,i.get());return this.pushStack(n)}});var Bt,Ht={},jt=/^margin/,Wt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Vt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",o.appendChild(s);var e=t.getComputedStyle(a,null);i="1%"!==e.top,n="4px"===e.width,o.removeChild(s)}var i,n,o=X.documentElement,s=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(a),t.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=a.appendChild(X.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",o.appendChild(s),e=!parseFloat(t.getComputedStyle(i,null).marginRight),o.removeChild(s),e}}))}(),Z.swap=function(t,e,i,n){var o,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,n||[]);for(s in e)t.style[s]=a[s];return o};var zt=/^(none|table(?!-c[ea]).+)/,Ut=new RegExp("^("+xt+")(.*)$","i"),qt=new RegExp("^([+-])=("+xt+")","i"),Yt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=x(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,r=Z.camelCase(e),l=t.style;return e=Z.cssProps[r]||(Z.cssProps[r]=_(l,r)),a=Z.cssHooks[e]||Z.cssHooks[r],void 0===i?a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:l[e]:(s=typeof i,"string"===s&&(o=qt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(t,e)),s="number"),null!=i&&i===i&&("number"!==s||Z.cssNumber[r]||(i+="px"),K.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var o,s,a,r=Z.camelCase(e);return e=Z.cssProps[r]||(Z.cssProps[r]=_(t.style,r)),a=Z.cssHooks[e]||Z.cssHooks[r],a&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=x(t,e,n)),"normal"===o&&e in Jt&&(o=Jt[e]),""===i||i?(s=parseFloat(o),i===!0||Z.isNumeric(s)?s||0:o):o}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){return i?zt.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Yt,function(){return T(t,e,n)}):T(t,e,n):void 0},set:function(t,i,n){var o=n&&Vt(t);return k(t,i,n?S(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,o),o):0)}}}),Z.cssHooks.marginRight=C(K.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Ct[n]+e]=s[n]||s[n-2]||s[0];return o}},jt.test(t)||(Z.cssHooks[t+e].set=k)}),Z.fn.extend({css:function(t,e){return gt(this,function(t,e,i){var n,o,s={},a=0;if(Z.isArray(e)){for(n=Vt(t),o=e.length;o>a;a++)s[e[a]]=Z.css(t,e[a],!1,n);return s}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_t(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=A,A.prototype={constructor:A,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Z.cssNumber[i]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,i=A.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=A.prototype.init,Z.fx.step={};var Kt,Xt,Qt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[P],ie={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Zt.exec(e),s=o&&o[3]||(Z.cssNumber[t]?"":"px"),a=(Z.cssNumber[t]||"px"!==s&&+n)&&Zt.exec(Z.css(i.elem,t)),r=1,l=20;if(a&&a[3]!==s){s=s||a[3],o=o||[],a=+n||1;do r=r||".5",a/=r,Z.style(i.elem,t,a+s);while(r!==(r=i.cur()/n)&&1!==r&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=s,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};Z.Animation=Z.extend(N,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],ie[i]=ie[i]||[],ie[i].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(_t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=Z.isEmptyObject(t),s=Z.speed(e,i,n),a=function(){var e=N(this,Z.extend({},t),s);(o||vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=Z.timers,a=vt.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&te.test(o)&&n(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(i),e=!1,s.splice(o,1));(e||!i)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=vt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=Z.timers,a=n?n.length:0;for(i.finish=!0,Z.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);
delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(E(e,!0),t,n,o)}}),Z.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers;for(Kt=Z.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||Z.fx.stop(),Kt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Xt||(Xt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Xt),Xt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),i=e.appendChild(X.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=i.selected,e.disabled=!0,K.optDisabled=!i.disabled,t=X.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ne,oe,se=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return gt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===St?Z.prop(t,e,i):(1===s&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?oe:ne)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:(o=Z.find.attr(t,e),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(pt);if(s&&1===t.nodeType)for(;i=s[o++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),oe={set:function(t,e,i){return e===!1?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=se[e]||Z.find.attr;se[e]=function(t,e,n){var o,s;return n||(s=se[e],se[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,se[e]=s),o}});var ae=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return gt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(t),s&&(e=Z.propFix[e]||e,o=Z.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var re=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,i,n,o,s,a,r="string"==typeof t&&t,l=0,c=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(r)for(e=(t||"").match(pt)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(re," "):" ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=Z.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,s,a,r=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(r)for(e=(t||"").match(pt)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(re," "):"")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?Z.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Z.isFunction(t)?this.each(function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=Z(this),s=t.match(pt)||[];e=s[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===St||"boolean"===i)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(re," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Z.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=Z.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,Z(this).val()):t,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(le,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,a=s?null:[],r=s?o+1:n.length,l=0>o?r:s?o:0;r>l;l++)if(i=n[l],(i.selected||l===o)&&(K.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,s=Z.makeArray(e),a=o.length;a--;)n=o[a],(n.selected=Z.inArray(n.value,s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ce=Z.now(),ue=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var he,de,pe=/#.*$/,fe=/([?&])_=[^&]*/,me=/^(.*?):[ \t]*([^\r\n]*)$/gm,ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ve=/^(?:GET|HEAD)$/,be=/^\/\//,ye=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,we={},xe={},Ce="*/".concat("*");try{de=location.href}catch(_e){de=X.createElement("a"),de.href="",de=de.href}he=ye.exec(de.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:de,type:"GET",isLocal:ge.test(he[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,Z.ajaxSettings),e):$(Z.ajaxSettings,t)},ajaxPrefilter:L(we),ajaxTransport:L(xe),ajax:function(t,e){function i(t,e,i,a){var l,u,v,b,w,C=e;2!==y&&(y=2,r&&clearTimeout(r),n=void 0,s=a||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(b=F(h,x,i)),b=B(h,b,x,l),l?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Z.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(Z.etag[o]=w)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,u=b.data,v=b.error,l=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",l?f.resolveWith(d,[u,C,x]):f.rejectWith(d,[x,C,v]),x.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?u:v]),m.fireWith(d,[x,C]),c&&(p.trigger("ajaxComplete",[x,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,s,a,r,l,c,u,h=Z.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!a)for(a={};e=me.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return n&&n.abort(e),i(0,e),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||de)+"").replace(pe,"").replace(be,he[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=ye.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===he[1]&&l[2]===he[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(he[3]||("http:"===he[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),R(we,h,e,x),2===y)return x;c=h.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ve.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ue.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fe.test(o)?o.replace(fe,"$1_="+ce++):o+(ue.test(o)?"&":"?")+"_="+ce++)),h.ifModified&&(Z.lastModified[o]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&x.setRequestHeader("If-None-Match",Z.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ce+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)x.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===y))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](h[u]);if(n=R(xe,h,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(r=setTimeout(function(){x.abort("timeout")},h.timeout));try{y=1,n.send(v,i)}catch(C){if(!(2>y))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,o){return Z.isFunction(i)&&(o=o||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Z.isFunction(t)?this.each(function(e){Z(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var ke=/%20/g,Se=/\[\]$/,Te=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,n=[],o=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){o(this.name,this.value)});else for(i in t)H(i,t[i],e,o);return n.join("&").replace(ke,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Ae.test(this.nodeName)&&!De.test(t)&&(this.checked||!kt.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:i.replace(Te,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ie=0,Ee={},Oe={0:200,1223:204},Pe=Z.ajaxSettings.xhr();t.ActiveXObject&&Z(t).on("unload",function(){for(var t in Ee)Ee[t]()}),K.cors=!!Pe&&"withCredentials"in Pe,K.ajax=Pe=!!Pe,Z.ajaxTransport(function(t){var e;return K.cors||Pe&&!t.crossDomain?{send:function(i,n){var o,s=t.xhr(),a=++Ie;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete Ee[a],e=s.onload=s.onerror=null,"abort"===t?s.abort():"error"===t?n(s.status,s.statusText):n(Oe[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=e(),s.onerror=e("error"),e=Ee[a]=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(r){if(e)throw r}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Me=[],Ne=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||Z.expando+"_"+ce++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var o,s,a,r=e.jsonp!==!1&&(Ne.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Ne,"$1"+o):e.jsonp!==!1&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},n.always(function(){t[o]=s,e[o]&&(e.jsonpCallback=i.jsonpCallback,Me.push(o)),a&&Z.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||X;var n=at.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,o),o&&o.length&&Z(o).remove(),Z.merge([],n.childNodes))};var Le=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&Le)return Le.apply(this,arguments);var n,o,s,a=this,r=t.indexOf(" ");return r>=0&&(n=Z.trim(t.slice(r)),t=t.slice(0,r)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&Z.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,a.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Re=t.document.documentElement;Z.offset={setOffset:function(t,e,i){var n,o,s,a,r,l,c,u=Z.css(t,"position"),h=Z(t),d={};"static"===u&&(t.style.position="relative"),r=h.offset(),s=Z.css(t,"top"),l=Z.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,c?(n=h.position(),a=n.top,o=n.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,r)),null!=e.top&&(d.top=e.top-r.top+a),null!=e.left&&(d.left=e.left-r.left+o),"using"in e?e.using.call(t,d):h.css(d)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;if(s)return e=s.documentElement,Z.contains(e,n)?(typeof n.getBoundingClientRect!==St&&(o=n.getBoundingClientRect()),i=j(s),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Re;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Re})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Z.fn[e]=function(o){return gt(this,function(e,o,s){var a=j(e);return void 0===s?a?a[i]:e[o]:void(a?a.scrollTo(n?t.pageXOffset:s,n?s:t.pageYOffset):e[o]=s)},e,o,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=C(K.pixelPosition,function(t,i){return i?(i=x(t,e),Wt.test(i)?Z(t).position()[e]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return gt(this,function(e,i,n){var o;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?Z.css(e,i,a):Z.style(e,i,n,a)},e,s?n:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var $e=t.jQuery,Fe=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Fe),e&&t.jQuery===Z&&(t.jQuery=$e),Z},typeof e===St&&(t.jQuery=t.$=Z),Z}),function(){!function(t){var e=this||(0,eval)("this"),i=e.document,n=e.navigator,o=e.jQuery,s=e.JSON;!function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(module.exports||exports,require):"function"==typeof define&&define.amd?define("knockout",["exports","require"],t):t(e.ko={})}(function(a,r){function l(t,e){return null===t||typeof t in p?t===e:!1}function c(e,i){var n;return function(){n||(n=setTimeout(function(){n=t,e()},i))}}function u(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}function h(t,e,i,n){d.d[t]={init:function(t,o,s,a,r){var l,c;return d.s(function(){var s=d.a.c(o()),a=!i!=!s,u=!c;(u||e||a!==l)&&(u&&d.Y.la()&&(c=d.a.ia(d.f.childNodes(t),!0)),a?(u||d.f.T(t,d.a.ia(c)),d.Ca(n?n(r,s):r,t)):d.f.ja(t),l=a)},null,{o:t}),{controlsDescendantBindings:!0}}},d.h.ha[t]=!1,d.f.Q[t]=!0}var d="undefined"!=typeof a?a:{};d.b=function(t,e){for(var i=t.split("."),n=d,o=0;o<i.length-1;o++)n=n[i[o]];n[i[i.length-1]]=e},d.A=function(t,e,i){t[e]=i},d.version="3.2.0",d.b("version",d.version),d.a=function(){function a(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function r(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function l(t,e){return t.__proto__=e,t}var c={__proto__:[]}instanceof Array,u={},h={};u[n&&/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],u.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),a(u,function(t,e){if(e.length)for(var i=0,n=e.length;n>i;i++)h[e[i]]=t});var p={propertychange:!0},f=i&&function(){for(var e=3,n=i.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",o[0];);return e>4?e:t}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(t,e){for(var i=0,n=t.length;n>i;i++)e(t[i],i)},m:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},qb:function(t,e,i){for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n))return t[n];return null},ua:function(t,e){var i=d.a.m(t,e);i>0?t.splice(i,1):0===i&&t.shift()},rb:function(t){t=t||[];for(var e=[],i=0,n=t.length;n>i;i++)0>d.a.m(e,t[i])&&e.push(t[i]);return e},Da:function(t,e){t=t||[];for(var i=[],n=0,o=t.length;o>n;n++)i.push(e(t[n],n));return i},ta:function(t,e){t=t||[];for(var i=[],n=0,o=t.length;o>n;n++)e(t[n],n)&&i.push(t[n]);return i},ga:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var i=0,n=e.length;n>i;i++)t.push(e[i]);return t},ea:function(t,e,i){var n=d.a.m(d.a.Xa(t),e);0>n?i&&t.push(e):i||t.splice(n,1)},xa:c,extend:r,za:l,Aa:c?l:r,G:a,na:function(t,e){if(!t)return t;var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i,t));return n},Ka:function(t){for(;t.firstChild;)d.removeNode(t.firstChild)},oc:function(t){t=d.a.S(t);for(var e=i.createElement("div"),n=0,o=t.length;o>n;n++)e.appendChild(d.R(t[n]));return e},ia:function(t,e){for(var i=0,n=t.length,o=[];n>i;i++){var s=t[i].cloneNode(!0);o.push(e?d.R(s):s)}return o},T:function(t,e){if(d.a.Ka(t),e)for(var i=0,n=e.length;n>i;i++)t.appendChild(e[i])},Lb:function(t,e){var i=t.nodeType?[t]:t;if(0<i.length){for(var n=i[0],o=n.parentNode,s=0,a=e.length;a>s;s++)o.insertBefore(e[s],n);for(s=0,a=i.length;a>s;s++)d.removeNode(i[s])}},ka:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.shift();if(1<t.length){var i=t[0],n=t[t.length-1];for(t.length=0;i!==n;)if(t.push(i),i=i.nextSibling,!i)return;t.push(n)}}return t},Nb:function(t,e){7>f?t.setAttribute("selected",e):t.selected=e},cb:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(t,e){return t=t||"",e.length>t.length?!1:t.substring(0,e.length)===e},cc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Ja:function(t){return d.a.cc(t,t.ownerDocument.documentElement)},ob:function(t){return!!d.a.qb(t,d.a.Ja)},t:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(t,e,i){var n=f&&p[e];if(!n&&o)o(t).bind(e,i);else if(n||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var s=function(e){i.call(t,e)},a="on"+e;t.attachEvent(a,s),d.a.w.da(t,function(){t.detachEvent(a,s)})}else t.addEventListener(e,i,!1)},oa:function(t,n){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var s;if("input"===d.a.t(t)&&t.type&&"click"==n.toLowerCase()?(s=t.type,s="checkbox"==s||"radio"==s):s=!1,o&&!s)o(t).trigger(n);else if("function"==typeof i.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");s=i.createEvent(h[n]||"HTMLEvents"),s.initEvent(n,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(s)}else if(s&&t.click)t.click();else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+n)}},c:function(t){return d.C(t)?t():t},Xa:function(t){return d.C(t)?t.v():t},Ba:function(t,e,i){if(e){var n=/\S+/g,o=t.className.match(n)||[];d.a.u(e.match(n),function(t){d.a.ea(o,t,i)}),t.className=o.join(" ")}},bb:function(e,i){var n=d.a.c(i);(null===n||n===t)&&(n="");var o=d.f.firstChild(e);!o||3!=o.nodeType||d.f.nextSibling(o)?d.f.T(e,[e.ownerDocument.createTextNode(n)]):o.data=n,d.a.fc(e)},Mb:function(t,e){if(t.name=e,7>=f)try{t.mergeAttributes(i.createElement("<input name='"+t.name+"'/>"),!1)}catch(n){}},fc:function(t){f>=9&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},dc:function(t){if(f){var e=t.style.width;t.style.width=0,t.style.width=e}},sc:function(t,e){t=d.a.c(t),e=d.a.c(e);for(var i=[],n=t;e>=n;n++)i.push(n);return i},S:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(t[i]);return e},yc:6===f,zc:7===f,L:f,xb:function(t,e){for(var i=d.a.S(t.getElementsByTagName("input")).concat(d.a.S(t.getElementsByTagName("textarea"))),n="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},o=[],s=i.length-1;s>=0;s--)n(i[s])&&o.push(i[s]);return o},pc:function(t){return"string"==typeof t&&(t=d.a.cb(t))?s&&s.parse?s.parse(t):new Function("return "+t)():null},eb:function(t,e,i){if(!s||!s.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return s.stringify(d.a.c(t),e,i)},qc:function(t,e,n){n=n||{};var o=n.params||{},s=n.includeFields||this.vb,r=t;if("object"==typeof t&&"form"===d.a.t(t))for(var r=t.action,l=s.length-1;l>=0;l--)for(var c=d.a.xb(t,s[l]),u=c.length-1;u>=0;u--)o[c[u].name]=c[u].value;e=d.a.c(e);var h=i.createElement("form");h.style.display="none",h.action=r,h.method="post";for(var p in e)t=i.createElement("input"),t.type="hidden",t.name=p,t.value=d.a.eb(d.a.c(e[p])),h.appendChild(t);a(o,function(t,e){var n=i.createElement("input");n.type="hidden",n.name=t,n.value=e,h.appendChild(n)}),i.body.appendChild(h),n.submitter?n.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),d.b("utils",d.a),d.b("utils.arrayForEach",d.a.u),d.b("utils.arrayFirst",d.a.qb),d.b("utils.arrayFilter",d.a.ta),d.b("utils.arrayGetDistinctValues",d.a.rb),d.b("utils.arrayIndexOf",d.a.m),d.b("utils.arrayMap",d.a.Da),d.b("utils.arrayPushAll",d.a.ga),d.b("utils.arrayRemoveItem",d.a.ua),d.b("utils.extend",d.a.extend),d.b("utils.fieldsIncludedWithJsonPost",d.a.vb),d.b("utils.getFormFields",d.a.xb),d.b("utils.peekObservable",d.a.Xa),d.b("utils.postJson",d.a.qc),d.b("utils.parseJson",d.a.pc),d.b("utils.registerEventHandler",d.a.n),d.b("utils.stringifyJson",d.a.eb),d.b("utils.range",d.a.sc),d.b("utils.toggleDomNodeCssClass",d.a.Ba),d.b("utils.triggerEvent",d.a.oa),d.b("utils.unwrapObservable",d.a.c),d.b("utils.objectForEach",d.a.G),d.b("utils.addOrRemoveItem",d.a.ea),d.b("unwrap",d.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=Array.prototype.slice.call(arguments);return t=i.shift(),function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}),d.a.e=new function(){function e(e,s){var a=e[n];if(!a||"null"===a||!o[a]){if(!s)return t;a=e[n]="ko"+i++,o[a]={}}return o[a]}var i=0,n="__ko__"+(new Date).getTime(),o={};return{get:function(i,n){var o=e(i,!1);return o===t?t:o[n]},set:function(i,n,o){(o!==t||e(i,!1)!==t)&&(e(i,!0)[n]=o)},clear:function(t){var e=t[n];return e?(delete o[e],t[n]=null,!0):!1},F:function(){return i++ +n}}},d.b("utils.domData",d.a.e),d.b("utils.domData.clear",d.a.e.clear),d.a.w=new function(){function e(e,i){var o=d.a.e.get(e,n);return o===t&&i&&(o=[],d.a.e.set(e,n,o)),o}function i(t){var n=e(t,!1);if(n)for(var n=n.slice(0),o=0;o<n.length;o++)n[o](t);if(d.a.e.clear(t),d.a.w.cleanExternalData(t),a[t.nodeType])for(n=t.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var n=d.a.e.F(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{da:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");e(t,!0).push(i)},Kb:function(i,o){var s=e(i,!1);s&&(d.a.ua(s,o),0==s.length&&d.a.e.set(i,n,t))},R:function(t){if(s[t.nodeType]&&(i(t),a[t.nodeType])){var e=[];d.a.ga(e,t.getElementsByTagName("*"));for(var n=0,o=e.length;o>n;n++)i(e[n])}return t},removeNode:function(t){d.R(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){o&&"function"==typeof o.cleanData&&o.cleanData([t])}}},d.R=d.a.w.R,d.removeNode=d.a.w.removeNode,d.b("cleanNode",d.R),d.b("removeNode",d.removeNode),d.b("utils.domNodeDisposal",d.a.w),d.b("utils.domNodeDisposal.addDisposeCallback",d.a.w.da),d.b("utils.domNodeDisposal.removeDisposeCallback",d.a.w.Kb),function(){d.a.ba=function(t){var n;if(o){if(o.parseHTML)n=o.parseHTML(t)||[];else if((n=o.clean([t]))&&n[0]){for(t=n[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var s=d.a.cb(t).toLowerCase();for(n=i.createElement("div"),s=s.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],t="ignored<div>"+s[1]+t+s[2]+"</div>","function"==typeof e.innerShiv?n.appendChild(e.innerShiv(t)):n.innerHTML=t;s[0]--;)n=n.lastChild;n=d.a.S(n.lastChild.childNodes)}return n},d.a.$a=function(e,i){if(d.a.Ka(e),i=d.a.c(i),null!==i&&i!==t)if("string"!=typeof i&&(i=i.toString()),o)o(e).html(i);else for(var n=d.a.ba(i),s=0;s<n.length;s++)e.appendChild(n[s])}}(),d.b("utils.parseHtmlFragment",d.a.ba),d.b("utils.setHtml",d.a.$a),d.D=function(){function e(t,i){if(t)if(8==t.nodeType){var n=d.D.Gb(t.nodeValue);null!=n&&i.push({bc:t,mc:n})}else if(1==t.nodeType)for(var n=0,o=t.childNodes,s=o.length;s>n;n++)e(o[n],i)}var i={};return{Ua:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[e]=t,"<!--[ko_memo:"+e+"]-->"},Rb:function(e,n){var o=i[e];if(o===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return o.apply(null,n||[]),!0}finally{delete i[e]}},Sb:function(t,i){var n=[];e(t,n);for(var o=0,s=n.length;s>o;o++){var a=n[o].bc,r=[a];i&&d.a.ga(r,i),d.D.Rb(n[o].mc,r),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},Gb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),d.b("memoization",d.D),d.b("memoization.memoize",d.D.Ua),d.b("memoization.unmemoize",d.D.Rb),
d.b("memoization.parseMemoText",d.D.Gb),d.b("memoization.unmemoizeDomNodeAndDescendants",d.D.Sb),d.La={throttle:function(t,e){t.throttleEvaluation=e;var i=null;return d.j({read:t,write:function(n){clearTimeout(i),i=setTimeout(function(){t(n)},e)}})},rateLimit:function(t,e){var i,n,o;"number"==typeof e?i=e:(i=e.timeout,n=e.method),o="notifyWhenChangesStop"==n?u:c,t.Ta(function(t){return o(t,i)})},notify:function(t,e){t.equalityComparer="always"==e?null:l}};var p={undefined:1,"boolean":1,number:1,string:1};d.b("extenders",d.La),d.Pb=function(t,e,i){this.target=t,this.wa=e,this.ac=i,this.Cb=!1,d.A(this,"dispose",this.K)},d.Pb.prototype.K=function(){this.Cb=!0,this.ac()},d.P=function(){d.a.Aa(this,d.P.fn),this.M={}};var f="change",m={U:function(t,e,i){var n=this;i=i||f;var o=new d.Pb(n,e?t.bind(e):t,function(){d.a.ua(n.M[i],o),n.nb&&n.nb()});return n.va&&n.va(i),n.M[i]||(n.M[i]=[]),n.M[i].push(o),o},notifySubscribers:function(t,e){if(e=e||f,this.Ab(e))try{d.k.Ea();for(var i,n=this.M[e].slice(0),o=0;i=n[o];++o)i.Cb||i.wa(t)}finally{d.k.end()}},Ta:function(t){var e,i,n,o=this,s=d.C(o);o.qa||(o.qa=o.notifySubscribers,o.notifySubscribers=function(t,e){e&&e!==f?"beforeChange"===e?o.kb(t):o.qa(t,e):o.lb(t)});var a=t(function(){s&&n===o&&(n=o()),e=!1,o.Pa(i,n)&&o.qa(i=n)});o.lb=function(t){e=!0,n=t,a()},o.kb=function(t){e||(i=t,o.qa(t,"beforeChange"))}},Ab:function(t){return this.M[t]&&this.M[t].length},yb:function(){var t=0;return d.a.G(this.M,function(e,i){t+=i.length}),t},Pa:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var e=this;return t&&d.a.G(t,function(t,i){var n=d.La[t];"function"==typeof n&&(e=n(e,i)||e)}),e}};d.A(m,"subscribe",m.U),d.A(m,"extend",m.extend),d.A(m,"getSubscriptionsCount",m.yb),d.a.xa&&d.a.za(m,Function.prototype),d.P.fn=m,d.Db=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},d.b("subscribable",d.P),d.b("isSubscribable",d.Db),d.Y=d.k=function(){function t(t){n.push(i),i=t}function e(){i=n.pop()}var i,n=[],o=0;return{Ea:t,end:e,Jb:function(t){if(i){if(!d.Db(t))throw Error("Only subscribable things can act as dependencies");i.wa(t,t.Vb||(t.Vb=++o))}},B:function(i,n,o){try{return t(),i.apply(n,o||[])}finally{e()}},la:function(){return i?i.s.la():void 0},ma:function(){return i?i.ma:void 0}}}(),d.b("computedContext",d.Y),d.b("computedContext.getDependenciesCount",d.Y.la),d.b("computedContext.isInitial",d.Y.ma),d.b("computedContext.isSleeping",d.Y.Ac),d.p=function(t){function e(){return 0<arguments.length?(e.Pa(i,arguments[0])&&(e.X(),i=arguments[0],e.W()),this):(d.k.Jb(e),i)}var i=t;return d.P.call(e),d.a.Aa(e,d.p.fn),e.v=function(){return i},e.W=function(){e.notifySubscribers(i)},e.X=function(){e.notifySubscribers(i,"beforeChange")},d.A(e,"peek",e.v),d.A(e,"valueHasMutated",e.W),d.A(e,"valueWillMutate",e.X),e},d.p.fn={equalityComparer:l};var g=d.p.rc="__ko_proto__";d.p.fn[g]=d.p,d.a.xa&&d.a.za(d.p.fn,d.P.fn),d.Ma=function(e,i){return null===e||e===t||e[g]===t?!1:e[g]===i?!0:d.Ma(e[g],i)},d.C=function(t){return d.Ma(t,d.p)},d.Ra=function(t){return"function"==typeof t&&t[g]===d.p||"function"==typeof t&&t[g]===d.j&&t.hc?!0:!1},d.b("observable",d.p),d.b("isObservable",d.C),d.b("isWriteableObservable",d.Ra),d.b("isWritableObservable",d.Ra),d.aa=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=d.p(t),d.a.Aa(t,d.aa.fn),t.extend({trackArrayChanges:!0})},d.aa.fn={remove:function(t){for(var e=this.v(),i=[],n="function"!=typeof t||d.C(t)?function(e){return e===t}:t,o=0;o<e.length;o++){var s=e[o];n(s)&&(0===i.length&&this.X(),i.push(s),e.splice(o,1),o--)}return i.length&&this.W(),i},removeAll:function(e){if(e===t){var i=this.v(),n=i.slice(0);return this.X(),i.splice(0,i.length),this.W(),n}return e?this.remove(function(t){return 0<=d.a.m(e,t)}):[]},destroy:function(t){var e=this.v(),i="function"!=typeof t||d.C(t)?function(e){return e===t}:t;this.X();for(var n=e.length-1;n>=0;n--)i(e[n])&&(e[n]._destroy=!0);this.W()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=d.a.m(e,t)}):[]},indexOf:function(t){var e=this();return d.a.m(e,t)},replace:function(t,e){var i=this.indexOf(t);i>=0&&(this.X(),this.v()[i]=e,this.W())}},d.a.u("pop push reverse shift sort splice unshift".split(" "),function(t){d.aa.fn[t]=function(){var e=this.v();return this.X(),this.sb(e,t,arguments),e=e[t].apply(e,arguments),this.W(),e}}),d.a.u(["slice"],function(t){d.aa.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),d.a.xa&&d.a.za(d.aa.fn,d.p.fn),d.b("observableArray",d.aa);var v="arrayChange";d.La.trackArrayChanges=function(t){function e(){if(!i){i=!0;var e=t.notifySubscribers;t.notifySubscribers=function(t,i){return i&&i!==f||++o,e.apply(this,arguments)};var s=[].concat(t.v()||[]);n=null,t.U(function(e){if(e=[].concat(e||[]),t.Ab(v)){var i;(!n||o>1)&&(n=d.a.Fa(s,e,{sparse:!0})),i=n,i.length&&t.notifySubscribers(i,v)}s=e,n=null,o=0})}}if(!t.sb){var i=!1,n=null,o=0,s=t.U;t.U=t.subscribe=function(t,i,n){return n===v&&e(),s.apply(this,arguments)},t.sb=function(t,e,s){function a(t,e,i){return r[r.length]={status:t,value:e,index:i}}if(i&&!o){var r=[],l=t.length,c=s.length,u=0;switch(e){case"push":u=l;case"unshift":for(e=0;c>e;e++)a("added",s[e],u+e);break;case"pop":u=l-1;case"shift":l&&a("deleted",t[u],u);break;case"splice":e=Math.min(Math.max(0,0>s[0]?l+s[0]:s[0]),l);for(var l=1===c?l:Math.min(e+(s[1]||0),l),c=e+c-2,u=Math.max(l,c),h=[],p=[],f=2;u>e;++e,++f)l>e&&p.push(a("deleted",t[e],e)),c>e&&h.push(a("added",s[f],e));d.a.wb(p,h);break;default:return}n=r}}}},d.s=d.j=function(e,i,n){function o(){d.a.G(S,function(t,e){e.K()}),S={}}function s(){o(),T=0,g=!0,p=!1}function a(){var t=l.throttleEvaluation;t&&t>=0?(clearTimeout(D),D=setTimeout(r,t)):l.ib?l.ib():r()}function r(e){if(f){if(b)throw Error("A 'pure' computed must not be called recursively")}else if(!g){if(_&&_()){if(!m)return void k()}else m=!1;if(f=!0,y)try{var n={};d.k.Ea({wa:function(t,e){n[e]||(n[e]=1,++T)},s:l,ma:t}),T=0,h=v.call(i)}finally{d.k.end(),f=!1}else try{var o=S,s=T;d.k.Ea({wa:function(t,e){g||(s&&o[e]?(S[e]=o[e],++T,delete o[e],--s):S[e]||(S[e]=t.U(a),++T))},s:l,ma:b?t:!T}),S={},T=0;try{var r=i?v.call(i):v()}finally{d.k.end(),s&&d.a.G(o,function(t,e){e.K()}),p=!1}l.Pa(h,r)&&(l.notifySubscribers(h,"beforeChange"),h=r,!0!==e&&l.notifySubscribers(h))}finally{f=!1}T||k()}}function l(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(i,arguments),this}return d.k.Jb(l),p&&r(!0),h}function c(){return p&&!T&&r(!0),h}function u(){return p||T>0}var h,p=!0,f=!1,m=!1,g=!1,v=e,b=!1,y=!1;if(v&&"object"==typeof v?(n=v,v=n.read):(n=n||{},v||(v=n.read)),"function"!=typeof v)throw Error("Pass a function that returns the value of the ko.computed");var w=n.write,x=n.disposeWhenNodeIsRemoved||n.o||null,C=n.disposeWhen||n.Ia,_=C,k=s,S={},T=0,D=null;i||(i=n.owner),d.P.call(l),d.a.Aa(l,d.j.fn),l.v=c,l.la=function(){return T},l.hc="function"==typeof n.write,l.K=function(){k()},l.Z=u;var A=l.Ta;return l.Ta=function(t){A.call(l,t),l.ib=function(){l.kb(h),p=!0,l.lb(l)}},n.pure?(y=b=!0,l.va=function(){y&&(y=!1,r(!0))},l.nb=function(){l.yb()||(o(),y=p=!0)}):n.deferEvaluation&&(l.va=function(){c(),delete l.va}),d.A(l,"peek",l.v),d.A(l,"dispose",l.K),d.A(l,"isActive",l.Z),d.A(l,"getDependenciesCount",l.la),x&&(m=!0,x.nodeType&&(_=function(){return!d.a.Ja(x)||C&&C()})),y||n.deferEvaluation||r(),x&&u()&&x.nodeType&&(k=function(){d.a.w.Kb(x,k),s()},d.a.w.da(x,k)),l},d.jc=function(t){return d.Ma(t,d.j)},m=d.p.rc,d.j[m]=d.p,d.j.fn={equalityComparer:l},d.j.fn[m]=d.j,d.a.xa&&d.a.za(d.j.fn,d.P.fn),d.b("dependentObservable",d.j),d.b("computed",d.j),d.b("isComputed",d.jc),d.Ib=function(t,e){return"function"==typeof t?d.s(t,e,{pure:!0}):(t=d.a.extend({},t),t.pure=!0,d.s(t,e))},d.b("pureComputed",d.Ib),function(){function e(o,s,a){if(a=a||new n,o=s(o),"object"!=typeof o||null===o||o===t||o instanceof Date||o instanceof String||o instanceof Number||o instanceof Boolean)return o;var r=o instanceof Array?[]:{};return a.save(o,r),i(o,function(i){var n=s(o[i]);switch(typeof n){case"boolean":case"number":case"string":case"function":r[i]=n;break;case"object":case"undefined":var l=a.get(n);r[i]=l!==t?l:e(n,s,a)}}),r}function i(t,e){if(t instanceof Array){for(var i=0;i<t.length;i++)e(i);"function"==typeof t.toJSON&&e("toJSON")}else for(i in t)e(i)}function n(){this.keys=[],this.hb=[]}d.Qb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(t){for(var e=0;d.C(t)&&10>e;e++)t=t();return t})},d.toJSON=function(t,e,i){return t=d.Qb(t),d.a.eb(t,e,i)},n.prototype={save:function(t,e){var i=d.a.m(this.keys,t);i>=0?this.hb[i]=e:(this.keys.push(t),this.hb.push(e))},get:function(e){return e=d.a.m(this.keys,e),e>=0?this.hb[e]:t}}}(),d.b("toJS",d.Qb),d.b("toJSON",d.toJSON),function(){d.i={q:function(e){switch(d.a.t(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?d.a.e.get(e,d.d.options.Va):7>=d.a.L?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?d.i.q(e.options[e.selectedIndex]):t;default:return e.value}},ca:function(e,i,n){switch(d.a.t(e)){case"option":switch(typeof i){case"string":d.a.e.set(e,d.d.options.Va,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=i;break;default:d.a.e.set(e,d.d.options.Va,i),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof i?i:""}break;case"select":(""===i||null===i)&&(i=t);for(var o,s=-1,a=0,r=e.options.length;r>a;++a)if(o=d.i.q(e.options[a]),o==i||""==o&&i===t){s=a;break}(n||s>=0||i===t&&1<e.size)&&(e.selectedIndex=s);break;default:(null===i||i===t)&&(i=""),e.value=i}}}}(),d.b("selectExtensions",d.i),d.b("selectExtensions.readValue",d.i.q),d.b("selectExtensions.writeValue",d.i.ca),d.h=function(){function t(t){t=d.a.cb(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1));var e,i,a=[],r=t.match(n),l=0;if(r){r.push(",");for(var c,u=0;c=r[u];++u){var h=c.charCodeAt(0);if(44===h){if(0>=l){e&&a.push(i?{key:e,value:i.join("")}:{unknown:e}),e=i=l=0;continue}}else if(58===h){if(!i)continue}else if(47===h&&u&&1<c.length)(h=r[u-1].match(o))&&!s[h[0]]&&(t=t.substr(t.indexOf(c)+1),r=t.match(n),r.push(","),u=-1,c="/");else if(40===h||123===h||91===h)++l;else if(41===h||125===h||93===h)--l;else if(!e&&!i){e=34===h||39===h?c.slice(1,-1):c;continue}i?i.push(c):i=[c]}}return a}var e=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,s={"in":1,"return":1,"typeof":1},a={};return{ha:[],V:a,Wa:t,ya:function(n,o){function s(t,n){var o;if(!u){var h=d.getBindingHandler(t);if(h&&h.preprocess&&!(n=h.preprocess(n,t,s)))return;(h=a[t])&&(o=n,0<=d.a.m(e,o)?o=!1:(h=o.match(i),o=null===h?!1:h[1]?"Object("+h[1]+")"+h[2]:o),h=o),h&&l.push("'"+t+"':function(_z){"+o+"=_z}")}c&&(n="function(){return "+n+" }"),r.push("'"+t+"':"+n)}o=o||{};var r=[],l=[],c=o.valueAccessors,u=o.bindingParams,h="string"==typeof n?t(n):n;return d.a.u(h,function(t){s(t.key||t.unknown,t.value)}),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),r.join(",")},lc:function(t,e){for(var i=0;i<t.length;i++)if(t[i].key==e)return!0;return!1},pa:function(t,e,i,n,o){t&&d.C(t)?!d.Ra(t)||o&&t.v()===n||t(n):(t=e.get("_ko_property_writers"))&&t[i]&&t[i](n)}}}(),d.b("expressionRewriting",d.h),d.b("expressionRewriting.bindingRewriteValidators",d.h.ha),d.b("expressionRewriting.parseObjectLiteral",d.h.Wa),d.b("expressionRewriting.preProcessBindings",d.h.ya),d.b("expressionRewriting._twoWayBindings",d.h.V),d.b("jsonExpressionRewriting",d.h),d.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",d.h.ya),function(){function t(t){return 8==t.nodeType&&a.test(s?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&r.test(s?t.text:t.nodeValue)}function n(i,n){for(var o=i,s=1,a=[];o=o.nextSibling;){if(e(o)&&(s--,0===s))return a;a.push(o),t(o)&&s++}if(!n)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function o(t,e){var i=n(t,e);return i?0<i.length?i[i.length-1].nextSibling:t.nextSibling:null}var s=i&&"<!--test-->"===i.createComment("test").text,a=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};d.f={Q:{},childNodes:function(e){return t(e)?n(e):e.childNodes},ja:function(e){if(t(e)){e=d.f.childNodes(e);for(var i=0,n=e.length;n>i;i++)d.removeNode(e[i])}else d.a.Ka(e)},T:function(e,i){if(t(e)){d.f.ja(e);for(var n=e.nextSibling,o=0,s=i.length;s>o;o++)n.parentNode.insertBefore(i[o],n)}else d.a.T(e,i)},Hb:function(e,i){t(e)?e.parentNode.insertBefore(i,e.nextSibling):e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)},Bb:function(e,i,n){n?t(e)?e.parentNode.insertBefore(i,n.nextSibling):n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i):d.f.Hb(e,i)},firstChild:function(i){return t(i)?!i.nextSibling||e(i.nextSibling)?null:i.nextSibling:i.firstChild},nextSibling:function(i){return t(i)&&(i=o(i)),i.nextSibling&&e(i.nextSibling)?null:i.nextSibling},gc:t,xc:function(t){return(t=(s?t.text:t.nodeValue).match(a))?t[1]:null},Fb:function(i){if(l[d.a.t(i)]){var n=i.firstChild;if(n)do if(1===n.nodeType){var s;s=n.firstChild;var a=null;if(s)do if(a)a.push(s);else if(t(s)){var r=o(s,!0);r?s=r:a=[s]}else e(s)&&(a=[s]);while(s=s.nextSibling);if(s=a)for(a=n.nextSibling,r=0;r<s.length;r++)a?i.insertBefore(s[r],a):i.appendChild(s[r])}while(n=n.nextSibling)}}}}(),d.b("virtualElements",d.f),d.b("virtualElements.allowedBindings",d.f.Q),d.b("virtualElements.emptyNode",d.f.ja),d.b("virtualElements.insertAfter",d.f.Bb),d.b("virtualElements.prepend",d.f.Hb),d.b("virtualElements.setDomNodeChildren",d.f.T),function(){d.J=function(){this.Yb={}},d.a.extend(d.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||d.g.getComponentNameForNode(t);case 8:return d.f.gc(t);default:return!1}},getBindings:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t):null;return d.g.mb(i,t,e,!1)},getBindingAccessors:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t,{valueAccessors:!0}):null;return d.g.mb(i,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return d.f.xc(t);default:return null}},parseBindingsString:function(t,e,i,n){try{var o,s=this.Yb,a=t+(n&&n.valueAccessors||"");if(!(o=s[a])){var r,l="with($context){with($data||{}){return{"+d.h.ya(t,n)+"}}}";r=new Function("$context","$element",l),o=s[a]=r}return o(e,i)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+c.message,c}}}),d.J.instance=new d.J}(),d.b("bindingProvider",d.J),function(){function i(t){return function(){return t}}function n(t){return t()}function s(t){return d.a.na(d.k.B(t),function(e,i){return function(){return t()[i]}})}function a(t,e){return s(this.getBindings.bind(this,t,e))}function r(t,e,i){var n,o=d.f.firstChild(e),s=d.J.instance,a=s.preprocessNode;if(a){for(;n=o;)o=d.f.nextSibling(n),a.call(s,n);o=d.f.firstChild(e)}for(;n=o;)o=d.f.nextSibling(n),l(t,n,i)}function l(t,e,i){var n=!0,o=1===e.nodeType;o&&d.f.Fb(e),(o&&i||d.J.instance.nodeHasBindings(e))&&(n=u(e,null,t,i).shouldBindDescendants),n&&!p[d.a.t(e)]&&r(t,e,!o)}function c(t){var e=[],i={},n=[];return d.a.G(t,function o(s){if(!i[s]){var a=d.getBindingHandler(s);a&&(a.after&&(n.push(s),d.a.u(a.after,function(e){if(t[e]){if(-1!==d.a.m(n,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+n.join(", "));o(e)}}),n.length--),e.push({key:s,zb:a})),i[s]=!0}}),e}function u(e,i,o,s){var r=d.a.e.get(e,f);if(!i){if(r)throw Error("You cannot apply bindings multiple times to the same element.");d.a.e.set(e,f,!0)}!r&&s&&d.Ob(e,o);var l;if(i&&"function"!=typeof i)l=i;else{var u=d.J.instance,h=u.getBindingAccessors||a,p=d.j(function(){return(l=i?i(o,e):h.call(u,e,o))&&o.I&&o.I(),l},null,{o:e});l&&p.Z()||(p=null)}var m;if(l){var g=p?function(t){return function(){return n(p()[t])}}:function(t){return l[t]},v=function(){return d.a.na(p?p():l,n)};v.get=function(t){return l[t]&&n(g(t))},v.has=function(t){return t in l},s=c(l),d.a.u(s,function(i){var n=i.zb.init,s=i.zb.update,a=i.key;if(8===e.nodeType&&!d.f.Q[a])throw Error("The binding '"+a+"' cannot be used with virtual elements");try{"function"==typeof n&&d.k.B(function(){var i=n(e,g(a),v,o.$data,o);if(i&&i.controlsDescendantBindings){if(m!==t)throw Error("Multiple bindings ("+m+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");m=a}}),"function"==typeof s&&d.j(function(){s(e,g(a),v,o.$data,o)},null,{o:e})}catch(r){throw r.message='Unable to process binding "'+a+": "+l[a]+'"\nMessage: '+r.message,r}})}return{shouldBindDescendants:m===t}}function h(t){return t&&t instanceof d.N?t:new d.N(t)}d.d={};var p={script:!0};d.getBindingHandler=function(t){return d.d[t]},d.N=function(e,i,n,o){var s,a=this,r="function"==typeof e&&!d.C(e),l=d.j(function(){var t=r?e():e,s=d.a.c(t);return i?(i.I&&i.I(),d.a.extend(a,i),l&&(a.I=l)):(a.$parents=[],a.$root=s,a.ko=d),a.$rawData=t,a.$data=s,n&&(a[n]=s),o&&o(a,i,s),a.$data},null,{Ia:function(){return s&&!d.a.ob(s)},o:!0});l.Z()&&(a.I=l,l.equalityComparer=null,s=[],l.Tb=function(e){s.push(e),d.a.w.da(e,function(e){d.a.ua(s,e),s.length||(l.K(),a.I=l=t)})})},d.N.prototype.createChildContext=function(t,e,i){return new d.N(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),i&&i(t)})},d.N.prototype.extend=function(t){return new d.N(this.I||this.$data,this,null,function(e,i){e.$rawData=i.$rawData,d.a.extend(e,"function"==typeof t?t():t)})};var f=d.a.e.F(),m=d.a.e.F();d.Ob=function(t,e){return 2!=arguments.length?d.a.e.get(t,m):(d.a.e.set(t,m,e),void(e.I&&e.I.Tb(t)))},d.ra=function(t,e,i){return 1===t.nodeType&&d.f.Fb(t),u(t,e,h(i),!0)},d.Wb=function(t,e,n){return n=h(n),d.ra(t,"function"==typeof e?s(e.bind(null,n,t)):d.a.na(e,i),n)},d.Ca=function(t,e){1!==e.nodeType&&8!==e.nodeType||r(h(t),e,!0)},d.pb=function(t,i){if(!o&&e.jQuery&&(o=e.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||e.document.body,l(h(t),i,!0)},d.Ha=function(e){switch(e.nodeType){case 1:case 8:var i=d.Ob(e);if(i)return i;if(e.parentNode)return d.Ha(e.parentNode)}return t},d.$b=function(e){return(e=d.Ha(e))?e.$data:t},d.b("bindingHandlers",d.d),d.b("applyBindings",d.pb),d.b("applyBindingsToDescendants",d.Ca),d.b("applyBindingAccessorsToNode",d.ra),d.b("applyBindingsToNode",d.Wb),d.b("contextFor",d.Ha),d.b("dataFor",d.$b)}(),function(t){function e(e,n){var a,r=o.hasOwnProperty(e)?o[e]:t;r||(r=o[e]=new d.P,i(e,function(t){s[e]=t,delete o[e],a?r.notifySubscribers(t):setTimeout(function(){r.notifySubscribers(t)},0)}),a=!0),r.U(n)}function i(t,e){n("getConfig",[t],function(i){i?n("loadComponent",[t,i],function(t){e(t)}):e(null)})}function n(e,i,o,s){s||(s=d.g.loaders.slice(0));var a=s.shift();if(a){var r=a[e];if(r){var l=!1;if(r.apply(a,i.concat(function(t){l?o(null):null!==t?o(t):n(e,i,o,s)}))!==t&&(l=!0,!a.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else n(e,i,o,s)}else o(null)}var o={},s={};d.g={get:function(i,n){var o=s.hasOwnProperty(i)?s[i]:t;o?setTimeout(function(){n(o)},0):e(i,n)},tb:function(t){delete s[t]},jb:n},d.g.loaders=[],d.b("components",d.g),d.b("components.get",d.g.get),d.b("components.clearCachedDefinition",d.g.tb)}(),function(){function t(t,e,i,n){function o(){0===--r&&n(s)}var s={},r=2,l=i.template;i=i.viewModel,l?a(e,l,function(e){d.g.jb("loadTemplate",[t,e],function(t){s.template=t,o()})}):o(),i?a(e,i,function(e){d.g.jb("loadViewModel",[t,e],function(t){s[u]=t,o()})}):o()}function n(t,e,i){if("function"==typeof e)i(function(t){return new e(t)});else if("function"==typeof e[u])i(e[u]);else if("instance"in e){var o=e.instance;i(function(){return o})}else"viewModel"in e?n(t,e.viewModel,i):t("Unknown viewModel value: "+e)}function o(t){switch(d.a.t(t)){case"script":return d.a.ba(t.text);case"textarea":return d.a.ba(t.value);case"template":if(s(t.content))return d.a.ia(t.content.childNodes)}return d.a.ia(t.childNodes)}function s(t){return e.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function a(t,i,n){"string"==typeof i.require?r||e.require?(r||e.require)([i.require],n):t("Uses require, but no AMD loader is present"):n(i)}function l(t){return function(e){throw Error("Component '"+t+"': "+e)}}var c={};d.g.tc=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(d.g.Qa(t))throw Error("Component "+t+" is already registered");c[t]=e},d.g.Qa=function(t){return t in c},d.g.wc=function(t){delete c[t],d.g.tb(t)},d.g.ub={getConfig:function(t,e){e(c.hasOwnProperty(t)?c[t]:null)},loadComponent:function(e,i,n){var o=l(e);a(o,i,function(i){t(e,o,i,n)})},loadTemplate:function(t,n,a){if(t=l(t),"string"==typeof n)a(d.a.ba(n));else if(n instanceof Array)a(n);else if(s(n))a(d.a.S(n.childNodes));else if(n.element)if(n=n.element,e.HTMLElement?n instanceof HTMLElement:n&&n.tagName&&1===n.nodeType)a(o(n));else if("string"==typeof n){var r=i.getElementById(n);r?a(o(r)):t("Cannot find element with ID "+n)}else t("Unknown element type: "+n);else t("Unknown template value: "+n)},loadViewModel:function(t,e,i){n(l(t),e,i)}};var u="createViewModel";d.b("components.register",d.g.tc),d.b("components.isRegistered",d.g.Qa),d.b("components.unregister",d.g.wc),d.b("components.defaultLoader",d.g.ub),d.g.loaders.push(d.g.ub),d.g.Ub=c}(),function(){function t(t,i){var n=t.getAttribute("params");if(n){var n=e.parseBindingsString(n,i,t,{valueAccessors:!0,bindingParams:!0}),n=d.a.na(n,function(e){return d.s(e,null,{o:t})}),o=d.a.na(n,function(e){return e.Z()?d.s(function(){return d.a.c(e())},null,{o:t}):e.v()});return o.hasOwnProperty("$raw")||(o.$raw=n),o}return{$raw:{}}}d.g.getComponentNameForNode=function(t){return t=d.a.t(t),d.g.Qa(t)&&t},d.g.mb=function(e,i,n,o){if(1===i.nodeType){var s=d.g.getComponentNameForNode(i);if(s){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var a={name:s,params:t(i,n)};e.component=o?function(){return a}:a}}return e};var e=new d.J;9>d.a.L&&(d.g.register=function(t){return function(e){return i.createElement(e),t.apply(this,arguments)}}(d.g.register),i.createDocumentFragment=function(t){return function(){var e,i=t(),n=d.g.Ub;for(e in n)n.hasOwnProperty(e)&&i.createElement(e);return i}}(i.createDocumentFragment))}(),function(){var t=0;d.d.component={init:function(e,i,n,o,s){function a(){var t=r&&r.dispose;"function"==typeof t&&t.call(r),l=null}var r,l;return d.a.w.da(e,a),d.s(function(){var n,o,c=d.a.c(i());if("string"==typeof c?n=c:(n=d.a.c(c.name),o=d.a.c(c.params)),!n)throw Error("No component name specified");var u=l=++t;d.g.get(n,function(t){if(l===u){if(a(),!t)throw Error("Unknown component '"+n+"'");var i=t.template;if(!i)throw Error("Component '"+n+"' has no template");i=d.a.ia(i),d.f.T(e,i);var i=o,c=t.createViewModel;t=c?c.call(t,i,{element:e}):i,i=s.createChildContext(t),r=t,d.Ca(i,e)}})},null,{o:e}),{controlsDescendantBindings:!0}}},d.f.Q.component=!0}();var b={"class":"className","for":"htmlFor"};d.d.attr={update:function(e,i){var n=d.a.c(i())||{};d.a.G(n,function(i,n){n=d.a.c(n);var o=!1===n||null===n||n===t;o&&e.removeAttribute(i),8>=d.a.L&&i in b?(i=b[i],o?e.removeAttribute(i):e[i]=n):o||e.setAttribute(i,n.toString()),"name"===i&&d.a.Mb(e,o?"":n.toString())})}},function(){d.d.checked={after:["value","attr"],init:function(e,i,n){function o(){var t=e.checked,o=h?a():t;if(!d.Y.ma()&&(!l||t)){var s=d.k.B(i);c?u!==o?(t&&(d.a.ea(s,o,!0),d.a.ea(s,u,!1)),u=o):d.a.ea(s,o,t):d.h.pa(s,n,"checked",o,!0)}}function s(){var t=d.a.c(i());e.checked=c?0<=d.a.m(t,a()):r?t:a()===t}var a=d.Ib(function(){return n.has("checkedValue")?d.a.c(n.get("checkedValue")):n.has("value")?d.a.c(n.get("value")):e.value}),r="checkbox"==e.type,l="radio"==e.type;if(r||l){var c=r&&d.a.c(i())instanceof Array,u=c?a():t,h=l||c;l&&!e.name&&d.d.uniqueName.init(e,function(){return!0}),d.s(o,null,{o:e}),d.a.n(e,"click",o),d.s(s,null,{o:e})}}},d.h.V.checked=!0,d.d.checkedValue={update:function(t,e){t.value=d.a.c(e())}}}(),d.d.css={update:function(t,e){var i=d.a.c(e());"object"==typeof i?d.a.G(i,function(e,i){i=d.a.c(i),d.a.Ba(t,e,i)}):(i=String(i||""),d.a.Ba(t,t.__ko__cssValue,!1),t.__ko__cssValue=i,d.a.Ba(t,i,!0))}},d.d.enable={update:function(t,e){var i=d.a.c(e());i&&t.disabled?t.removeAttribute("disabled"):i||t.disabled||(t.disabled=!0)}},d.d.disable={update:function(t,e){d.d.enable.update(t,function(){return!d.a.c(e())})}},d.d.event={init:function(t,e,i,n,o){var s=e()||{};d.a.G(s,function(s){"string"==typeof s&&d.a.n(t,s,function(t){var a,r=e()[s];if(r){try{var l=d.a.S(arguments);n=o.$data,l.unshift(n),a=r.apply(n,l)}finally{!0!==a&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===i.get(s+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},d.d.foreach={Eb:function(t){return function(){var e=t(),i=d.a.Xa(e);return i&&"number"!=typeof i.length?(d.a.c(e),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:d.O.Oa}):{foreach:e,templateEngine:d.O.Oa}}},init:function(t,e){return d.d.template.init(t,d.d.foreach.Eb(e))},update:function(t,e,i,n,o){return d.d.template.update(t,d.d.foreach.Eb(e),i,n,o)}},d.h.ha.foreach=!1,d.f.Q.foreach=!0,d.d.hasfocus={init:function(t,e,i){function n(n){t.__ko_hasfocusUpdating=!0;var o=t.ownerDocument;if("activeElement"in o){var s;try{s=o.activeElement}catch(a){s=o.body}n=s===t}o=e(),d.h.pa(o,i,"hasfocus",n,!0),t.__ko_hasfocusLastValue=n,t.__ko_hasfocusUpdating=!1}var o=n.bind(null,!0),s=n.bind(null,!1);d.a.n(t,"focus",o),d.a.n(t,"focusin",o),d.a.n(t,"blur",s),d.a.n(t,"focusout",s)},update:function(t,e){var i=!!d.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===i||(i?t.focus():t.blur(),d.k.B(d.a.oa,null,[t,i?"focusin":"focusout"]))}},d.h.V.hasfocus=!0,d.d.hasFocus=d.d.hasfocus,d.h.V.hasFocus=!0,d.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){d.a.$a(t,e())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,function(t,e){return t.createChildContext(e)});var y={};d.d.options={init:function(t){if("select"!==d.a.t(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,i,n){function o(){return d.a.ta(e.options,function(t){return t.selected})}function s(t,e,i){var n=typeof e;return"function"==n?e(t):"string"==n?t[e]:i}function a(t,i){if(h.length){var n=0<=d.a.m(h,d.i.q(i[0]));d.a.Nb(i[0],n),p&&!n&&d.k.B(d.a.oa,null,[e,"change"])}}var r=0!=e.length&&e.multiple?e.scrollTop:null,l=d.a.c(i()),c=n.get("optionsIncludeDestroyed");i={};var u,h;h=e.multiple?d.a.Da(o(),d.i.q):0<=e.selectedIndex?[d.i.q(e.options[e.selectedIndex])]:[],l&&("undefined"==typeof l.length&&(l=[l]),u=d.a.ta(l,function(e){return c||e===t||null===e||!d.a.c(e._destroy)}),n.has("optionsCaption")&&(l=d.a.c(n.get("optionsCaption")),null!==l&&l!==t&&u.unshift(y)));var p=!1;i.beforeRemove=function(t){e.removeChild(t)},l=a,n.has("optionsAfterRender")&&(l=function(e,i){a(0,i),d.k.B(n.get("optionsAfterRender"),null,[i[0],e!==y?e:t])}),d.a.Za(e,u,function(i,o,a){return a.length&&(h=a[0].selected?[d.i.q(a[0])]:[],p=!0),o=e.ownerDocument.createElement("option"),i===y?(d.a.bb(o,n.get("optionsCaption")),d.i.ca(o,t)):(a=s(i,n.get("optionsValue"),i),d.i.ca(o,d.a.c(a)),i=s(i,n.get("optionsText"),a),d.a.bb(o,i)),[o]},i,l),d.k.B(function(){n.get("valueAllowUnset")&&n.has("value")?d.i.ca(e,d.a.c(n.get("value")),!0):(e.multiple?h.length&&o().length<h.length:h.length&&0<=e.selectedIndex?d.i.q(e.options[e.selectedIndex])!==h[0]:h.length||0<=e.selectedIndex)&&d.a.oa(e,"change")}),d.a.dc(e),r&&20<Math.abs(r-e.scrollTop)&&(e.scrollTop=r)}},d.d.options.Va=d.a.e.F(),d.d.selectedOptions={after:["options","foreach"],init:function(t,e,i){d.a.n(t,"change",function(){var n=e(),o=[];d.a.u(t.getElementsByTagName("option"),function(t){t.selected&&o.push(d.i.q(t))}),d.h.pa(n,i,"selectedOptions",o)})},update:function(t,e){if("select"!=d.a.t(t))throw Error("values binding applies only to SELECT elements");var i=d.a.c(e());i&&"number"==typeof i.length&&d.a.u(t.getElementsByTagName("option"),function(t){var e=0<=d.a.m(i,d.i.q(t));d.a.Nb(t,e)})}},d.h.V.selectedOptions=!0,d.d.style={update:function(e,i){var n=d.a.c(i()||{});d.a.G(n,function(i,n){n=d.a.c(n),(null===n||n===t||!1===n)&&(n=""),e.style[i]=n})}},d.d.submit={init:function(t,e,i,n,o){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");d.a.n(t,"submit",function(i){var n,s=e();try{n=s.call(o.$data,t)}finally{!0!==n&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},d.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){d.a.bb(t,e())}},d.f.Q.text=!0,function(){if(e&&e.navigator)var i=function(t){return t?parseFloat(t[1]):void 0},n=e.opera&&e.opera.version&&parseInt(e.opera.version()),o=e.navigator.userAgent,s=i(o.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),a=i(o.match(/Firefox\/([^ ]*)/));if(10>d.a.L)var r=d.a.e.F(),l=d.a.e.F(),c=function(t){var e=this.activeElement;(e=e&&d.a.e.get(e,l))&&e(t)},u=function(t,e){var i=t.ownerDocument;d.a.e.get(i,r)||(d.a.e.set(i,r,!0),d.a.n(i,"selectionchange",c)),d.a.e.set(t,l,e)};d.d.textInput={init:function(e,i,o){function r(t,i){d.a.n(e,t,i)}function l(){var n=d.a.c(i());(null===n||n===t)&&(n=""),f!==t&&n===f?setTimeout(l,4):e.value!==n&&(m=n,e.value=n)}function c(){p||(f=e.value,p=setTimeout(h,4))}function h(){clearTimeout(p),f=p=t;var n=e.value;m!==n&&(m=n,d.h.pa(i(),o,"textInput",n))}var p,f,m=e.value;10>d.a.L?(r("propertychange",function(t){"value"===t.propertyName&&h()}),8==d.a.L&&(r("keyup",h),r("keydown",h)),8<=d.a.L&&(u(e,h),r("dragend",c))):(r("input",h),5>s&&"textarea"===d.a.t(e)?(r("keydown",c),r("paste",c),r("cut",c)):11>n?r("keydown",c):4>a&&(r("DOMAutoComplete",h),r("dragdrop",h),r("drop",h))),r("change",h),d.s(l,null,{o:e})}},d.h.V.textInput=!0,d.d.textinput={preprocess:function(t,e,i){i("textInput",t)}}}(),d.d.uniqueName={init:function(t,e){if(e()){var i="ko_unique_"+ ++d.d.uniqueName.Zb;d.a.Mb(t,i)}}},d.d.uniqueName.Zb=0,d.d.value={after:["options","foreach"],init:function(t,e,i){if("input"!=t.tagName.toLowerCase()||"checkbox"!=t.type&&"radio"!=t.type){var n=["change"],o=i.get("valueUpdate"),s=!1,a=null;o&&("string"==typeof o&&(o=[o]),d.a.ga(n,o),n=d.a.rb(n));var r=function(){a=null,s=!1;var n=e(),o=d.i.q(t);d.h.pa(n,i,"value",o)};!d.a.L||"input"!=t.tagName.toLowerCase()||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=d.a.m(n,"propertychange")||(d.a.n(t,"propertychange",function(){s=!0}),d.a.n(t,"focus",function(){s=!1}),d.a.n(t,"blur",function(){s&&r()})),d.a.u(n,function(e){var i=r;d.a.vc(e,"after")&&(i=function(){a=d.i.q(t),setTimeout(r,0)},e=e.substring(5)),d.a.n(t,e,i)});var l=function(){var n=d.a.c(e()),o=d.i.q(t);if(null!==a&&n===a)setTimeout(l,0);else if(n!==o)if("select"===d.a.t(t)){var s=i.get("valueAllowUnset"),o=function(){d.i.ca(t,n,s)};o(),s||n===d.i.q(t)?setTimeout(o,0):d.k.B(d.a.oa,null,[t,"change"]);
}else d.i.ca(t,n)};d.s(l,null,{o:t})}else d.ra(t,{checkedValue:e})},update:function(){}},d.h.V.value=!0,d.d.visible={update:function(t,e){var i=d.a.c(e()),n="none"!=t.style.display;i&&!n?t.style.display="":!i&&n&&(t.style.display="none")}},function(t){d.d[t]={init:function(e,i,n,o,s){return d.d.event.init.call(this,e,function(){var e={};return e[t]=i(),e},n,o,s)}}}("click"),d.H=function(){},d.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},d.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},d.H.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||i;var n=e.getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new d.r.l(n)}if(1==t.nodeType||8==t.nodeType)return new d.r.fa(t);throw Error("Unknown template type: "+t)},d.H.prototype.renderTemplate=function(t,e,i,n){return t=this.makeTemplateSource(t,n),this.renderTemplateSource(t,e,i)},d.H.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(t,e).data("isRewritten")},d.H.prototype.rewriteTemplate=function(t,e,i){t=this.makeTemplateSource(t,i),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},d.b("templateEngine",d.H),d.fb=function(){function t(t,e,i,n){t=d.h.Wa(t);for(var o=d.h.ha,s=0;s<t.length;s++){var a=t[s].key;if(o.hasOwnProperty(a)){var r=o[a];if("function"==typeof r){if(a=r(t[s].value))throw Error(a)}else if(!r)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+d.h.ya(t,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(t,e,i){e.isTemplateRewritten(t,i)||e.rewriteTemplate(t,function(t){return d.fb.nc(t,e)},i)},nc:function(n,o){return n.replace(e,function(e,i,n,s,a){return t(a,i,n,o)}).replace(i,function(e,i){return t(i,"<!-- ko -->","#comment",o)})},Xb:function(t,e){return d.D.Ua(function(i,n){var o=i.nextSibling;o&&o.nodeName.toLowerCase()===e&&d.ra(o,t,n)})}}}(),d.b("__tr_ambtns",d.fb.Xb),function(){d.r={},d.r.l=function(t){this.l=t},d.r.l.prototype.text=function(){var t=d.a.t(this.l),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var e=arguments[0];"innerHTML"===t?d.a.$a(this.l,e):this.l[t]=e};var e=d.a.e.F()+"_";d.r.l.prototype.data=function(t){return 1===arguments.length?d.a.e.get(this.l,e+t):void d.a.e.set(this.l,e+t,arguments[1])};var i=d.a.e.F();d.r.fa=function(t){this.l=t},d.r.fa.prototype=new d.r.l,d.r.fa.prototype.text=function(){if(0==arguments.length){var e=d.a.e.get(this.l,i)||{};return e.gb===t&&e.Ga&&(e.gb=e.Ga.innerHTML),e.gb}d.a.e.set(this.l,i,{gb:arguments[0]})},d.r.l.prototype.nodes=function(){return 0==arguments.length?(d.a.e.get(this.l,i)||{}).Ga:void d.a.e.set(this.l,i,{Ga:arguments[0]})},d.b("templateSources",d.r),d.b("templateSources.domElement",d.r.l),d.b("templateSources.anonymousTemplate",d.r.fa)}(),function(){function e(t,e,i){var n;for(e=d.f.nextSibling(e);t&&(n=t)!==e;)t=d.f.nextSibling(n),i(n,t)}function i(t,i){if(t.length){var n=t[0],o=t[t.length-1],s=n.parentNode,a=d.J.instance,r=a.preprocessNode;if(r){if(e(n,o,function(t,e){var i=t.previousSibling,s=r.call(a,t);s&&(t===n&&(n=s[0]||e),t===o&&(o=s[s.length-1]||i))}),t.length=0,!n)return;n===o?t.push(n):(t.push(n,o),d.a.ka(t,s))}e(n,o,function(t){1!==t.nodeType&&8!==t.nodeType||d.pb(i,t)}),e(n,o,function(t){1!==t.nodeType&&8!==t.nodeType||d.D.Sb(t,[i])}),d.a.ka(t,s)}}function n(t){return t.nodeType?t:0<t.length?t[0]:null}function o(t,e,o,a,r){r=r||{};var l=t&&n(t),l=l&&l.ownerDocument,c=r.templateEngine||s;if(d.fb.ec(o,c,l),o=c.renderTemplate(o,a,r,l),"number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,e){case"replaceChildren":d.f.T(t,o),l=!0;break;case"replaceNode":d.a.Lb(t,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return l&&(i(o,a),r.afterRender&&d.k.B(r.afterRender,null,[o,a.$data])),o}var s;d.ab=function(e){if(e!=t&&!(e instanceof d.H))throw Error("templateEngine must inherit from ko.templateEngine");s=e},d.Ya=function(e,i,a,r,l){if(a=a||{},(a.templateEngine||s)==t)throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",r){var c=n(r);return d.j(function(){var t=i&&i instanceof d.N?i:new d.N(d.a.c(i)),s=d.C(e)?e():"function"==typeof e?e(t.$data,t):e,t=o(r,l,s,t,a);"replaceNode"==l&&(r=t,c=n(r))},null,{Ia:function(){return!c||!d.a.Ja(c)},o:c&&"replaceNode"==l?c.parentNode:c})}return d.D.Ua(function(t){d.Ya(e,i,a,t,"replaceNode")})},d.uc=function(e,n,s,a,r){function l(t,e){i(e,u),s.afterRender&&s.afterRender(e,t)}function c(t,i){u=r.createChildContext(t,s.as,function(t){t.$index=i});var n=d.C(e)?e():"function"==typeof e?e(t,u):e;return o(null,"ignoreTargetNode",n,u,s)}var u;return d.j(function(){var e=d.a.c(n)||[];"undefined"==typeof e.length&&(e=[e]),e=d.a.ta(e,function(e){return s.includeDestroyed||e===t||null===e||!d.a.c(e._destroy)}),d.k.B(d.a.Za,null,[a,e,c,s,l])},null,{o:a})};var a=d.a.e.F();d.d.template={init:function(t,e){var i=d.a.c(e());return"string"==typeof i||i.name?d.f.ja(t):(i=d.f.childNodes(t),i=d.a.oc(i),new d.r.fa(t).nodes(i)),{controlsDescendantBindings:!0}},update:function(e,i,n,o,s){var r,l=i();i=d.a.c(l),n=!0,o=null,"string"==typeof i?i={}:(l=i.name,"if"in i&&(n=d.a.c(i["if"])),n&&"ifnot"in i&&(n=!d.a.c(i.ifnot)),r=d.a.c(i.data)),"foreach"in i?o=d.uc(l||e,n&&i.foreach||[],i,e,s):n?(s="data"in i?s.createChildContext(r,i.as):s,o=d.Ya(l||e,s,i,e)):d.f.ja(e),s=o,(r=d.a.e.get(e,a))&&"function"==typeof r.K&&r.K(),d.a.e.set(e,a,s&&s.Z()?s:t)}},d.h.ha.template=function(t){return t=d.h.Wa(t),1==t.length&&t[0].unknown||d.h.lc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},d.f.Q.template=!0}(),d.b("setTemplateEngine",d.ab),d.b("renderTemplate",d.Ya),d.a.wb=function(t,e,i){if(t.length&&e.length){var n,o,s,a,r;for(n=o=0;(!i||i>n)&&(a=t[o]);++o){for(s=0;r=e[s];++s)if(a.value===r.value){a.moved=r.index,r.moved=a.index,e.splice(s,1),n=s=0;break}n+=s}}},d.a.Fa=function(){function t(t,e,i,n,o){var s,a,r,l,c,u=Math.min,h=Math.max,p=[],f=t.length,m=e.length,g=m-f||1,v=f+m+1;for(s=0;f>=s;s++)for(l=r,p.push(r=[]),c=u(m,s+g),a=h(0,s-1);c>=a;a++)r[a]=a?s?t[s-1]===e[a-1]?l[a-1]:u(l[a]||v,r[a-1]||v)+1:a+1:s+1;for(u=[],h=[],g=[],s=f,a=m;s||a;)m=p[s][a]-1,a&&m===p[s][a-1]?h.push(u[u.length]={status:i,value:e[--a],index:a}):s&&m===p[s-1][a]?g.push(u[u.length]={status:n,value:t[--s],index:s}):(--a,--s,o.sparse||u.push({status:"retained",value:e[a]}));return d.a.wb(h,g,10*f),u.reverse()}return function(e,i,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],i=i||[],e.length<=i.length?t(e,i,"added","deleted",n):t(i,e,"deleted","added",n)}}(),d.b("utils.compareArrays",d.a.Fa),function(){function e(e,i,n,o,s){var a=[],r=d.j(function(){var t=i(n,s,d.a.ka(a,e))||[];0<a.length&&(d.a.Lb(a,t),o&&d.k.B(o,null,[n,t,s])),a.length=0,d.a.ga(a,t)},null,{o:e,Ia:function(){return!d.a.ob(a)}});return{$:a,j:r.Z()?r:t}}var i=d.a.e.F();d.a.Za=function(n,o,s,a,r){function l(t,e){w=h[e],v!==e&&(_[t]=w),w.Na(v++),d.a.ka(w.$,n),m.push(w),y.push(w)}function c(t,e){if(t)for(var i=0,n=e.length;n>i;i++)e[i]&&d.a.u(e[i].$,function(n){t(n,i,e[i].sa)})}o=o||[],a=a||{};var u=d.a.e.get(n,i)===t,h=d.a.e.get(n,i)||[],p=d.a.Da(h,function(t){return t.sa}),f=d.a.Fa(p,o,a.dontLimitMoves),m=[],g=0,v=0,b=[],y=[];o=[];for(var w,x,C,_=[],p=[],k=0;x=f[k];k++)switch(C=x.moved,x.status){case"deleted":C===t&&(w=h[g],w.j&&w.j.K(),b.push.apply(b,d.a.ka(w.$,n)),a.beforeRemove&&(o[k]=w,y.push(w))),g++;break;case"retained":l(k,g++);break;case"added":C!==t?l(k,C):(w={sa:x.value,Na:d.p(v++)},m.push(w),y.push(w),u||(p[k]=w))}c(a.beforeMove,_),d.a.u(b,a.beforeRemove?d.R:d.removeNode);for(var S,k=0,u=d.f.firstChild(n);w=y[k];k++){for(w.$||d.a.extend(w,e(n,s,w.sa,r,w.Na)),g=0;f=w.$[g];u=f.nextSibling,S=f,g++)f!==u&&d.f.Bb(n,f,S);!w.ic&&r&&(r(w.sa,w.$,w.Na),w.ic=!0)}c(a.beforeRemove,o),c(a.afterMove,_),c(a.afterAdd,p),d.a.e.set(n,i,m)}}(),d.b("utils.setDomNodeChildrenFromArrayMapping",d.a.Za),d.O=function(){this.allowTemplateRewriting=!1},d.O.prototype=new d.H,d.O.prototype.renderTemplateSource=function(t){var e=(9>d.a.L?0:t.nodes)?t.nodes():null;return e?d.a.S(e.cloneNode(!0).childNodes):(t=t.text(),d.a.ba(t))},d.O.Oa=new d.O,d.ab(d.O.Oa),d.b("nativeTemplateEngine",d.O),function(){d.Sa=function(){var t=this.kc=function(){if(!o||!o.tmpl)return 0;try{if(0<=o.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,n,s){if(s=s||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=e.data("precompiled");return a||(a=e.text()||"",a=o.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),e.data("precompiled",a)),e=[n.$data],n=o.extend({koBindingContext:n},s.templateOptions),n=o.tmpl(a,e,n),n.appendTo(i.createElement("div")),o.fragments={},n},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){i.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},t>0&&(o.tmpl.tag.ko_code={open:"__.push($1 || '');"},o.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},d.Sa.prototype=new d.H;var t=new d.Sa;0<t.kc&&d.ab(t),d.b("jqueryTmplTemplateEngine",d.Sa)}()})}()}(),define("KOAmd",["knockout"],function(t){var e=window.requirejs||window.require||window.curl,i=t.utils.unwrapObservable,n=function(t,e){var i,n=function(){return t.apply(this,e||[])};return n.prototype=t.prototype,i=new n,i.constructor=t,i},o=function(t){return t&&t.replace(/\/?$/,"/")},s=function(e){for(var i=t.virtualElements.firstChild(e);i;){if(1===i.nodeType||8===i.nodeType)return!0;i=t.virtualElements.nextSibling(i)}return!1};t.bindingHandlers.module={init:function(a,r,l,c,u){var h,d,p=i(r()),f={},m=t.bindingHandlers.module.initializer,g=t.bindingHandlers.module.disposeMethod;return f.templateEngine=p&&p.templateEngine,f.templateProperty=t.bindingHandlers.module.templateProperty,f.afterRender=function(){var t=i(r());t&&"function"==typeof t.afterRender&&t.afterRender.apply(this,arguments)},s(a)||(f.name=function(){var t=i(r());return(t&&"object"==typeof t?i(t.template||t.name):t)||""}),f.data=t.observable(),f["if"]=f.data,t.applyBindingsToNode(a,{template:f},h=u.extend({$module:null})),d=function(){t.computed(function(){var t=f.data();t&&("function"==typeof t[g]&&(t[g].call(t),t=null),f.data(null))}).dispose()},t.computed({read:function(){var s,a=i(r());a&&"object"==typeof a&&(m=a.initializer||m,g=a.disposeMethod||g,f.templateProperty=t.unwrap(a.templateProperty)||f.templateProperty,s=[].concat(i(a.data)),a=i(a.name)),d(),a&&e([o(t.bindingHandlers.module.baseDir)+a],function(t){"function"==typeof t?t=n(t,s):t&&t[m]&&(t=t[m].apply(t,s||[])||t),h.$module=t,f.data(t)})},disposeWhenNodeIsRemoved:a}),t.utils.domNodeDisposal.addDisposeCallback(a,d),{controlsDescendantBindings:!0}},baseDir:"",initializer:"initialize",disposeMethod:"dispose",templateProperty:""},t.virtualElements&&(t.virtualElements.allowedBindings.module=!0),function(t,e){var i=new t.nativeTemplateEngine,n={};i.defaultPath="templates",i.defaultSuffix=".tmpl.html",i.defaultRequireTextPluginName="text",t.templateSources.requireTemplate=function(e){this.key=e,this.template=t.observable(" "),this.requested=!1,this.retrieved=!1},t.templateSources.requireTemplate.prototype.text=function(t){return!this.requested&&this.key&&(e([i.defaultRequireTextPluginName+"!"+o(i.defaultPath)+this.key+i.defaultSuffix],function(t){this.retrieved=!0,this.template(t)}.bind(this)),this.requested=!0),this.key||this.template(""),0===arguments.length?this.template():void 0},i.makeTemplateSource=function(e,i){var o;return"string"==typeof e?(o=(i||document).getElementById(e),o&&"script"===o.tagName.toLowerCase()?new t.templateSources.domElement(o):(e in n||(n[e]=new t.templateSources.requireTemplate(e)),n[e])):!e||1!==e.nodeType&&8!==e.nodeType?void 0:new t.templateSources.anonymousTemplate(e)},i.renderTemplate=function(e,n,o,s){var a,r=o&&o.afterRender,l=o&&o.templateProperty&&n.$module&&n.$module[o.templateProperty];return a=!l||"function"!=typeof l&&"string"!=typeof l?i.makeTemplateSource(e,s):{text:function(){return"function"==typeof l?l.call(n.$module):l}},"function"==typeof r&&a instanceof t.templateSources.requireTemplate&&!a.retrieved&&(o.afterRender=function(){a.retrieved&&r.apply(this,arguments)}),i.renderTemplateSource(a,n,o)},t.amdTemplateEngine=i,t.setTemplateEngine(i)}(t,e)}),define("text",["module"],function(t){"use strict";var e,i,n,o,s,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),h=c&&location.hostname,d=c&&(location.port||void 0),p={},f=t.config&&t.config()||{};return e={version:"2.0.12",strip:function(t){if(t){t=t.replace(r,"");var e=t.match(l);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=a[e];try{t=new ActiveXObject(i)}catch(n){}if(t){a=[i];break}}return t},parseName:function(t){var e,i,n,o=!1,s=t.indexOf("."),a=0===t.indexOf("./")||0===t.indexOf("../");return-1!==s&&(!a||s>1)?(e=t.substring(0,s),i=t.substring(s+1,t.length)):e=t,n=i||e,s=n.indexOf("!"),-1!==s&&(o="strip"===n.substring(s+1),n=n.substring(0,s),i?i=n:e=n),{moduleName:e,ext:i,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,o){var s,a,r,l=e.xdRegExp.exec(t);return l?(s=l[2],a=l[3],a=a.split(":"),r=a[1],a=a[0],!(s&&s!==i||a&&a.toLowerCase()!==n.toLowerCase()||(r||a)&&r!==o)):!0},finishLoad:function(t,i,n,o){n=i?e.strip(n):n,f.isBuild&&(p[t]=n),o(n)},load:function(t,i,n,o){if(o&&o.isBuild&&!o.inlineText)return void n();f.isBuild=o&&o.isBuild;var s=e.parseName(t),a=s.moduleName+(s.ext?"."+s.ext:""),r=i.toUrl(a),l=f.useXhr||e.useXhr;return 0===r.indexOf("empty:")?void n():void(!c||l(r,u,h,d)?e.get(r,function(i){e.finishLoad(t,s.strip,i,n)},function(t){n.error&&n.error(t)}):i([a],function(t){e.finishLoad(s.moduleName+"."+s.ext,s.strip,t,n)}))},write:function(t,i,n,o){if(p.hasOwnProperty(i)){var s=e.jsEscape(p[i]);n.asModule(t+"!"+i,"define(function () { return '"+s+"';});\n")}},writeFile:function(t,i,n,o,s){var a=e.parseName(i),r=a.ext?"."+a.ext:"",l=a.moduleName+r,c=n.toUrl(a.moduleName+r)+".js";e.load(l,n,function(i){var n=function(t){return o(c,t)};n.asModule=function(t,e){return o.asModule(t,c,e)},e.write(t,l,n,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var o=i.readFileSync(t,"utf8");0===o.indexOf("\ufeff")&&(o=o.substring(1)),e(o)}catch(s){n&&n(s)}}):"xhr"===f.env||!f.env&&e.createXhr()?e.get=function(t,i,n,o){var s,a=e.createXhr();if(a.open("GET",t,!0),o)for(s in o)o.hasOwnProperty(s)&&a.setRequestHeader(s.toLowerCase(),o[s]);f.onXhr&&f.onXhr(a,t),a.onreadystatechange=function(e){var o,s;4===a.readyState&&(o=a.status||0,o>399&&600>o?(s=new Error(t+" HTTP status: "+o),s.xhr=a,n&&n(s)):i(a.responseText),f.onXhrComplete&&f.onXhrComplete(a,t))},a.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,o="utf-8",s=new java.io.File(t),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),o)),l="";try{for(i=new java.lang.StringBuffer,n=r.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(a),i.append(n);l=String(i.toString())}finally{r.close()}e(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,a,r,l={};s&&(t=t.replace(/\//g,"\\")),r=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),i.init(r,1,0,!1),a=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),a.init(i,"utf-8",i.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(i.available(),l),a.close(),i.close(),e(l.value)}catch(c){throw new Error((r&&r.path||"")+": "+c)}}),e}),function(t,e){var i=[].slice,n={};t.amplify={publish:function(t){if("string"!=typeof t)throw new Error("You must provide a valid topic to publish.");var e,o,s,a,r=i.call(arguments,1),l=0;if(!n[t])return!0;for(e=n[t].slice(),s=e.length;s>l&&(o=e[l],a=o.callback.apply(o.context,r),a!==!1);l++);return a!==!1},subscribe:function(t,e,i,o){if("string"!=typeof t)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof i&&(o=i,i=e,e=null),2===arguments.length&&(i=e,e=null),o=o||10;for(var s,a=0,r=t.split(/\s/),l=r.length;l>a;a++){t=r[a],s=!1,n[t]||(n[t]=[]);for(var c=n[t].length-1,u={callback:i,context:e,priority:o};c>=0;c--)if(n[t][c].priority<=o){n[t].splice(c+1,0,u),s=!0;break}s||n[t].unshift(u)}return i},unsubscribe:function(t,e,i){if("string"!=typeof t)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(i=e,e=null),n[t])for(var o=n[t].length,s=0;o>s;s++)n[t][s].callback===i&&(e&&n[t][s].context!==e||(n[t].splice(s,1),s--,o--))}}}(this),function(t,e){function i(t,i){n.addType(t,function(s,a,r){var l,c,u,h,d=a,p=(new Date).getTime();if(!s){d={},h=[],u=0;try{for(s=i.length;s=i.key(u++);)o.test(s)&&(c=JSON.parse(i.getItem(s)),c.expires&&c.expires<=p?h.push(s):d[s.replace(o,"")]=c.data);for(;s=h.pop();)i.removeItem(s)}catch(f){}return d}if(s="__amplify__"+s,a===e){if(l=i.getItem(s),c=l?JSON.parse(l):{expires:-1},!(c.expires&&c.expires<=p))return c.data;i.removeItem(s)}else if(null===a)i.removeItem(s);else{c=JSON.stringify({data:a,expires:r.expires?p+r.expires:null});try{i.setItem(s,c)}catch(f){n[t]();try{i.setItem(s,c)}catch(f){throw n.error()}}}return d})}var n=t.store=function(t,e,i){var o=n.type;return i&&i.type&&i.type in n.types&&(o=i.type),n.types[o](t,e,i||{})};n.types={},n.type=null,n.addType=function(t,e){n.type||(n.type=t),n.types[t]=e,n[t]=function(e,i,o){return o=o||{},o.type=t,n(e,i,o)}},n.error=function(){return"amplify.store quota exceeded"};var o=/^__amplify__/;for(var s in{localStorage:1,sessionStorage:1})try{window[s].setItem("__amplify__","x"),window[s].removeItem("__amplify__"),i(s,window[s])}catch(a){}if(!n.types.localStorage&&window.globalStorage)try{i("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===n.type&&(n.type="globalStorage")}catch(a){}!function(){if(!n.types.localStorage){var t=document.createElement("div"),i="amplify";t.style.display="none",document.getElementsByTagName("head")[0].appendChild(t);try{t.addBehavior("#default#userdata"),t.load(i)}catch(o){return void t.parentNode.removeChild(t)}n.addType("userData",function(o,s,a){t.load(i);var r,l,c,u,h,d=s,p=(new Date).getTime();if(!o){for(d={},h=[],u=0;r=t.XMLDocument.documentElement.attributes[u++];)l=JSON.parse(r.value),l.expires&&l.expires<=p?h.push(r.name):d[r.name]=l.data;for(;o=h.pop();)t.removeAttribute(o);return t.save(i),d}if(o=o.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),o=o.replace(/^-/,"_-"),s===e){if(r=t.getAttribute(o),l=r?JSON.parse(r):{expires:-1},!(l.expires&&l.expires<=p))return l.data;t.removeAttribute(o)}else null===s?t.removeAttribute(o):(c=t.getAttribute(o),l=JSON.stringify({data:s,expires:a.expires?p+a.expires:null}),t.setAttribute(o,l));try{t.save(i)}catch(f){null===c?t.removeAttribute(o):t.setAttribute(o,c),n.userData();try{t.setAttribute(o,l),t.save(i)}catch(f){throw null===c?t.removeAttribute(o):t.setAttribute(o,c),n.error()}}return d})}}(),function(){function t(t){return t===e?e:JSON.parse(JSON.stringify(t))}var i={},o={};n.addType("memory",function(n,s,a){return n?s===e?t(i[n]):(o[n]&&(clearTimeout(o[n]),delete o[n]),null===s?(delete i[n],null):(i[n]=s,a.expires&&(o[n]=setTimeout(function(){delete i[n],delete o[n]},a.expires)),s)):t(i)})}()}(this.amplify=this.amplify||{}),function(t,e){"use strict";function i(){}function n(t){return"[object Function]"==={}.toString.call(t)}function o(t){var e=!1;return setTimeout(function(){e=!0},1),function(){var i=this,n=arguments;e?t.apply(i,n):setTimeout(function(){t.apply(i,n)},1)}}t.request=function(e,s,a){var r=e||{};"string"==typeof r&&(n(s)&&(a=s,s={}),r={resourceId:e,data:s||{},success:a});var l={abort:i},c=t.request.resources[r.resourceId],u=r.success||i,h=r.error||i;if(r.success=o(function(e,i){i=i||"success",t.publish("request.success",r,e,i),t.publish("request.complete",r,e,i),u(e,i)}),r.error=o(function(e,i){i=i||"error",t.publish("request.error",r,e,i),t.publish("request.complete",r,e,i),h(e,i)}),!c){if(!r.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+r.resourceId}return t.publish("request.before",r)?(t.request.resources[r.resourceId](r,l),l):void r.error(null,"abort")},t.request.types={},t.request.resources={},t.request.define=function(e,i,n){if("string"==typeof i){if(!(i in t.request.types))throw"amplify.request.define: unknown type: "+i;n.resourceId=e,t.request.resources[e]=t.request.types[i](n)}else t.request.resources[e]=i}}(amplify),function(t,e,i){"use strict";var n=["status","statusText","responseText","responseXML","readyState"],o=/\{([^\}]+)\}/g;t.request.types.ajax=function(o){return o=e.extend({type:"GET"},o),function(s,a){var r,l,c=(o.url,a.abort),u=e.extend(!0,{},o,{data:s.data}),h=!1,d={readyState:0,setRequestHeader:function(t,e){return r.setRequestHeader(t,e)},getAllResponseHeaders:function(){return r.getAllResponseHeaders()},getResponseHeader:function(t){return r.getResponseHeader(t)},overrideMimeType:function(t){return r.overrideMimeType(t)},abort:function(){h=!0;try{r.abort()}catch(t){}l(null,"abort")},success:function(t,e){s.success(t,e)},error:function(t,e){s.error(t,e)}};l=function(t,o){e.each(n,function(t,e){try{d[e]=r[e]}catch(i){}}),/OK$/.test(d.statusText)&&(d.statusText="success"),t===i&&(t=null),h&&(o="abort"),/timeout|error|abort/.test(o)?d.error(t,o):d.success(t,o),l=e.noop},t.publish("request.ajax.preprocess",o,s,u,d),e.extend(u,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;var t="callback";this.hasOwnProperty("jsonp")&&(this.jsonp!==!1?t=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(t=this.jsonpCallback));var e=new RegExp("&?"+t+"=[^&]*&?","gi");return this.url.replace(e,"")},success:function(t,e){l(t,e)},error:function(t,e){l(null,e)},beforeSend:function(e,i){r=e,u=i;var n=o.beforeSend?o.beforeSend.call(this,d,u):!0;return n&&t.publish("request.before.ajax",o,s,u,d)}}),u.cache&&u.isJSONP()&&e.extend(u,{cache:!0}),e.ajax(u),a.abort=function(){d.abort(),c.call(this)}}},t.subscribe("request.ajax.preprocess",function(t,i,n){var s=[],a=n.data;"string"!=typeof a&&(a=e.extend(!0,{},t.data,a),n.url=n.url.replace(o,function(t,e){return e in a?(s.push(e),a[e]):void 0}),e.each(s,function(t,e){delete a[e]}),n.data=a)}),t.subscribe("request.ajax.preprocess",function(t,i,n){var o=n.data,s=t.dataMap;s&&"string"!=typeof o&&(e.isFunction(s)?n.data=s(o):(e.each(t.dataMap,function(t,e){t in o&&(o[e]=o[t],delete o[t])}),n.data=o))});var s=t.request.cache={_key:function(t,e,i){function n(){return i.charCodeAt(s++)<<24|i.charCodeAt(s++)<<16|i.charCodeAt(s++)<<8|i.charCodeAt(s++)<<0}i=e+i;for(var o=i.length,s=0,a=n();o>s;)a^=n();return"request-"+t+"-"+a},_default:function(){var t={};return function(e,i,n,o){var a=s._key(i.resourceId,n.cacheURL(),n.data),r=e.cache;if(a in t)return o.success(t[a]),!1;var l=o.success;o.success=function(e){t[a]=e,"number"==typeof r&&setTimeout(function(){delete t[a]},r),l.apply(this,arguments)}}}()};t.store&&(e.each(t.store.types,function(e){s[e]=function(i,n,o,a){var r=s._key(n.resourceId,o.cacheURL(),o.data),l=t.store[e](r);if(l)return o.success(l),!1;var c=a.success;a.success=function(n){t.store[e](r,n,{expires:i.cache.expires}),c.apply(this,arguments)}}}),s.persist=s[t.store.type]),t.subscribe("request.before.ajax",function(t){var e=t.cache;return e?(e=e.type||e,s[e in s?e:"_default"].apply(this,arguments)):void 0}),t.request.decoders={jsend:function(t,e,i,n,o){"success"===t.status?n(t.data):"fail"===t.status?o(t.data,"fail"):"error"===t.status?(delete t.status,o(t,"error")):o(null,"error")}},t.subscribe("request.before.ajax",function(i,n,o,s){function a(t,e){l(t,e)}function r(t,e){c(t,e)}var l=s.success,c=s.error,u=e.isFunction(i.decoder)?i.decoder:i.decoder in t.request.decoders?t.request.decoders[i.decoder]:t.request.decoders._default;u&&(s.success=function(t,e){u(t,e,s,a,r)},s.error=function(t,e){u(t,e,s,a,r)})})}(amplify,jQuery),define("amplify",["jquery"],function(t){return function(){var e;return e||t.amplify}}(this)),function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(require("knockout"),exports):"function"==typeof define&&define.amd?define("KOMap",["knockout","exports"],t):t(ko,ko.mapping={})}(function(t,e){function i(){for(var t,e,i,n=arguments,o=n.length,s={},a=[];o--;)for(i=n[o],t=i.length;t--;)e=i[t],s[e]||(s[e]=1,a.push(e));return a}function n(t,o){var s;for(var a in o)if(o.hasOwnProperty(a)&&o[a])if(s=e.getType(t[a]),a&&t[a]&&"array"!==s&&"string"!==s)n(t[a],o[a]);else{var r="array"===e.getType(t[a])&&"array"===e.getType(o[a]);r?t[a]=i(t[a],o[a]):t[a]=o[a]}}function o(t,e){var i={};return n(i,t),n(i,e),i}function s(t,e){for(var i=o({},t),n=k.length-1;n>=0;n--){var s=k[n];i[s]&&(i[""]instanceof Object||(i[""]={}),i[""][s]=i[s],delete i[s])}return e&&(i.ignore=a(e.ignore,i.ignore),i.include=a(e.include,i.include),i.copy=a(e.copy,i.copy),i.observe=a(e.observe,i.observe)),i.ignore=a(i.ignore,D.ignore),i.include=a(i.include,D.include),i.copy=a(i.copy,D.copy),i.observe=a(i.observe,D.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function a(i,n){return"array"!==e.getType(i)&&(i="undefined"===e.getType(i)?[]:[i]),"array"!==e.getType(n)&&(n="undefined"===e.getType(n)?[]:[n]),t.utils.arrayGetDistinctValues(i.concat(n))}function r(e,i){var n=t.dependentObservable;t.dependentObservable=function(i,n,o){o=o||{},i&&"object"==typeof i&&(o=i);var s=o.deferEvaluation,a=!1,r=function(i){var n=t.dependentObservable;t.dependentObservable=C;var o=t.isWriteableObservable(i);t.dependentObservable=n;var s=C({read:function(){return a||(t.utils.arrayRemoveItem(e,i),a=!0),i.apply(i,arguments)},write:o&&function(t){return i(t)},deferEvaluation:!0});return w&&(s._wrapper=!0),s.__DO=i,s};o.deferEvaluation=!0;var l=new C(i,n,o);return s||(l=r(l),e.push(l)),l},t.dependentObservable.fn=C.fn,t.computed=t.dependentObservable;var o=i();return t.dependentObservable=n,t.computed=t.dependentObservable,o}function l(i,n,s,a,u,m,g){var v="array"===e.getType(t.utils.unwrapObservable(n));if(m=m||"",e.isMapped(i)){var w=t.utils.unwrapObservable(i)[x];s=o(w,s)}var C={data:n,parent:g||u},_=function(){return s[a]&&s[a].create instanceof Function},k=function(e){return r(b,function(){return t.utils.unwrapObservable(u)instanceof Array?s[a].create({data:e||C.data,parent:C.parent,skip:S}):s[a].create({data:e||C.data,parent:C.parent})})},T=function(){return s[a]&&s[a].update instanceof Function},D=function(e,i){var n={data:i||C.data,parent:C.parent,target:t.utils.unwrapObservable(e)};return t.isWriteableObservable(e)&&(n.observable=e),s[a].update(n)},A=y.get(n);if(A)return A;if(a=a||"",v){var I=[],E=!1,O=function(t){return t};s[a]&&s[a].key&&(O=s[a].key,E=!0),t.isObservable(i)||(i=t.observableArray([]),i.mappedRemove=function(t){var e="function"==typeof t?t:function(e){return e===O(t)};return i.remove(function(t){return e(O(t))})},i.mappedRemoveAll=function(e){var n=d(e,O);return i.remove(function(e){return-1!=t.utils.arrayIndexOf(n,O(e))})},i.mappedDestroy=function(t){var e="function"==typeof t?t:function(e){return e===O(t)};return i.destroy(function(t){return e(O(t))})},i.mappedDestroyAll=function(e){var n=d(e,O);return i.destroy(function(e){return-1!=t.utils.arrayIndexOf(n,O(e))})},i.mappedIndexOf=function(e){var n=d(i(),O),o=O(e);return t.utils.arrayIndexOf(n,o)},i.mappedGet=function(t){return i()[i.mappedIndexOf(t)]},i.mappedCreate=function(e){if(-1!==i.mappedIndexOf(e))throw new Error("There already is an object with the key that you specified.");var n=_()?k(e):e;if(T()){var o=D(n,e);t.isWriteableObservable(n)?n(o):n=o}return i.push(n),n});var P=d(t.utils.unwrapObservable(i),O).sort(),M=d(n,O);E&&M.sort();var N,L,R=t.utils.compareArrays(P,M),$={},F=t.utils.unwrapObservable(n),B={},H=!0;for(N=0,L=F.length;L>N;N++){var j=O(F[N]);if(void 0===j||j instanceof Object){H=!1;break}B[j]=F[N]}var W=[],V=0;for(N=0,L=R.length;L>N;N++){var z,j=R[N],U=m+"["+N+"]";switch(j.status){case"added":var q=H?B[j.value]:h(t.utils.unwrapObservable(n),j.value,O);z=l(void 0,q,s,a,i,U,u),_()||(z=t.utils.unwrapObservable(z));var Y=c(t.utils.unwrapObservable(n),q,$);z===S?V++:W[Y-V]=z,$[Y]=!0;break;case"retained":var q=H?B[j.value]:h(t.utils.unwrapObservable(n),j.value,O);z=h(i,j.value,O),l(z,q,s,a,i,U,u);var Y=c(t.utils.unwrapObservable(n),q,$);W[Y]=z,$[Y]=!0;break;case"deleted":z=h(i,j.value,O)}I.push({event:j.status,item:z})}i(W),s[a]&&s[a].arrayChanged&&t.utils.arrayForEach(I,function(t){s[a].arrayChanged(t.event,t.item)})}else if(f(n)){if(i=t.utils.unwrapObservable(i),!i){if(_()){var J=k();return T()&&(J=D(J)),J}if(T())return D(J);i={}}if(T()&&(i=D(i)),y.save(n,i),T())return i;p(n,function(e){var o=m.length?m+"."+e:e;if(-1==t.utils.arrayIndexOf(s.ignore,o)){if(-1!=t.utils.arrayIndexOf(s.copy,o))return void(i[e]=n[e]);if("object"!=typeof n[e]&&"array"!=typeof n[e]&&s.observe.length>0&&-1==t.utils.arrayIndexOf(s.observe,o))return i[e]=n[e],void(s.copiedProperties[o]=!0);var a=y.get(n[e]),r=l(i[e],n[e],s,e,i,o,i),c=a||r;if(s.observe.length>0&&-1==t.utils.arrayIndexOf(s.observe,o))return i[e]=t.utils.unwrapObservable(c),void(s.copiedProperties[o]=!0);t.isWriteableObservable(i[e])?(c=t.utils.unwrapObservable(c),i[e]()!==c&&i[e](c)):(c=void 0===i[e]?c:t.utils.unwrapObservable(c),i[e]=c),s.mappedProperties[o]=!0}})}else switch(e.getType(n)){case"function":T()?t.isWriteableObservable(n)?(n(D(n)),i=n):i=D(n):i=n;break;default:if(t.isWriteableObservable(i)){if(T()){var G=D(i);return i(G),G}var G=t.utils.unwrapObservable(n);return i(G),G}var K=_()||T();if(i=_()?k():t.observable(t.utils.unwrapObservable(n)),T()&&i(D(i)),K)return i}return i}function c(t,e,i){for(var n=0,o=t.length;o>n;n++)if(i[n]!==!0&&t[n]===e)return n;return null}function u(i,n){var o;return n&&(o=n(i)),"undefined"===e.getType(o)&&(o=i),t.utils.unwrapObservable(o)}function h(e,i,n){e=t.utils.unwrapObservable(e);for(var o=0,s=e.length;s>o;o++){var a=e[o];if(u(a,n)===i)return a}throw new Error("When calling ko.update*, the key '"+i+"' was not found!")}function d(e,i){return t.utils.arrayMap(t.utils.unwrapObservable(e),function(t){
return i?u(t,i):t})}function p(t,i){if("array"===e.getType(t))for(var n=0;n<t.length;n++)i(n);else for(var o in t)i(o)}function f(t){var i=e.getType(t);return("object"===i||"array"===i)&&null!==t}function m(t,i,n){var o=t||"";return"array"===e.getType(i)?t&&(o+="["+n+"]"):(t&&(o+="."),o+=n),o}function g(){var e=[],i=[];this.save=function(n,o){var s=t.utils.arrayIndexOf(e,n);s>=0?i[s]=o:(e.push(n),i.push(o))},this.get=function(n){var o=t.utils.arrayIndexOf(e,n),s=o>=0?i[o]:void 0;return s}}function v(){var t={},e=function(e){var i;try{i=e}catch(n){i="$$$"}var o=t[i];return void 0===o&&(o=new g,t[i]=o),o};this.save=function(t,i){e(t).save(t,i)},this.get=function(t){return e(t).get(t)}}var b,y,w=!0,x="__ko_mapping__",C=t.dependentObservable,_=0,k=["create","update","key","arrayChanged"],S={},T={include:["_destroy"],ignore:[],copy:[],observe:[]},D=T;e.isMapped=function(e){var i=t.utils.unwrapObservable(e);return i&&i[x]},e.fromJS=function(t){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{_++||(b=[],y=new v);var e,i;2==arguments.length&&(arguments[1][x]?i=arguments[1]:e=arguments[1]),3==arguments.length&&(e=arguments[1],i=arguments[2]),i&&(e=o(e,i[x])),e=s(e);var n=l(i,t,e);if(i&&(n=i),!--_)for(;b.length;){var a=b.pop();a&&(a(),a.__DO.throttleEvaluation=a.throttleEvaluation)}return n[x]=o(n[x],e),n}catch(r){throw _=0,r}},e.fromJSON=function(i){var n=t.utils.parseJson(i);return arguments[0]=n,e.fromJS.apply(this,arguments)},e.updateFromJS=function(t){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},e.updateFromJSON=function(t){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},e.toJS=function(i,n){if(D||e.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==e.getType(D.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==e.getType(D.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==e.getType(D.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return n=s(n,i[x]),e.visitModel(i,function(e){return t.utils.unwrapObservable(e)},n)},e.toJSON=function(i,n){var o=e.toJS(i,n);return t.utils.stringifyJson(o)},e.defaultOptions=function(){return arguments.length>0?void(D=arguments[0]):D},e.resetDefaultOptions=function(){D={include:T.include.slice(0),ignore:T.ignore.slice(0),copy:T.copy.slice(0),observe:T.observe.slice(0)}},e.getType=function(t){if(t&&"object"==typeof t){if(t.constructor===Date)return"date";if(t.constructor===Array)return"array"}return typeof t},e.visitModel=function(i,n,o){o=o||{},o.visitedObjects=o.visitedObjects||new v;var a,r=t.utils.unwrapObservable(i);if(!f(r))return n(i,o.parentName);o=s(o,r[x]),n(i,o.parentName),a="array"===e.getType(r)?[]:{},o.visitedObjects.save(i,a);var l=o.parentName;return p(r,function(i){if(!o.ignore||-1==t.utils.arrayIndexOf(o.ignore,i)){var s=r[i];if(o.parentName=m(l,r,i),-1!==t.utils.arrayIndexOf(o.copy,i)||-1!==t.utils.arrayIndexOf(o.include,i)||!r[x]||!r[x].mappedProperties||r[x].mappedProperties[i]||!r[x].copiedProperties||r[x].copiedProperties[i]||"array"===e.getType(r)){switch(e.getType(t.utils.unwrapObservable(s))){case"object":case"array":case"undefined":var c=o.visitedObjects.get(s);a[i]="undefined"!==e.getType(c)?c:e.visitModel(s,n,o);break;default:a[i]=n(s,o.parentName)}}}}),a}}),define("model/claim",[],function(){function t(){this._id=void 0,this.fileNum=void 0,this.description=void 0,this.isClosed=!1,this.dateReceived=void 0,this.dateClosed=void 0,this.dateDue=void 0,this.dateOfLoss=void 0,this.updateDate=void 0,this.entryDate=void 0,this.locationStreetAddress=void 0,this.locationCity=void 0,this.locationZip=void 0,this.insuredContact=void 0,this.insuredContactId=void 0,this.insuredAttorneyContact=void 0,this.insuredAttorneyContactId=void 0,this.claimantContact=void 0,this.claimantContactId=void 0,this.claimantsAttorneyContact=void 0,this.claimantsAttorneyContactId=void 0,this.insuranceCoContactId=void 0,this.insuranceCoContact=void 0,this.otherContacts=[],this.otherContactIds=[],this.insuranceCompanyFileNum=void 0,this.insuranceCompanyName=void 0,this.state=void 0}return t}),define("model/claimEntry",[],function(){function t(){this._id=void 0,this.claimId=void 0,this.tag=[],this.isClosed=!1,this.displayOrder,this.entryDate=void 0,this.dueDate=void 0,this.updateDate=void 0,this.summary=void 0,this.description=void 0,this.attachments=[],this.state=void 0,this.location=void 0,this.billingItem=void 0}return t}),define("model/states",[],function(){return{TODO:"ToDo",Complete:"Complete",Pending:"Pending",None:"None"}}),define("app/utils/events",[],function(){return{CLAIMS_GRID_SELCTION:"GridSelection",SHOW_CLAIMS_LIST:"ShowClaimsList",CLAIMS_LIST_STATUS_CHANGE:"CLAIMS_LIST_STATUS_CHANGE",SHOW_DASHBOARD:"ShowDashboard",SHOW_WELCOME_MSG:"SHOW_WELCOME_MSG",SHOW_CONTACT:"SHOW_CONTACT",SHOW_CONTACTS:"SHOW_CONTACTS",ADD_CONTACT:"ADD_CONTACT",ADDED_CONTACT:"ADDED_CONTACT",INIT_CONTACTS_CACHE:"INIT_CONTACTS_CACHE",SHOW_TRAVEL:"SHOW_TRAVEL",EXPAND_CLAIM_PANEL:"ExpandClaimPanel",COLLAPSE_CLAIM_PANEL:"CollapseClaimPanel",PARTIALLY_COLlAPSE_CLAIM_PANEL:"PartiallyCollapseClaimPanel",SHOW_CLAIM:"ShowClaim",NEW_CLAIM:"AddClaim",SAVED_CLAIM:"SavedClaim",SELECT_CLAIM:"SELECT_CLAIM",SELECTED_CLAIM:"SELECTED_CLAIM",SHOW_CLAIM_ENTRY:"ShowClaimEntry",NEW_CLAIM_ENTRY:"NewClaimEntry",SAVED_CLAIM_ENTRY:"SavedClaimEntry",UPDATE_CLAIM_ENTRY_STATUS:"UpdateClaimEntryStatus",SHOW_BILLING:"SHOW_BILLING",SUCCESS_NOTIFICATION:"SuccessNotification",FAILURE_NOTIFICATION:"FailureNotification",INFO_NOTIFICATION:"InfoNotification",CREATE_NEW_BILL:"CREATE_NEW_BILL",SAVED_BILL:"SAVED_BILL",SHOW_BILL:"SHOW_BILL",SHOW_BILLING_HISTORY:"SHOW_BILLING_HISTORY",CLOSE_BILLING_VIEW:"CLOSE_BILLING_VIEW",SHOW_USER_PROFILE:"SHOW_USER_PROFILE",SHOW_BILLING_PROFILE:"SHOW_BILLING_PROFILE",SHOW_MSGS:"SHOW_MSGS",UPDATE_UNREAD_MSGS_COUNT:"UPDATE_UNREAD_MSGS_COUNT",SMALL_DEVICE_MODE:"SMALL_DEVICE_MODE",MEDIUM_OR_BIGGER_DEVICE:"MEDIUM_OR_BIGGER_DEVICE",SHOW_LOGIN:"SHOW_LOGIN",LOGGED_IN:"LOGGED_IN",LOADED_USER_PROFILE:"LOADED_USER_PROFILE",LOGOFF:"LOGOFF"}});var Path={version:"0.8.4",map:function(t){return Path.routes.defined.hasOwnProperty(t)?Path.routes.defined[t]:new Path.core.route(t)},root:function(t){Path.routes.root=t},rescue:function(t){Path.routes.rescue=t},history:{initial:{},pushState:function(t,e,i){Path.history.supported?Path.dispatch(i)&&history.pushState(t,e,i):Path.history.fallback&&(window.location.hash="#"+i)},popState:function(t){var e=!Path.history.initial.popped&&location.href==Path.history.initial.URL;Path.history.initial.popped=!0,e||Path.dispatch(document.location.pathname)},listen:function(t){if(Path.history.supported=!(!window.history||!window.history.pushState),Path.history.fallback=t,Path.history.supported)Path.history.initial.popped="state"in window.history,Path.history.initial.URL=location.href,window.onpopstate=Path.history.popState;else if(Path.history.fallback){for(route in Path.routes.defined)"#"!=route.charAt(0)&&(Path.routes.defined["#"+route]=Path.routes.defined[route],Path.routes.defined["#"+route].path="#"+route);Path.listen()}}},match:function(t,e){var i,n,o,s,a,r={},l=null;for(l in Path.routes.defined)if(null!==l&&void 0!==l)for(l=Path.routes.defined[l],i=l.partition(),s=0;s<i.length;s++){if(n=i[s],a=t,n.search(/:/)>0)for(o=0;o<n.split("/").length;o++)o<a.split("/").length&&":"===n.split("/")[o].charAt(0)&&(r[n.split("/")[o].replace(/:/,"")]=a.split("/")[o],a=a.replace(a.split("/")[o],n.split("/")[o]));if(n===a)return e&&(l.params=r),l}return null},dispatch:function(t){var e,i;if(Path.routes.current!==t){if(Path.routes.previous=Path.routes.current,Path.routes.current=t,i=Path.match(t,!0),Path.routes.previous&&(e=Path.match(Path.routes.previous),null!==e&&null!==e.do_exit&&e.do_exit()),null!==i)return i.run(),!0;null!==Path.routes.rescue&&Path.routes.rescue()}},listen:function(){var t=function(){Path.dispatch(location.hash)};""===location.hash&&null!==Path.routes.root&&(location.hash=Path.routes.root),"onhashchange"in window&&(!document.documentMode||document.documentMode>=8)?window.onhashchange=t:setInterval(t,50),""!==location.hash&&Path.dispatch(location.hash)},core:{route:function(t){this.path=t,this.action=null,this.do_enter=[],this.do_exit=null,this.params={},Path.routes.defined[t]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};if(Path.core.route.prototype={to:function(t){return this.action=t,this},enter:function(t){return t instanceof Array?this.do_enter=this.do_enter.concat(t):this.do_enter.push(t),this},exit:function(t){return this.do_exit=t,this},partition:function(){for(var t,e,i=[],n=[],o=/\(([^}]+?)\)/g;t=o.exec(this.path);)i.push(t[1]);for(n.push(this.path.split("(")[0]),e=0;e<i.length;e++)n.push(n[n.length-1]+i[e]);return n},run:function(){var t,e,i=!1;if(Path.routes.defined[this.path].hasOwnProperty("do_enter")&&Path.routes.defined[this.path].do_enter.length>0)for(t=0;t<Path.routes.defined[this.path].do_enter.length;t++)if(e=Path.routes.defined[this.path].do_enter[t].apply(this,null),e===!1){i=!0;break}i||Path.routes.defined[this.path].action()}},define("Path",function(t){return function(){var e;return e||t.Path}}(this)),define("app/utils/router",["Path","amplify","app/utils/events"],function(t,e,i){"use strict";function n(){console.log("Init Router")}return n.prototype.setupRoutes=function(){console.log("Setup Routes"),t.root("#/home"),t.rescue(function(){console.error("Route not found")}),t.map("#/home").to(function(){e.publish(i.SHOW_DASHBOARD)}),t.map("#/login").to(function(){e.publish(i.SHOW_LOGIN)}),t.map("#/logoff").to(function(){e.publish(i.LOGOFF)}),t.map("#/travel").to(function(){e.publish(i.SHOW_TRAVEL)}),t.map("#/contacts").to(function(){e.publish(i.SHOW_CONTACTS)}),t.map("#/claim/list").to(function(){e.publish(i.SHOW_CLAIMS_LIST)}),t.map("#/claim/new").to(function(){e.publish(i.NEW_CLAIM)}),t.map("#/claim/:claimId").to(function(){e.publish(i.SHOW_CLAIM,{claimId:this.params.claimId})}),t.map("#/claim/:claimId/newbill").to(function(){e.publish(i.CREATE_NEW_BILL,{claimId:this.params.claimId})}),t.map("#/bill/:claimId/:billId").to(function(){e.publish(i.SHOW_BILL,{claimId:this.params.claimId,billId:this.params.billId})}),t.map("#/billing/history/:claimId").to(function(){e.publish(i.SHOW_BILLING_HISTORY,{claimId:this.params.claimId})}),t.map("#/billing").to(function(){e.publish(i.SHOW_BILLING_HISTORY,{})}),t.map("#/claimEntry/new/:entryType").to(function(){e.publish(i.NEW_CLAIM_ENTRY,{entryType:this.params.entryType})}),t.map("#/claimEntry/:claimId/:claimEntryId").to(function(){e.publish(i.SHOW_CLAIM_ENTRY,{claimId:this.params.claimId,claimEntryId:this.params.claimEntryId})})},n.prototype.routeToHome=function(){window.location.hash="#/home"},n.prototype.routeToBillingProfile=function(t){e.publish(i.SHOW_BILLING_PROFILE,{claimId:t})},n.prototype.routeToNewClaim=function(){window.location.hash="#/claim/new"},n.prototype.routeToBilling=function(){window.location.hash="#/billing"},n.prototype.routeToBillingOverview=function(t){console.log("Navigating to Billing overview. ClaimId "+t),window.location.hash="#/billing/history/"+t},n.prototype.routeToBill=function(){console.log("Navigating to Bill "+this._id),window.location.hash="#/bill/"+this.claimId+"/"+this._id},n.prototype.routeToClaim=function(t){console.log("Navigating to claim "+t),t?window.location.hash="#/claim/"+t:this.routeToNewClaim()},n.prototype.routeToNewClaimEntry=function(){console.log("Navigating to New claim entry"),window.location.hash="#/claimEntry/new/other"},n.prototype.routeToClaimEntry=function(t,e){console.log("Navigating to claim entry "+t+","+e),e?window.location.hash="#/claimEntry/"+t+"/"+e:this.routeToNewClaimEntry()},n.prototype.showMsgsPopup=function(){e.publish(i.SHOW_MSGS)},n.prototype.showProfilePopup=function(){e.publish(i.SHOW_USER_PROFILE)},n.prototype.start=function(){console.log("Listen for Routes"),this.setupRoutes(),t.listen()},new n}),define("shared/dateUtils",[],function(){"use strict";function t(t){if(!t instanceof Date)throw"Expecting JS Date. Got: "+t;return n(t.getMonth()+1)+"/"+n(t.getDate())+"/"+t.getFullYear()}function e(t){if(!t instanceof Date)throw"Expecting JS Date. Got: "+t;return n(t.getHours())+":"+n(t.getMinutes())}function i(t){var e=t.split("/"),i=Number(e[0])-1,n=Number(e[1]),o=Number(e[2].split(" ")[0]),s=e[2].split(" ")[1],a=Number(s.split(":")[0]),r=Number(s.split(":")[1]);return new Date(o,i,n,a,r)}function n(t){return t=t||0,String(t).length>=2?t:"0"+String(t)}function o(){Date.prototype.toJSON=function(){return this.getTime()};var t=JSON.parse;JSON.parse=function(e){function i(t){return t.toLowerCase().search("date")>=0}return t(e,function(t,e){return i(t)?new Date(Number(e)):e})}}function s(t,e,i){if(void 0===e&&(e=!0),void 0===t||null===t||""===t)return i||"None";if(!(t instanceof Date))return t;if(0==t.getTime())return i||"None";var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=o[t.getMonth()],c=t.getDate(),u=s[t.getDay()],h=t.getFullYear()===(new Date).getFullYear()?"":t.getFullYear(),d=t.getHours()+":"+n(t.getMinutes());e="00:00"===d||"0:00"===d?!1:e;var p="";return p=l(t)?e?"Today "+d:"Today":r(t)?e?u+" "+d:u:e?a+" "+c+" "+h+" "+d:String(h).length>0?a+" "+c+" "+h:a+" "+c}function a(t,e,i){return e=e||"None",i=i||!1,void 0===t||null===t||""===t||0==t.getTime()?e:i?t.getMonth()+1+"/"+t.getDate():t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}function r(t){return t.getTime()>=d()&&t.getTime()<=p()}function l(t){var e=new Date;return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function c(){return new Date}function u(){return new Date(c().getFullYear(),c().getMonth(),c().getDate(),0,0)}function h(){return new Date(c().getFullYear(),c().getMonth(),c().getDate(),23,59,59)}function d(){return u().getTime()-u().getDay()*b}function p(){return u().getTime()+(y-u().getDay())*b}function f(t){return u().getTime()+t*b}function m(t){return u().getTime()-t*b}function g(t){return t.getTime()<u().getTime()}function v(t){if(!(t instanceof Date))return t;var e=new Date(t.getTime());return e.setHours(0,0,0,0),e}var b=864e5,y=6;return{niceDate:s,stripTime:v,niceLocaleDate:a,toDatePickerFormat:t,toTimePickerFormat:e,fromDatetimePickerFormat:i,enableJSONDateHandling:o,DATE_PICKER_FORMAT:"m/d/Y",TIME_PICKER_FORMAT:"H:i",DEFAULT_TIME_VALUE:"09:00",MILLIS_IN_A_DAY:b,isYesterdayOrBefore:g,startOfToday:u,endOfToday:h,now:c,startOfWeekInMillis:d,endOfWeekInMillis:p,daysFromNowInMillis:f,daysBeforeNowInMillis:m}}),define("app/utils/sessionKeys",[],function(){return{ACTIVE_CLAIM_ID:"ActiveClaimId",ACTIVE_CLAIM_OBJ:"ActiveClaimObj",ACTIVE_CLAIM_ENTRY_ID:"ActiveClaimEntryId",USER_ID:"USER_ID",USER_PROFILE:"USER_PROFILE",USER_AUTH_PROFILE:"USER_AUTH_PROFILE",USER_AUTH_TOKEN:"USER_AUTH_TOKEN",ALL_CONTACTS:"ALL_CONTACTS"}}),define("app/utils/session",["amplify","app/utils/sessionKeys"],function(t,e){return{clearContacts:function(){t.store.sessionStorage(e.ALL_CONTACTS,null)},setContacts:function(i){t.store.sessionStorage(e.ALL_CONTACTS,i)},getContacts:function(){return t.store.sessionStorage(e.ALL_CONTACTS)||[]},setCurrentUserId:function(i){t.store.sessionStorage(e.USER_ID,i)},getCurrentUserId:function(){return t.store.sessionStorage(e.USER_ID)},setCurrentUserProfile:function(i){t.store.sessionStorage(e.USER_PROFILE,i)},getCurrentUserProfile:function(){return t.store.sessionStorage(e.USER_PROFILE)},setCurrentUserAuthProfile:function(i){t.store.sessionStorage(e.USER_AUTH_PROFILE,i)},getCurrentUserAuthProfile:function(){return t.store.sessionStorage(e.USER_AUTH_PROFILE)},setCurrentUserAuthToken:function(i){t.store.sessionStorage(e.USER_AUTH_TOKEN,i)},getCurrentUserAuthToken:function(){return t.store.sessionStorage(e.USER_AUTH_TOKEN)},getActiveClaimId:function(){var i=t.store.sessionStorage(e.ACTIVE_CLAIM_ID);return console.assert(i,"No claim active in session"),i},getActiveClaim:function(){var i=t.store.sessionStorage(e.ACTIVE_CLAIM_OBJ);return console.assert(i,"No claim active in session"),i}}}),define("app/utils/ajaxUtils",["jquery","amplify","app/utils/events","app/utils/session"],function(t,e,i,n){function o(e){if(!n.getCurrentUserId()){var i=t.Deferred(),o=t.Deferred();return i.then(function(){return t.getJSON(e).then(function(t){o.resolve(t)}).fail(function(t){o.reject(t)})}),a.push(i),o}return t.getJSON(e)}function s(o,a,l,c){return n.getCurrentUserId()?(c||(c=function(t,n,o){e.publish(i.FAILURE_NOTIFICATION,{msg:"<strong>Server error</strong> while processing your request. Please retry.<br>Techinal details: "+n})}),void t.ajax({type:"POST",url:o,data:a,contentType:"application/json; charset=utf-8"}).done(function(t,e,i){console.log("Post on "+o),l(t,e,i)}).fail(c)):void r.push({fn:s,url:o,json:a,onDone:l,onFail:c})}var a=[],r=[];return e.subscribe(i.LOGGED_IN,this,function(){for(;a.length>0;){var t=a.pop();t.resolve()}}),e.subscribe(i.LOGGED_IN,this,function(){for(;r.length>0;){var t=r.pop();t.fn(t.url,t.json,t.onDone,t.onFail)}}),t.ajaxSetup({beforeSend:function(t){n.getCurrentUserAuthToken()&&(t.setRequestHeader("Authorization","Bearer "+n.getCurrentUserAuthToken()),t.setRequestHeader("UserId",n.getCurrentUserId()))}}),{post:s,getJSON:o}}),define("app/utils/responsive",["jquery"],function(t,e){return{onXSDevice:function(){return $(window).width()<=768},onSMDevice:function(){return $(window).width()>=768&&$(window).width()<=992},onLGDevice:function(){return $(window).width()>992},deviceInfo:function(){return{size:this.onXSDevice()?"XS":this.onSMDevice()?"SM":"LG",width:$(window).width(),userAgent:navigator.userAgent,vendor:navigator.vendor}}}}),function(t,e){"use strict";if("function"==typeof define&&define.amd)define("hopscotch",[],e);else if("object"==typeof exports)module.exports=e();else{var i="hopscotch";if(t[i])return;t[i]=e()}}(this,function(){var Hopscotch,HopscotchBubble,HopscotchCalloutManager,HopscotchI18N,customI18N,customRenderer,customEscape,utils,callbacks,helpers,winLoadHandler,defaultOpts,winHopscotch,templateToUse="bubble_default",Sizzle=window.Sizzle||null,undefinedStr="undefined",waitingToStart=!1,hasJquery=typeof jQuery!==undefinedStr,hasSessionStorage=!1,isStorageWritable=!1,document=window.document,validIdRegEx=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,rtlMatches={left:"right",right:"left"};try{typeof window.sessionStorage!==undefinedStr&&(hasSessionStorage=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),isStorageWritable=!0)}catch(err){}return defaultOpts={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),winLoadHandler=function(){waitingToStart&&winHopscotch.startTour()},utils={addClass:function(t,e){var i,n,o,s;if(t.className){for(n=e.split(/\s+/),i=" "+t.className+" ",o=0,s=n.length;s>o;++o)i.indexOf(" "+n[o]+" ")<0&&(i+=n[o]+" ");t.className=i.replace(/^\s+|\s+$/g,"")}else t.className=e},removeClass:function(t,e){var i,n,o,s;for(n=e.split(/\s+/),i=" "+t.className+" ",o=0,s=n.length;s>o;++o)i=i.replace(" "+n[o]+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")},hasClass:function(t,e){var i;return t.className?(i=" "+t.className+" ",-1!==i.indexOf(" "+e+" ")):!1},getPixelValue:function(t){var e=typeof t;return"number"===e?t:"string"===e?parseInt(t,10):0},valOrDefault:function(t,e){return typeof t!==undefinedStr?t:e},invokeCallbackArrayHelper:function(t){var e;return Array.isArray(t)&&(e=helpers[t[0]],"function"==typeof e)?e.apply(this,t.slice(1)):void 0},invokeCallbackArray:function(t){var e,i;if(Array.isArray(t)){if("string"==typeof t[0])return utils.invokeCallbackArrayHelper(t);for(e=0,i=t.length;i>e;++e)utils.invokeCallback(t[e])}},invokeCallback:function(t){return"function"==typeof t?t():"string"==typeof t&&helpers[t]?helpers[t]():utils.invokeCallbackArray(t)},invokeEventCallbacks:function(t,e){var i,n,o=callbacks[t];if(e)return this.invokeCallback(e);for(i=0,n=o.length;n>i;++i)this.invokeCallback(o[i].cb)},getScrollTop:function(){var t;return t=typeof window.pageYOffset!==undefinedStr?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){var t;return t=typeof window.pageXOffset!==undefinedStr?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(t,e,i){return t?t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i):void 0},removeEvtListener:function(t,e,i){return t?t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i):void 0},documentIsReady:function(){return"complete"===document.readyState},evtPreventDefault:function(t){t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)},extend:function(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},getStepTargetHelper:function(t){var e=document.getElementById(t);if(e)return e;if(hasJquery)return e=jQuery(t),e.length?e[0]:null;if(Sizzle)return e=new Sizzle(t),e.length?e[0]:null;if(document.querySelector)try{return document.querySelector(t)}catch(i){}return/^#[a-zA-Z][\w-_:.]*$/.test(t)?document.getElementById(t.substring(1)):null},getStepTarget:function(t){var e;if(!t||!t.target)return null;if("string"==typeof t.target)return utils.getStepTargetHelper(t.target);if(Array.isArray(t.target)){var i,n;for(i=0,n=t.target.length;n>i;i++)if("string"==typeof t.target[i]&&(e=utils.getStepTargetHelper(t.target[i])))return e;return null}return t.target},getI18NString:function(t){return customI18N[t]||HopscotchI18N[t]},setState:function(t,e,i){var n,o="";if(hasSessionStorage&&isStorageWritable)try{sessionStorage.setItem(t,e)}catch(s){isStorageWritable=!1,this.setState(t,e,i)}else hasSessionStorage&&sessionStorage.removeItem(t),i&&(n=new Date,n.setTime(n.getTime()+24*i*60*60*1e3),o="; expires="+n.toGMTString()),document.cookie=t+"="+e+o+"; path=/"},getState:function(t){var e,i,n,o=t+"=",s=document.cookie.split(";");if(hasSessionStorage&&(n=sessionStorage.getItem(t)))return n;for(e=0;e<s.length;e++){for(i=s[e];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o)){n=i.substring(o.length,i.length);break}}return n},clearState:function(t){hasSessionStorage?sessionStorage.removeItem(t):this.setState(t,"",-1)},normalizePlacement:function(t){!t.placement&&t.orientation&&(t.placement=t.orientation)},flipPlacement:function(t){if(t.isRtl&&!t._isFlipped){var e,i,n=["orientation","placement"];t.xOffset&&(t.xOffset=-1*this.getPixelValue(t.xOffset));for(i in n)e=n[i],t.hasOwnProperty(e)&&rtlMatches.hasOwnProperty(t[e])&&(t[e]=rtlMatches[t[e]]);t._isFlipped=!0}}},utils.addEvtListener(window,"load",winLoadHandler),callbacks={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},helpers={},HopscotchI18N={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},customI18N={},HopscotchBubble=function(t){this.init(t)},HopscotchBubble.prototype={isShowing:!1,currStep:void 0,setPosition:function(t){var e,i,n,o,s,a,r,l=utils.getStepTarget(t),c=this.element,u=this.arrowEl,h=t.isRtl?"right":"left";if(utils.flipPlacement(t),utils.normalizePlacement(t),i=c.offsetWidth,e=c.offsetHeight,utils.removeClass(c,"fade-in-down fade-in-up fade-in-left fade-in-right"),n=l.getBoundingClientRect(),r=t.isRtl?n.right-i:n.left,"top"===t.placement)o=n.top-e-this.opt.arrowWidth,s=r;else if("bottom"===t.placement)o=n.bottom+this.opt.arrowWidth,s=r;else if("left"===t.placement)o=n.top,s=n.left-i-this.opt.arrowWidth;else{if("right"!==t.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");o=n.top,s=n.right+this.opt.arrowWidth}a="center"!==t.arrowOffset?utils.getPixelValue(t.arrowOffset):t.arrowOffset,a?"top"===t.placement||"bottom"===t.placement?(u.style.top="","center"===a?u.style[h]=Math.floor(i/2-u.offsetWidth/2)+"px":u.style[h]=a+"px"):("left"===t.placement||"right"===t.placement)&&(u.style[h]="","center"===a?u.style.top=Math.floor(e/2-u.offsetHeight/2)+"px":u.style.top=a+"px"):(u.style.top="",u.style[h]=""),"center"===t.xOffset?s=n.left+l.offsetWidth/2-i/2:s+=utils.getPixelValue(t.xOffset),"center"===t.yOffset?o=n.top+l.offsetHeight/2-e/2:o+=utils.getPixelValue(t.yOffset),t.fixedElement||(o+=utils.getScrollTop(),s+=utils.getScrollLeft()),c.style.position=t.fixedElement?"fixed":"absolute",c.style.top=o+"px",c.style.left=s+"px"},render:function(t,e,i){var n,o,s,a,r,l,c,u,h,d,p=this.element;if(t?this.currStep=t:this.currStep&&(t=this.currStep),this.opt.isTourBubble?(a=winHopscotch.getCurrTour(),a&&(o=a.customData,n=a.customRenderer,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:a.hasOwnProperty("isRtl")?a.isRtl:this.opt.isRtl,s=a.unsafe,Array.isArray(a.steps)&&(r=a.steps.length,l=this._getStepI18nNum(this._getStepNum(r-1)),u=this._getStepNum(e)===this._getStepNum(r-1)))):(o=t.customData,n=t.customRenderer,s=t.unsafe,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:this.opt.isRtl),c=u?utils.getI18NString("doneBtn"):t.showSkip?utils.getI18NString("skipBtn"):utils.getI18NString("nextBtn"),utils.flipPlacement(t),utils.normalizePlacement(t),this.placement=t.placement,d={i18n:{prevBtn:utils.getI18NString("prevBtn"),nextBtn:c,closeTooltip:utils.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(e)),numSteps:l},buttons:{showPrev:utils.valOrDefault(t.showPrevButton,this.opt.showPrevButton)&&this._getStepNum(e)>0,showNext:utils.valOrDefault(t.showNextButton,this.opt.showNextButton),showCTA:utils.valOrDefault(t.showCTAButton&&t.ctaLabel,!1),ctaLabel:t.ctaLabel,showClose:utils.valOrDefault(this.opt.showCloseButton,!0)},step:{num:e,isLast:utils.valOrDefault(u,!1),title:t.title||"",content:t.content||"",isRtl:t.isRtl,placement:t.placement,padding:utils.valOrDefault(t.padding,this.opt.bubblePadding),width:utils.getPixelValue(t.width)||this.opt.bubbleWidth,customData:t.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:r,unsafe:utils.valOrDefault(s,!1),customData:o||{}}},"function"==typeof n)p.innerHTML=n(d);else if("string"==typeof n){if(!winHopscotch.templates||"function"!=typeof winHopscotch.templates[n])throw new Error('Bubble rendering failed - template "'+n+'" is not a function.');p.innerHTML=winHopscotch.templates[n](d)}else if(customRenderer)p.innerHTML=customRenderer(d);else{if(!winHopscotch.templates||"function"!=typeof winHopscotch.templates[templateToUse])throw new Error('Bubble rendering failed - template "'+templateToUse+'" is not a function.');p.innerHTML=winHopscotch.templates[templateToUse](d)}for(children=p.children,numChildren=children.length,h=0;h<numChildren;h++)node=children[h],utils.hasClass(node,"hopscotch-arrow")&&(this.arrowEl=node);return p.style.zIndex="number"==typeof t.zindex?t.zindex:"",this._setArrow(t.placement),this.hide(!1),this.setPosition(t),i&&i(!t.fixedElement),this},_getStepNum:function(t){var e,i,n=0,o=winHopscotch.getSkippedStepsIndexes(),s=o.length;for(i=0;s>i;i++)e=o[i],t>e&&n++;return t-n},_getStepI18nNum:function(t){var e=utils.getI18NString("stepNums");return e&&t<e.length?t=e[t]:t+=1,t},_setArrow:function(t){utils.removeClass(this.arrowEl,"down up right left"),"top"===t?utils.addClass(this.arrowEl,"down"):"bottom"===t?utils.addClass(this.arrowEl,"up"):"left"===t?utils.addClass(this.arrowEl,"right"):"right"===t&&utils.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var t=this,e="fade-in-"+this._getArrowDirection(),i=1e3;return utils.removeClass(this.element,"hide"),utils.addClass(this.element,e),setTimeout(function(){utils.removeClass(t.element,"invisible")},50),setTimeout(function(){utils.removeClass(t.element,e)},i),this.isShowing=!0,this},hide:function(t){var e=this.element;return t=utils.valOrDefault(t,!0),e.style.top="",e.style.left="",t?(utils.addClass(e,"hide"),utils.removeClass(e,"invisible")):(utils.removeClass(e,"hide"),utils.addClass(e,"invisible")),utils.removeClass(e,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var t=this.element;t&&t.parentNode.removeChild(t),utils.removeEvtListener(t,"click",this.clickCb)},_handleBubbleClick:function(t){function e(i){return i===t.currentTarget?null:utils.hasClass(i,"hopscotch-cta")?"cta":utils.hasClass(i,"hopscotch-next")?"next":utils.hasClass(i,"hopscotch-prev")?"prev":utils.hasClass(i,"hopscotch-close")?"close":e(i.parentElement)}var i;t=t||window.event;var n=t.target||t.srcElement;if(i=e(n),"cta"===i)this.opt.isTourBubble||winHopscotch.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&utils.invokeCallback(this.currStep.onCTA);else if("next"===i)winHopscotch.nextStep(!0);else if("prev"===i)winHopscotch.prevStep(!0);else if("close"===i){if(this.opt.isTourBubble){var o=winHopscotch.getCurrStepNum(),s=winHopscotch.getCurrTour(),a=o===s.steps.length-1;utils.invokeEventCallbacks("close"),winHopscotch.endTour(!0,a)}else this.opt.onClose&&utils.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?winHopscotch.getCalloutManager().removeCallout(this.opt.id):this.destroy();utils.evtPreventDefault(t)}},init:function(t){var e,i,n,o,s=document.createElement("div"),a=this,r=!1;this.element=s,o={showPrevButton:defaultOpts.showPrevButton,showNextButton:defaultOpts.showNextButton,bubbleWidth:defaultOpts.bubbleWidth,bubblePadding:defaultOpts.bubblePadding,arrowWidth:defaultOpts.arrowWidth,isRtl:defaultOpts.isRtl,showNumber:!0,isTourBubble:!0},t=typeof t===undefinedStr?{}:t,utils.extend(o,t),this.opt=o,s.className="hopscotch-bubble animated",o.isTourBubble?(n=winHopscotch.getCurrTour(),n&&utils.addClass(s,"tour-"+n.id)):utils.addClass(s,"hopscotch-callout no-number"),e=function(){!r&&a.isShowing&&(r=!0,setTimeout(function(){a.setPosition(a.currStep),r=!1},100))},utils.addEvtListener(window,"resize",e),this.clickCb=function(t){a._handleBubbleClick(t)},utils.addEvtListener(s,"click",this.clickCb),this.hide(),utils.documentIsReady()?document.body.appendChild(s):(document.addEventListener?(i=function(){document.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i),document.body.appendChild(s)},document.addEventListener("DOMContentLoaded",i,!1)):(i=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i),window.detachEvent("onload",i),document.body.appendChild(s))},document.attachEvent("onreadystatechange",i)),utils.addEvtListener(window,"load",i))}},HopscotchCalloutManager=function(){var t={},e={};this.createCallout=function(i){var n;if(!i.id)throw new Error("Must specify a callout id.");if(!validIdRegEx.test(i.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(t[i.id])throw new Error("Callout by that id already exists. Please choose a unique id.");if(!utils.getStepTarget(i))throw new Error("Must specify existing target element via 'target' option.");return i.showNextButton=i.showPrevButton=!1,i.isTourBubble=!1,n=new HopscotchBubble(i),t[i.id]=n,e[i.id]=i,n.render(i,null,function(){n.show(),i.onShow&&utils.invokeCallback(i.onShow)}),n},this.getCallout=function(e){return t[e]},this.removeAllCallouts=function(){var e;for(e in t)t.hasOwnProperty(e)&&this.removeCallout(e)},this.removeCallout=function(i){var n=t[i];t[i]=null,e[i]=null,n&&n.destroy()},this.refreshCalloutPositions=function(){
var i,n,o;for(i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(n=t[i],o=e[i],n&&o&&n.setPosition(o))}},Hopscotch=function(t){var e,i,n,o,s,a,r,l,c=this,u={},h=[],d=function(t){return e&&e.element&&e.element.parentNode||(e=new HopscotchBubble(n)),t&&utils.extend(e.opt,{bubblePadding:f("bubblePadding"),bubbleWidth:f("bubbleWidth"),showNextButton:f("showNextButton"),showPrevButton:f("showPrevButton"),showCloseButton:f("showCloseButton"),arrowWidth:f("arrowWidth"),isRtl:f("isRtl")}),e},p=function(){e&&(e.destroy(),e=null)},f=function(t){return"undefined"==typeof n?defaultOpts[t]:utils.valOrDefault(n[t],defaultOpts[t])},m=function(){var t;return t=!o||0>s||s>=o.steps.length?null:o.steps[s]},g=function(){c.nextStep()},v=function(t){var e,i,n,o,s,a,r=d(),l=r.element,c=utils.getPixelValue(l.style.top),u=c+utils.getPixelValue(l.offsetHeight),h=utils.getStepTarget(m()),p=h.getBoundingClientRect(),g=p.top+utils.getScrollTop(),v=p.bottom+utils.getScrollTop(),b=g>c?c:g,y=u>v?u:v,w=utils.getScrollTop(),x=w+utils.getWindowHeight(),C=b-f("scrollTopMargin");b>=w&&(b<=w+f("scrollTopMargin")||x>=y)?t&&t():f("smoothScroll")?typeof YAHOO!==undefinedStr&&typeof YAHOO.env!==undefinedStr&&typeof YAHOO.env.ua!==undefinedStr&&typeof YAHOO.util!==undefinedStr&&typeof YAHOO.util.Scroll!==undefinedStr?(e=YAHOO.env.ua.webkit?document.body:document.documentElement,n=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,i=new YAHOO.util.Scroll(e,{scroll:{to:[0,C]}},f("scrollDuration")/1e3,n),i.onComplete.subscribe(t),i.animate()):hasJquery?jQuery("body, html").animate({scrollTop:C},f("scrollDuration"),t):(0>C&&(C=0),o=w>b?-1:1,s=Math.abs(w-C)/(f("scrollDuration")/10),(a=function(){var e=utils.getScrollTop(),i=e+o*s;return o>0&&i>=C||0>o&&C>=i?(i=C,t&&t(),void window.scrollTo(0,i)):(window.scrollTo(0,i),utils.getScrollTop()===e?void(t&&t()):void setTimeout(a,10))})()):(window.scrollTo(0,C),t&&t())},b=function(t,e){var i,n,a;s+t>=0&&s+t<o.steps.length?(s+=t,n=m(),a=function(){i=utils.getStepTarget(n),i?(u[s]&&delete u[s],e(s)):(u[s]=!0,utils.invokeEventCallbacks("error"),b(t,e))},n.delay?setTimeout(a,n.delay):a()):e(-1)},y=function(t,e){var i,n,a,r,l=d(),c=this;if(l.hide(),t=utils.valOrDefault(t,!0),i=m(),i.nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(i),"click",g),n=i,a=e>0?n.multipage:s>0&&o.steps[s-1].multipage,r=function(i){var o;if(-1===i)return this.endTour(!0);if(t&&(o=e>0?utils.invokeEventCallbacks("next",n.onNext):utils.invokeEventCallbacks("prev",n.onPrev)),i===s){if(a)return void _();o=utils.valOrDefault(o,!0),o?this.showStep(i):this.endTour(!1)}},!a&&f("skipIfNoElement"))b(e,function(t){r.call(c,t)});else if(s+e>=0&&s+e<o.steps.length){if(s+=e,i=m(),!utils.getStepTarget(i)&&!a)return utils.invokeEventCallbacks("error"),this.endTour(!0,!1);r.call(this,s)}else if(s+e===o.steps.length)return this.endTour();return this},w=function(t){var e,i,n,o={};for(e in t)t.hasOwnProperty(e)&&"id"!==e&&"steps"!==e&&(o[e]=t[e]);return l.call(this,o,!0),i=utils.getState(f("cookieName")),i&&(n=i.split(":"),a=n[0],r=n[1],n.length>2&&(h=n[2].split(",")),r=parseInt(r,10)),this},x=function(t,e,i){var n,o;if(s=t||0,u=e||{},n=m(),o=utils.getStepTarget(n))return void i(s);if(!o){if(utils.invokeEventCallbacks("error"),u[s]=!0,f("skipIfNoElement"))return void b(1,i);s=-1,i(s)}},C=function(t){function e(){n.show(),utils.invokeEventCallbacks("show",i.onShow)}var i=o.steps[t],n=d(),a=utils.getStepTarget(i);s!==t&&m().nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(m()),"click",g),s=t,n.hide(!1),n.render(i,t,function(t){t?v(e):e(),i.nextOnTargetClick&&utils.addEvtListener(a,"click",g)}),_()},_=function(){var t=o.id+":"+s,e=winHopscotch.getSkippedStepsIndexes();e&&e.length>0&&(t+=":"+e.join(",")),utils.setState(f("cookieName"),t,1)},k=function(t){t&&this.configure(t)};this.getCalloutManager=function(){return typeof i===undefinedStr&&(i=new HopscotchCalloutManager),i},this.startTour=function(t,e){var i,n,s={},l=this;if(!o){if(!t)throw new Error("Tour data is required for startTour.");if(!t.id||!validIdRegEx.test(t.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");o=t,w.call(this,t)}if(typeof e!==undefinedStr){if(e>=o.steps.length)throw new Error("Specified step number out of bounds.");n=e}if(!utils.documentIsReady())return waitingToStart=!0,this;if("undefined"==typeof n&&o.id===a&&typeof r!==undefinedStr){if(n=r,h.length>0)for(var c=0,u=h.length;u>c;c++)s[h[c]]=!0}else n||(n=0);return x(n,s,function(t){var e=-1!==t&&utils.getStepTarget(o.steps[t]);return e?(utils.invokeEventCallbacks("start"),i=d(),i.hide(!1),l.isActive=!0,void(utils.getStepTarget(m())?l.showStep(t):(utils.invokeEventCallbacks("error"),f("skipIfNoElement")&&l.nextStep(!1)))):void l.endTour(!1,!1)}),this},this.showStep=function(t){var e=o.steps[t],i=s;return utils.getStepTarget(e)?(e.delay?setTimeout(function(){C(t)},e.delay):C(t),this):(s=t,utils.invokeEventCallbacks("error"),void(s=i))},this.prevStep=function(t){return y.call(this,t,-1),this},this.nextStep=function(t){return y.call(this,t,1),this},this.endTour=function(t,e){var i,n=d();return t=utils.valOrDefault(t,!0),e=utils.valOrDefault(e,!0),o&&(i=m(),i&&i.nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(i),"click",g)),s=0,r=void 0,n.hide(),t&&utils.clearState(f("cookieName")),this.isActive&&(this.isActive=!1,o&&e&&utils.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),p(),o=null,this},this.getCurrTour=function(){return o},this.getCurrTarget=function(){return utils.getStepTarget(m())},this.getCurrStepNum=function(){return s},this.getSkippedStepsIndexes=function(){var t,e=[];for(t in u)e.push(t);return e},this.refreshBubblePosition=function(){var t=m();return t&&d().setPosition(t),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(t,e,i){return t&&callbacks[t].push({cb:e,fromTour:i}),this},this.unlisten=function(t,e){var i,n,o=callbacks[t];for(i=0,n=o.length;n>i;++i)o[i].cb===e&&o.splice(i,1);return this},this.removeCallbacks=function(t,e){var i,n,o,s;for(s in callbacks)if(!t||t===s)if(e)for(i=callbacks[s],n=0,o=i.length;o>n;++n)i[n].fromTour&&(i.splice(n--,1),--o);else callbacks[s]=[];return this},this.registerHelper=function(t,e){"string"==typeof t&&"function"==typeof e&&(helpers[t]=e)},this.unregisterHelper=function(t){helpers[t]=null},this.invokeHelper=function(t){var e,i,n=[];for(e=1,i=arguments.length;i>e;++e)n.push(arguments[e]);helpers[t]&&helpers[t].call(null,n)},this.setCookieName=function(t){return n.cookieName=t,this},this.resetDefaultOptions=function(){return n={},this},this.resetDefaultI18N=function(){return customI18N={},this},this.getState=function(){return utils.getState(f("cookieName"))},l=function(t,e){var i,o,s,a,r=["next","prev","start","end","show","error","close"];for(n||this.resetDefaultOptions(),utils.extend(n,t),t&&utils.extend(customI18N,t.i18n),s=0,a=r.length;a>s;++s)o="on"+r[s].charAt(0).toUpperCase()+r[s].substring(1),t[o]&&this.listen(r[s],t[o],e);return i=d(!0),this},this.configure=function(t){return l.call(this,t,!1)},this.setRenderer=function(t){var e=typeof t;return"string"===e?(templateToUse=t,customRenderer=void 0):"function"===e&&(customRenderer=t),this},this.setEscaper=function(t){return"function"==typeof t&&(customEscape=t),this},k.call(this,t)},winHopscotch=new Hopscotch,function(){var _={};_.escape=function(t){return customEscape?customEscape(t):null==t?"":(""+t).replace(new RegExp("[&<>\"']","g"),function(t){return"&"==t?"&amp;":"<"==t?"&lt;":">"==t?"&gt;":'"'==t?"&quot;":"'"==t?"&#x27;":void 0})},this.templates=this.templates||{},this.templates.bubble_default=function(obj){function optEscape(t,e){return e?_.escape(t):t}obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(__t=step.width)?"":__t)+"px; padding: "+(null==(__t=step.padding)?"":__t)+'px;">\n  ',tour.isTour&&(__p+='<span class="hopscotch-bubble-number">'+(null==(__t=i18n.stepNum)?"":__t)+"</span>"),__p+='\n  <div class="hopscotch-bubble-content">\n    ',""!==step.title&&(__p+='<h3 class="hopscotch-title">'+(null==(__t=optEscape(step.title,tour.unsafe))?"":__t)+"</h3>"),__p+="\n    ",""!==step.content&&(__p+='<div class="hopscotch-content">'+(null==(__t=optEscape(step.content,tour.unsafe))?"":__t)+"</div>"),__p+='\n  </div>\n  <div class="hopscotch-actions">\n    ',buttons.showPrev&&(__p+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(__t=i18n.prevBtn)?"":__t)+"</button>"),__p+="\n    ",buttons.showCTA&&(__p+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(__t=buttons.ctaLabel)?"":__t)+"</button>"),__p+="\n    ",buttons.showNext&&(__p+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(__t=i18n.nextBtn)?"":__t)+"</button>"),__p+="\n  </div>\n  ",buttons.showClose&&(__p+='<button class="hopscotch-bubble-close hopscotch-close">'+(null==(__t=i18n.closeTooltip)?"":__t)+"</button>"),__p+='\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>';return __p}}.call(winHopscotch),winHopscotch}),define("app/utils/consts",[],function(){return{CLAIMS_TAB:"ClaimTab",BILLING_TAB:"BillingTab",BILLING_TAB_HISTORY_MODE:"BILLING_TAB_HISTORY_MODE",BILLING_TAB_VIEW_MODE:"BILLING_TAB_VIEW_MODE",BILLING_TAB_CREATE_MODE:"BILLING_TAB_CREATE_MODE",CLAIMS_TOUR_PROFILE_KEY:"ClaimsTour"}}),define("app/utils/tours",["jquery","amplify","hopscotch","app/utils/router","app/utils/ajaxUtils","app/utils/session","app/utils/consts"],function(t,e,i,n,o,s,a){function r(){console.log("Init Tours")}return r.prototype.markAsDone=function(t){var e={};e[t]=!0,o.post("/userProfile/modify",JSON.stringify({id:s.getCurrentUserId(),attrsAsJson:e}),function(e){console.log("Marked tour "+t+"as done")},function(e){console.error("Failed to mark tour "+t+" as done")})},r.prototype.startClaimsTour=function(){var e=this,n={id:"claims-tour",steps:[{title:"Welcome!",content:"Take a quick tour .. just click next",target:"navbar-brand-logo",placement:"bottom",delay:1e3,onNext:function(e){var n=i.getCurrTour();i.endTour(),t("#index-claims-list a")[0].click();var o=setInterval(function(){$element=t("#claimListTable tbody tr:last-child td:nth-child(4)"),$element.is(":visible")&&(clearInterval(o),i.startTour(n,1))},100)}},{title:"Claim",content:"A claim corresponds to a file or a case which you work on",target:"claimListTable",placement:"bottom",delay:1e3,onNext:function(){var e=i.getCurrTour();i.endTour(),t("#claimListTable tbody tr:last-child td:nth-child(4)").click();var n=setInterval(function(){$element=t("#taskEntrySummary1"),$element.is(":visible")&&(clearInterval(n),i.startTour(e,2))},100)}},{title:"Claim details",content:"All the work you do while investigating a Claim can be tracked as tasks",target:"taskEntrySummary0",placement:"bottom",onNext:function(){t("#claim-newtask-btn")[0].click()}},{title:"Task type",content:"You can create different types of tasks, including tasks specifically for travel",target:"claim-newtask-btn",placement:"bottom",onNext:function(){var e=i.getCurrTour();i.endTour(),t("#claimEntriesList tbody tr:nth-child(1) td:nth-child(3)").click();var n=setInterval(function(){$element=t("#task-entry-attach"),$element.is(":visible")&&(clearInterval(n),i.startTour(e,4))},100)}},{title:"Task",content:"In additional to basic information, you can attach files, location and billing information here",target:"taskEntryHeading",placement:"bottom",onNext:function(){var e=i.getCurrTour();i.endTour(),t("#index-tasks-list a")[0].click();var n=setInterval(function(){$element=t("#summaryTableHeader3"),$element.is(":visible")&&(clearInterval(n),i.startTour(e,5))},100)}},{title:"Tasks list",content:"You can see all the tasks for today on this page",target:"summaryTableHeader3",placement:"bottom"},{title:"There's more",content:"When you have a minute check out more tours from the help section!",target:"index-billing",placement:"bottom"}],onError:function(t){console.error("Tour error "+JSON.stringify(arguments))},onClose:function(){e.markAsDone(a.CLAIMS_TOUR_PROFILE_KEY)},onEnd:function(){e.markAsDone(a.CLAIMS_TOUR_PROFILE_KEY)}},o=setInterval(function(){var e=t("#summaryTableHeader");e.is(":visible")&&(clearInterval(o),i.endTour(!0),i.startTour(n))},100)},r.prototype.startBillingTour=function(){console.log("Starting billing tour");var e={id:"billing-tour",steps:[{title:"Billing",content:"You can manage all your bills on this screen. Track what's been paid and outstanding. Clicking on this will take you to the details of the Bill.",target:"billigListSubmitHeader",placement:"bottom"},{title:"Billing",content:"You can quickly see the Bills by status by using this filter.<br/> Lets look at the details of an individual bill next.",target:"billingListStatusFilter",placement:"bottom",onNext:function(){var e=i.getCurrTour();i.endTour(),t("#billingListTable tbody tr td")[2].click();var n=setInterval(function(){$element=t("#billingCreateTable tbody tr"),$element.is(":visible")&&(clearInterval(n),i.startTour(e,2))},100)}},{title:"Bill",content:"This is a Bill for the tasks done on a Claim. You can create multiple bills.",target:"billigListSubmitHeader",placement:"left"},{title:"Bill",content:"This is a Bill for the tasks done on a Claim. You can create multiple bills.",target:"billingInvoiceHeader",placement:"left"},{title:"Rate",content:"You can set the rates and taxes for the Bill here",target:"billCreationProfileBtn",placement:"left"},{title:"Bill",content:"To finalize the Bill, you can edit the Bill inline.",target:"billingCreationMileage0",placement:"bottom"},{title:"Bill",content:"Once you are done making changes, you can save a draft or Submit the bill. <br/> Submitting the bill does not send the bill to anyone. It just tracks its as such in the system",target:"billCreationSaveDraftBtn",placement:"left"}],onError:function(t){console.error("Tour error "+JSON.stringify(arguments))},onEnd:function(){n.routeToBilling()}},o=setInterval(function(){var n=t("#billingListTable");n.is(":visible")&&(clearInterval(o),i.endTour(!0),i.startTour(e))},100)},new r}),define("app/components/appVM",["jquery","knockout","KOMap","amplify","model/claim","model/claimEntry","model/states","app/utils/events","app/utils/router","shared/dateUtils","app/utils/ajaxUtils","app/utils/session","app/utils/responsive","app/utils/tours","app/utils/consts"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p,f){"use strict";function m(){console.log("Init AppVM"),this.Session=h,this.gridNavDelay=0,this.gridNavEffect="easeOut",this.claimPanelState=void 0,this.claimEntryPanelState=void 0,this.unreadMsgCount=e.observable(0),this.showApp=e.observable(!1),this.userName=e.observable(""),this.loadTravel=e.observable(!1),this.loadContacts=e.observable(!1),this.loadClaimsList=e.observable(!1),this.stateChoice=e.observable(),this.states=[{name:"All",query:"{}"},{name:"Active",query:'{"state":"open"}'},{name:"On Hold",query:'{"state":"hold"}'},{name:"Closed",query:'{"state":"closed"}'}],this.router=l,this.setupEvListeners(),this.setupUserLink(),t(window).on("hashchange",this.setNavBarHighlight),this.setNavBarHighlight()}return m.prototype.startRouter=function(){l.start()},m.prototype.locationStartsWith=function(t){return window.location.hash.startsWith(t)},m.prototype.setupEvListeners=function(){n.subscribe(r.SHOW_DASHBOARD,this,function(){console.log("AppVM - SHOW_DASHBOARD ev"),this.transitionToDashboard()}),n.subscribe(r.SHOW_TRAVEL,this,function(){console.log("AppVM - SHOW_TRAVEL ev"),this.loadTravel(!0),this.transitionToTravel()}),n.subscribe(r.SHOW_CONTACTS,this,function(){console.log("AppVM - SHOW_CONTACTS ev"),this.loadContacts(!0),this.transitionToContacts()}),n.subscribe(r.SHOW_BILLING,this,function(){console.log("AppVM - SHOW_BILLING ev"),this.transitionToBilling()}),n.subscribe(r.SHOW_BILLING_HISTORY,this,function(){console.log("AppVM - SHOW_BILLING_HISTORY ev"),this.transitionToBilling()}),n.subscribe(r.SHOW_BILL,this,function(){console.log("AppVM - SHOW_BILL ev"),this.transitionToBilling()}),n.subscribe(r.SHOW_CLAIMS_LIST,this,function(){console.log("AppVM - SHOW_CLAIMS_LIST ev"),this.loadClaimsList(!0),this.transitionToClaimsList()}),n.subscribe(r.SHOW_CLAIM,this,function(){console.log("AppVM - SHOW_CLAIM ev"),this.transitionToClaim()}),n.subscribe(r.NEW_CLAIM,this,function(){console.log("AppVM - NEW_CLAIM ev"),this.transitionToClaim(this)}),n.subscribe(r.CREATE_NEW_BILL,this,function(){console.log("AppVM - CREATE_NEW_BILL ev"),this.transitionToBilling(this)}),n.subscribe(r.SHOW_CLAIM_ENTRY,this,function(){console.log("AppVM - SHOW_CLAIM_ENTRY ev"),this.transitionToClaimEntry(this)}),n.subscribe(r.NEW_CLAIM_ENTRY,this,function(){console.log("AppVM - NEW_CLAIM_ENTRY ev"),this.transitionToClaimEntry(this)}),n.subscribe(r.FAILURE_NOTIFICATION,this,function(){console.log("AppVM - FAILURE_NOTIFICATION ev")}),n.subscribe(r.SUCCESS_NOTIFICATION,this,function(){console.log("AppVM - SUCCESS_NOTIFICATION ev")}),n.subscribe(r.UPDATE_UNREAD_MSGS_COUNT,this,function(t){console.log("AppVM - UPDATE_UNREAD_MSGS_COUNT ev"),this.unreadMsgCount(t)}),n.subscribe(r.LOGGED_IN,this,function(){console.log("AppVM - LOGGED_IN ev"),this.showApp(!0),this.userName(h.getCurrentUserId()),this.startRouter()}),n.subscribe(r.LOGOFF,this,function(){console.log("AppVM - LOGOFF ev"),this.showApp(!1),this.userName(""),location.reload()}),n.subscribe(r.SHOW_WELCOME_MSG,this,function(){console.log("AppVM - SHOW_WELCOME_MSG ev"),t("#welcomeModal").modal()})},m.prototype.setupUserLink=function(){var t=this;this.userNameLinkText=e.computed(function(){var e=t.userName()||"Login";return e})},m.prototype.onUserNameLinkClick=function(){this.userName()?this.router.showProfilePopup():this.onLogin()},m.prototype.onShowHelp=function(e,i){var n=t(".slideout-menu");n.css("left",i.clientX-n.width()/2),n.toggleClass("open"),n.hasClass("open")?(n.removeClass("hide"),n.animate({height:"200px"})):n.animate({height:"0px"},250,function(){n.addClass("hide")})},m.prototype.onWelcomeAccept=function(t,e){l.routeToHome(),p.startClaimsTour()},m.prototype.onStartTravelTour=function(t,e){},m.prototype.onStartBillingTour=function(e,i){l.routeToBilling(),t(".slideout-menu").toggleClass("hide"),t(".slideout-menu").toggleClass("open"),p.startBillingTour()},m.prototype.onStartClaimsTour=function(e,i){l.routeToHome(),t(".slideout-menu").toggleClass("hide"),t(".slideout-menu").toggleClass("open"),p.startClaimsTour()},m.prototype.setNavBarHighlight=function(){var e=".navbar-default .navbar-nav > li > a";t(e).each(function(e,i){i.href===window.location.href?t(i).addClass("navbar-selected"):t(i).removeClass("navbar-selected")})},m.prototype.transitionToDashboard=function(){this.collapseClaimPanel(),this.collapseClaimEntryPanel(),this.collapseClaimsListPanel(),this.collapseTravelPanel(),this.collapseBillingPanel(),this.collapseContactsPanel(),this.expandDashboardPanel()},m.prototype.transitionToTravel=function(){this.collapseClaimPanel(),this.collapseClaimEntryPanel(),this.collapseClaimsListPanel(),this.collapseDashboardPanel(),this.collapseBillingPanel(),this.collapseContactsPanel(),this.expandTravelPanel()},m.prototype.transitionToContacts=function(){this.collapseClaimPanel(),this.collapseClaimEntryPanel(),this.collapseClaimsListPanel(),this.collapseDashboardPanel(),this.collapseBillingPanel(),this.collapseTravelPanel(),this.expandContactsPanel()},m.prototype.transitionToBilling=function(){this.collapseClaimPanel(),this.collapseClaimEntryPanel(),this.collapseClaimsListPanel(),this.collapseDashboardPanel(),this.collapseTravelPanel(),this.collapseContactsPanel(),this.expandBillingPanel()},m.prototype.transitionToClaimsList=function(){this.collapseClaimPanel(),this.collapseClaimEntryPanel(),this.collapseDashboardPanel(),this.collapseTravelPanel(),this.collapseBillingPanel(),this.collapseContactsPanel(),this.expandClaimsListPanel()},m.prototype.transitionToClaimEntry=function(){this.collapseClaimsListPanel(),this.collapseDashboardPanel(),this.collapseTravelPanel(),this.collapseBillingPanel(),this.collapseContactsPanel(),d.onXSDevice()?(this.collapseClaimPanel(),this.expandClaimEntryPanel()):(this.partiallyCollapseClaimPanel(),this.partiallyExpandClaimEntryPanel())},m.prototype.transitionToClaim=function(){this.collapseClaimsListPanel(),this.collapseDashboardPanel(),this.collapseClaimEntryPanel(),this.collapseTravelPanel(),this.collapseBillingPanel(),this.collapseContactsPanel(),this.expandClaimPanel()},m.prototype.onAddNewClaim=function(){l.routeToNewClaim()},m.prototype.onLogin=function(){n.publish(r.SHOW_LOGIN)},m.prototype.expandDashboardPanel=function(){this._expandPanel("dashboardPanel")},m.prototype.expandTravelPanel=function(){this._expandPanel("travelPanel")},m.prototype.expandContactsPanel=function(){this._expandPanel("contactsPanel")},m.prototype.expandBillingPanel=function(){this._expandPanel("billingPanel")},m.prototype.expandClaimsListPanel=function(){this._expandPanel("claimsListPanel")},m.prototype._expandPanel=function(e){var i="#"+e,n=e+"State";"expanded"!==this[n]&&(t(i).show(),this[n]="expanded")},m.prototype.collapseDashboardPanel=function(){this._collapsePanel("dashboardPanel")},m.prototype.collapseTravelPanel=function(){this._collapsePanel("travelPanel")},m.prototype.collapseContactsPanel=function(){this._collapsePanel("contactsPanel")},m.prototype.collapseBillingPanel=function(){this._collapsePanel("billingPanel")},m.prototype.collapseClaimsListPanel=function(){this._collapsePanel("claimsListPanel")},m.prototype._collapsePanel=function(e){var i="#"+e,n=e+"State";"collapsed"!==this[n]&&(t(i).hide(),this[n]="collapsed")},m.prototype.expandClaimPanel=function(){"expanded"!==this.claimPanelState&&(t("#claimPanel").width("100%"),t("#claimPanel").show(),this.claimPanelState="expanded",n.publish(r.EXPAND_CLAIM_PANEL))},m.prototype.collapseClaimPanel=function(){"collapsed"!==this.claimPanelState&&(t("#claimPanel").hide(),this.claimPanelState="collapsed",n.publish(r.COLLAPSE_CLAIM_PANEL))},m.prototype.partiallyCollapseClaimPanel=function(){"partiallyCollapsed"!==this.claimPanelState&&(t("#claimPanel").show(),t("#claimPanel").width("29%"),t("#claimPanelContent").show(),this.claimPanelState="partiallyCollapsed",n.publish(r.PARTIALLY_COLlAPSE_CLAIM_PANEL))},m.prototype.partiallyExpandClaimEntryPanel=function(){"expanded"!==this.claimEntryPanelState&&(t("#claimEntryPanel").width("70%"),t("#claimEntryPanelContent").velocity("fadeIn",{duration:this.gridNavDelay}),this.claimEntryPanelState="expanded")},m.prototype.expandClaimEntryPanel=function(){"expanded"!==this.claimEntryPanelState&&(t("#claimEntryPanel").width("100%"),t("#claimEntryPanelContent").velocity("fadeIn",{duration:this.gridNavDelay}),this.claimEntryPanelState="expanded")},m.prototype.collapseClaimEntryPanel=function(){"collapsed"!==this.claimEntryPanelState&&(t("#claimEntryPanel").velocity({width:"0%"},{duration:this.gridNavDelay},this.gridNavEffect),t("#claimEntryPanelContent").velocity("fadeOut",{duration:this.gridNavDelay}),this.claimEntryPanelState="collapsed")},m}),!function(t,e){function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})}function n(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1}function o(t,e){t.key=e,t.setSession(),l(t)}function s(t,e){t.tag=e}function a(t,e){t.useDomainProxy=e,l(t)}function r(e,i){if(e.sendConsoleErrors=i,e.sendConsoleErrors===!0){var n=t.onerror;t.onerror=function(i,o,s,a){e.push({category:"BrowserJsException",exception:{message:i,url:o,lineno:s,colno:a}}),n&&"function"==typeof n&&n.apply(t,arguments)}}}function l(e){1==e.useDomainProxy?e.inputUrl=c+t.location.host+"/"+p+"/inputs/"+e.key+"/tag/"+e.tag:e.inputUrl=c+(e.logglyCollectorDomain||u)+"/inputs/"+e.key+"/tag/"+e.tag}var c="http"+("https:"===e.location.protocol?"s":"")+"://",u="logs-01.loggly.com",h="logglytrackingsession",d=h.length+1,p="loggly";n.prototype={setSession:function(t){t?(this.session_id=t,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id=i(),this.setCookie(this.session_id)))},push:function(t){var e=typeof t;if(t&&("object"===e||"string"===e)){var i=this;if("string"===e)t={text:t};else{if(t.logglyCollectorDomain)return void(i.logglyCollectorDomain=t.logglyCollectorDomain);if(void 0!==t.sendConsoleErrors&&r(i,t.sendConsoleErrors),t.tag&&s(i,t.tag),t.useDomainProxy&&a(i,t.useDomainProxy),t.logglyKey)return void o(i,t.logglyKey);if(t.session_id)return void i.setSession(t.session_id)}i.key&&i.track(t)}},track:function(e){e.sessionId=this.session_id;try{var i=new XMLHttpRequest;i.open("POST",this.inputUrl,!0),i.setRequestHeader("Content-Type","text/plain"),i.send(JSON.stringify(e))}catch(n){t&&t.console&&"function"==typeof t.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+n),console.log("Failed log data:",e))}},readCookie:function(){var t=e.cookie,i=t.indexOf(h);if(0>i)return!1;var n=t.indexOf(";",i+1);return n=0>n?t.length:n,t.slice(i+d,n)},setCookie:function(t){e.cookie=h+"="+t}};var f=t._LTracker,m=new n;if(f&&f.length){var g=0,v=f.length;for(g=0;v>g;g++)m.push(f[g])}t._LTracker=m,t.LogglyTracker=n}(window,document),define("loggly",function(t){return function(){var e;return e||t._LTracker}}(this)),define("app/utils/audit",["jquery","app/utils/session","loggly"],function(t,e){function i(){}var n=[];return i.prototype.init=function(){var e=this,i=t.Deferred();return t.getJSON("/config").then(function(t){for(e.env=t.data.Env,e._LTracker=window._LTracker||[],e._LTracker.push({logglyKey:t.data.Loggly.key,sendConsoleErrors:!1,tag:"loggly-jslogger"}),window.onerror=function(){e.error("windowOnError",arguments)};n.length>0;)e._LTracker.push(n.pop());i.resolve()}),i},i.prototype._log=function(t,i,o,s){var a={env:this.env,level:t||"INFO",user:e.getCurrentUserId(),msg:o||"",data:s||{}};this._LTracker?this._LTracker.push(a):n.push(a)},i.prototype.info=function(t,e){this._log("INFO",this.env,t,e)},i.prototype.warn=function(t,e){this._log("WARN",this.env,t,e)},i.prototype.error=function(t,e){this._log("ERROR",this.env,t,e)},new i}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),s="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,s)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",s=n.data();e+="Text",null==s.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;o||n.data("bs.carousel",o=new i(this,s)),"number"==typeof e?o.to(e):a?o[a]():s.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,s=(i+o)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));
return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),s=n||this.getItemForDirection(e,o),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),s=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),o.data()),r=o.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),o||i.data("bs.collapse",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var s=e(o),a=s.data("bs.collapse"),r=a?"toggle":o.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(s).each(function(){var n=t(this),o=e(n),s={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var s=e(o),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(s).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+r);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),s=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);s||o.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](n):a.show&&s.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),s=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),s="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,s)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var a=o[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=s[0].offsetWidth,d=s[0].offsetHeight;if(c){var p=r,f=this.getPosition(this.$viewport);r="bottom"==r&&u.bottom+d>f.bottom?"top":"top"==r&&u.top-d<f.top?"bottom":"right"==r&&u.right+h>f.width?"left":"left"==r&&u.left-h<f.left?"right":r,s.removeClass(p).addClass(r)}var m=this.getCalculatedOffset(r,u,h,d);this.applyPlacement(m,r);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(e.top=e.top+s-c);var u=this.getViewportAdjustedDelta(i,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(i),d=h?2*u.left-o+l:2*u.top-s+c,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&s.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=n?{top:0,left:0}:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+n;r<a.top?o.top=a.top-r:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-s,u=e.left+s+i;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),s="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,s)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,s)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),r=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),s="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=s.top?!1:"bottom":t-n>=o+a?!1:"bottom";var r=null==this.affixed,l=r?o:s.top,c=r?a:e;return null!=i&&i>=o?"top":null!=n&&l+c>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,s=n.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(s=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var r=this.getState(a,e,o,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("bootstrap",["jquery"],function(){}),!function(t,e){"use strict";"function"==typeof define&&define.amd?define("bootbox",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,i){"use strict";function n(t){var e=g[f.locale];return e?e[t]:g.en[t]}function o(t,i,n){t.stopPropagation(),t.preventDefault();var o=e.isFunction(n)&&n.call(i,t)===!1;o||i.modal("hide")}function s(t){var e,i=0;for(e in t)i++;return i}function a(t,i){var n=0;e.each(t,function(t,e){i(t,e,n++)})}function r(t){var i,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),i=t.buttons,n=s(i),a(i,function(t,o,s){if(e.isFunction(o)&&(o=i[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");
o.label||(o.label=t),o.className||(o.className=2>=n&&s===n-1?"btn-primary":"btn-default")}),t}function l(t,e){var i=t.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(n[e[0]]=t[0],n[e[1]]=t[1]):n=t[0],n}function c(t,i,n){return e.extend(!0,{},t,l(i,n))}function u(t,e,i,n){var o={className:"bootbox-"+t,buttons:h.apply(null,e)};return d(c(o,n,i),e)}function h(){for(var t={},e=0,i=arguments.length;i>e;e++){var o=arguments[e],s=o.toLowerCase(),a=o.toUpperCase();t[s]={label:n(a)}}return t}function d(t,e){var n={};return a(e,function(t,e){n[e]=!0}),a(t.buttons,function(t){if(n[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback.call(this):!0},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,n,o,s,r,l,u;if(s=e(p.form),n={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},t=d(c(n,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===i?!0:t.show,t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var i;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=r.val();break;case"checkbox":var n=r.find("input:checked");i=[],a(n,function(t,n){i.push(e(n).val())})}return t.callback.call(this,i)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!p.inputs[t.inputType])throw new Error("invalid prompt type");switch(r=e(p.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(t.value);break;case"select":var f={};if(u=t.inputOptions||[],!e.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");a(u,function(t,n){var o=r;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(f[n.group]||(f[n.group]=e("<optgroup/>").attr("label",n.group)),o=f[n.group]),o.append("<option value='"+n.value+"'>"+n.text+"</option>")}),a(f,function(t,e){r.append(e)}),r.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");r=e("<div/>"),a(u,function(i,n){var o=e(p.inputs[t.inputType]);o.find("input").attr("value",n.value),o.find("label").append(n.text),a(g,function(t,e){e===n.value&&o.find("input").prop("checked",!0)}),r.append(o)})}return t.placeholder&&r.attr("placeholder",t.placeholder),t.pattern&&r.attr("pattern",t.pattern),t.maxlength&&r.attr("maxlength",t.maxlength),s.append(r),s.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=m.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){r.focus()}),l===!0&&o.modal("show"),o},m.dialog=function(t){t=r(t);var n=e(p.dialog),s=n.find(".modal-dialog"),l=n.find(".modal-body"),c=t.buttons,u="",h={onEscape:t.onEscape};if(e.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(c,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",h[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?s.addClass("modal-lg"):"small"===t.size&&s.addClass("modal-sm"),t.title&&l.before(p.header),t.closeButton){var d=e(p.closeButton);t.title?n.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(l)}return t.title&&n.find(".modal-title").html(t.title),u.length&&(l.after(p.footer),n.find(".modal-footer").html(u)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){h.onEscape&&o(t,n,h.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");o(t,n,h[i])}),n.on("click",".bootbox-close-button",function(t){o(t,n,h.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop?"static":!1,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.addLocale=function(t,i){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(i){return t(i||e)},m}),function(t,e){function i(e,i){var o,s,a,r=e.nodeName.toLowerCase();return"area"===r?(o=e.parentNode,s=o.name,e.href&&s&&"map"===o.nodeName.toLowerCase()?(a=t("img[usemap=#"+s+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,o,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function o(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?r["inner"+n].call(this):this.each(function(){t(this).css(a,o(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(a,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,s=t.ui[e].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(s){}o(e)},t.widget=function(i,n,o){var s,a,r,l,c={},u=i.split(".")[0];i=i.split(".")[1],s=u+"-"+i,o||(o=n,n=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[u]=t[u]||{},a=t[u][i],r=t[u][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:o.version,_proto:t.extend({},o),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(o,function(i,o){return t.isFunction(o)?(c[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,s=this._superApply;return this._super=t,this._superApply=e,i=o.apply(this,arguments),this._super=n,this._superApply=s,i}}(),e):(c[i]=o,e)}),r.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},c,{constructor:r,namespace:u,widgetName:i,widgetFullName:s}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):n._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var o,s,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(o in a[r])s=a[r][o],a[r].hasOwnProperty(o)&&s!==e&&(i[o]=t.isPlainObject(s)?t.isPlainObject(i[o])?t.widget.extend({},i[o],s):t.widget.extend({},s):s);return i},t.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),c=this;return a=!r&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,o=t.data(this,s);return o?t.isFunction(o[a])&&"_"!==a.charAt(0)?(n=o[a].apply(o,l),n!==o&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(a||{})._init():t.data(this,s,new o(a,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o,s,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},o=i.split("."),i=o.shift(),o.length){for(s=r[i]=t.widget.extend({},this.options[i]),a=0;o.length-1>a;a++)s[o[a]]=s[o[a]]||{},s=s[o[a]];if(i=o.pop(),n===e)return s[i]===e?null:s[i];s[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,o){var s,a=this;"boolean"!=typeof i&&(o=n,n=i,i=!1),o?(n=s=t(n),this.bindings=this.bindings.add(n)):(o=n,n=this.element,s=this.widget()),t.each(o,function(o,r){function l(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||t.guid++);var c=o.match(/^(\w+)\s*(.*)$/),u=c[1]+a.eventNamespace,h=c[2];h?s.delegate(h,u,l):n.bind(u,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,s,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&t.effects&&t.effects.effect[r]?n[e](o):r!==e&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return o&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,o,s,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)
}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),o=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i){var n=t(this).data("ui-draggable"),o=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var n=t(this).data("ui-draggable"),o=this;t.each(n.sortables,function(){var s=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,o,s,a,r,l,c,u,h,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)r=p.snapElements[h].left,l=r+p.snapElements[h].width,c=p.snapElements[h].top,u=c+p.snapElements[h].height,r-m>v||g>l+m||c-m>y||b>u+m||!t.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(c-y),o=m>=Math.abs(u-b),s=m>=Math.abs(r-v),a=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||o||s||a,"outer"!==f.snapMode&&(n=m>=Math.abs(c-b),o=m>=Math.abs(u-y),s=m>=Math.abs(r-g),a=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(n||o||s||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=n||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var o,s,a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,c=l+t.helperProportions.height,u=i.offset.left,h=u+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return a>=u&&h>=r&&l>=d&&p>=c;case"intersect":return a+t.helperProportions.width/2>u&&h>r-t.helperProportions.width/2&&l+t.helperProportions.height/2>d&&p>c-t.helperProportions.height/2;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,s=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(s,d,i.proportions.height)&&e(o,u,i.proportions.width);case"touch":return(l>=d&&p>=l||c>=d&&p>=c||d>l&&c>p)&&(a>=u&&h>=a||r>=u&&h>=r||u>a&&r>h);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,s=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(o=0;r.length>o;o++)if(r[o]===s[n].element[0]){s[n].proportions.height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===a&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o}),s.length&&(n=t.data(s[0],"ui-droppable"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,o,s,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),s="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:r.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,s),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(i){var n,o,s,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=e(this.helper.css("left")),o=e(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,o+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,o={},s=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,h=e.pageX-s.left||0,d=e.pageY-s.top||0,p=this._change[a];return p?(i=p.apply(this,[e,h,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==c&&(o.width=this.size.width+"px"),this.size.height!==u&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,o,s,a,r,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,a={width:u.helper.width()-s,height:u.helper.height()-o},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,o,s,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),o>a.minHeight&&(a.minHeight=o),a.maxWidth>n&&(a.maxWidth=n),a.maxHeight>s&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,o=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,o=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),a&&u&&(t.left=l-e.minWidth),o&&u&&(t.left=l-e.maxWidth),r&&h&&(t.top=c-e.minHeight),s&&h&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,o,s=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),a=s&&t.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,o,s,a,r,l,c=t(this).data("ui-resizable"),u=c.options,h=c.element,d=u.containment,p=d instanceof t?d.get(0):/parent/.test(d)?h.parent().get(0):d;p&&(c.containerElement=t(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){n[t]=e(i.css("padding"+o))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},o=c.containerOffset,s=c.containerSize.height,a=c.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,l=t.ui.hasScroll(p)?p.scrollHeight:s,c.parentData={element:p,left:o.left,top:o.top,width:r,height:l}))},resize:function(e){var i,n,o,s,a=t(this).data("ui-resizable"),r=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,h={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-h.left:a.offset.left-h.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),o&&s&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,o=e.containerPosition,s=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:r.left-o.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:r.left-o.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),o=n.options,s=n.originalSize,a=n.originalPosition,r={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),s={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(o[e]||0)+(r[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,o=e.originalSize,s=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,c=r[1]||1,u=Math.round((n.width-o.width)/l)*l,h=Math.round((n.height-o.height)/c)*c,d=o.width+u,p=o.height+h,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,g&&(d+=l),v&&(p+=c),f&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=s.top-h):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=s.left-u):(e.size.width=d,e.size.height=p,e.position.top=s.top-h,e.position.left=s.left-u)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")
})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item");return o?(n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return s>r&&(i=r,r=s,s=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:s,top:a,width:r-s,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>r||s>i.right||i.top>l||a>i.bottom):"fit"===o.tolerance&&(c=i.left>s&&r>i.right&&i.top>a&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var o,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,s,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=t.left,a=s+t.width,r=t.top,l=r+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>r&&l>n+c,d="y"===this.options.axis||e+u>s&&a>e+u,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>s&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>r&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&n,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return o?this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:o&&("down"===o&&i||"up"===o&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,o,s,a=[],r=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i]),n=o.length-1;n>=0;n--)s=t.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&r.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,s,a,r,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(o=t(d[i]),n=o.length-1;n>=0;n--)s=t.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(h.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=h.length-1;i>=0;i--)for(a=h[i][1],r=h[i][0],n=0,c=r.length;c>n;n++)l=t(r[n]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var o,s,a,r,l,c,u,h,d,p,f=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&t.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",n,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)t.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(h=this.items[s].item.offset()[l],d=!1,Math.abs(h-u)>Math.abs(h+this.items[s][c]-u)&&(d=!0,h+=this.items[s][c]),a>Math.abs(h-u)&&(a=Math.abs(h-u),r=this.items[s],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;r?this._rearrange(n,r,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,s=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=c(),o=n._rgba=[];return i=i.toLowerCase(),f(l,function(t,s){var a,r=s.re.exec(i),l=r&&s.parse(r),c=s.space||"rgba";return l?(a=n[c](l),n[u[c].cache]=a[u[c].cache],o=n._rgba=a._rgba,!1):e}),o.length?("0,0,0,0"===o.join()&&t.extend(o,s.transparent),n):s[i]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var s,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(o,a,r,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(a),a=e);var h=this,d=t.type(o),p=this._rgba=[];return a!==e&&(o=[o,a,r,l],d="array"),"string"===d?this.parse(n(o)||s._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=i(o[e.idx],e)}),this):"object"===d?(o instanceof c?f(u,function(t,e){o[e.cache]&&(h[e.cache]=o[e.cache].slice())}):f(u,function(e,n){var s=n.cache;f(n.props,function(t,e){if(!h[s]&&n.to){if("alpha"===t||null==o[t])return;h[s]=n.to(h._rgba)}h[s][e.idx]=i(o[t],e,!0)}),h[s]&&0>t.inArray(null,h[s].slice(0,3))&&(h[s][3]=1,n.from&&(h._rgba=n.from(h[s])))}),this):e},is:function(t){var i=c(t),n=!0,o=this;return f(u,function(t,s){var a,r=i[s.cache];return r&&(a=o[s.cache]||s.to&&s.to(o._rgba)||[],f(s.props,function(t,i){return null!=r[i.idx]?n=r[i.idx]===a[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),o=n._space(),s=u[o],a=0===this.alpha()?c("transparent"):this,r=a[s.cache]||s.to(a._rgba),l=r.slice();return n=n[s.cache],f(s.props,function(t,o){var s=o.idx,a=r[s],c=n[s],u=h[o.type]||{};null!==c&&(null===a?l[s]=c:(u.mod&&(c-a>u.mod/2?a+=u.mod:a-c>u.mod/2&&(a-=u.mod)),l[s]=i((c-a)*e+a,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,s=t[2]/255,a=t[3],r=Math.max(n,o,s),l=Math.min(n,o,s),c=r-l,u=r+l,h=.5*u;return e=l===r?0:n===r?60*(o-s)/c+360:o===r?60*(s-n)/c+120:60*(n-o)/c+240,i=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,i,h,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],a=.5>=n?n*(1+i):n+i-n*i,r=2*n-a;return[Math.round(255*o(r,a,e+1/3)),Math.round(255*o(r,a,e)),Math.round(255*o(r,a,e-1/3)),s];
},f(u,function(n,o){var s=o.props,a=o.cache,l=o.to,u=o.from;c.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===e)return this[a].slice();var o,r=t.type(n),h="array"===r||"object"===r?n:arguments,d=this[a].slice();return f(s,function(t,e){var n=h["object"===r?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),u?(o=c(u(d)),o[a]=d,o):c(d)},f(s,function(e,i){c.fn[e]||(c.fn[e]=function(o){var s,a=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===a?u:("function"===a&&(o=o.call(this,u),a=t.type(o)),null==o&&i.empty?this:("string"===a&&(s=r.exec(o),s&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=o,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,o){var s,a,r="";if("transparent"!==o&&("string"!==t.type(o)||(s=n(o)))){if(o=c(s||o),!d.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}o=o.blend(r&&"transparent"!==r?r:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function n(e,i){var n,o,a={};for(n in i)o=i[n],e[n]!==o&&(s[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(a[n]=o));return a}var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,s,a,r){var l=t.speed(s,a,r);return this.queue(function(){var s,a=t(this),r=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}}),s=function(){t.each(o,function(t,i){e[i]&&a[i+"Class"](e[i])})},s(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",r),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,s){return n?t.effects.animateClass.call(this,{add:i},n,o,s):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,o,s,a,r){return"boolean"==typeof o||o===e?s?t.effects.animateClass.call(this,o?{add:n}:{remove:n},s,a,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},o,s,a)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,s){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,s)}})}(),function(){function n(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function o(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var o,s;for(s=0;n.length>s;s++)null!==n[s]&&(o=t.data(i+n[s]),o===e&&(o=""),t.css(n[s],o))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},s=document.activeElement;try{s.id}catch(a){s=document.body}return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var s=e.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(s)&&s.call(o[0]),t.isFunction(e)&&e()}var o=t(this),s=i.complete,r=i.mode;(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),n()):a.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,s=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):s===!1?this.each(e):this.queue(s||"fx",e)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),s=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),s.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,o=n.heightStyle,s=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),o=i.next(),s=o.attr("id");n||(n=a+"-header-"+e,i.attr("id",n)),s||(s=a+"-panel-"+e,o.attr("id",s)),i.attr("aria-controls",s),o.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(i=s.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===o&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),s=o[0]===n[0],a=s&&i.collapsible,r=a?t():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:a?t():o,newPanel:r};e.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=a?!1:this.headers.index(o),this.active=s?t():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,o){var s,a,r,l=this,c=0,u=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},d=u&&h.down||h,p=function(){l._toggleComplete(o)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||h.easing,r=r||d.duration||h.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(i,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-c),c=0)}})):e.animate(i,r,a,p):t.animate(n,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,a="input"===o;this.isMultiLine=s?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case s.UP:e=!0,this._keyEvent("previous",o);break;case s.DOWN:e=!0,this._keyEvent("next",o);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,n,o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},c=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),o};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,u="checkbox"===this.type||"radio"===this.type,h=u?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(h)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(d)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(o=!1,i=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||n!==t.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];c(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void a.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",
buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(s.inline?e.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function o(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var s,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,s;n=e.nodeName.toLowerCase(),o="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),o),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):o&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,s,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:o,title:o}):o)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,s=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;t.length>o;o++)t[o].length>i&&(i=t[o].length,n=o);return n},s.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,r){var l,c,u,h,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),o(p.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,o=t(e),s=t.data(e,a);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),s=t.data(e,a);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var a,r,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=s),u&&(this._curInst===u&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),o(u.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&a.dateFormat!==e&&a.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),u),this._autoSize(u),this._setDate(u,r),this._updateAlternate(u),this._updateDatepicker(u)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,s=t.datepicker._getInst(e.target),a=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),o[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,o[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,o,s=t.datepicker._getInst(i.target);return t.datepicker._get(s,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),o=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">o||!n||n.indexOf(o)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,s,a,r,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),s=n?n.apply(e,[e,i]):{},s!==!1&&(o(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),o=n[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",a*o+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,o,s,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),o=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),n,o):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(e,i,n,o){var s,a=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(s=this._getInst(a[0]),s.selectedDay=s.currentDay=t("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(s).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,o){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var s,a,r,l,c=0,u=(o?o.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,p=(o?o.dayNames:null)||this._defaults.dayNames,f=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,m=(o?o.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,b=-1,y=-1,w=!1,x=function(t){var e=i.length>s+1&&i.charAt(s+1)===t;return e&&s++,e},C=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=RegExp("^\\d{1,"+i+"}"),s=n.substring(c).match(o);if(!s)throw"Missing number at position "+c;return c+=s[0].length,parseInt(s[0],10)},_=function(i,o,s){var a=-1,r=t.map(x(i)?s:o,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,i){var o=i[1];return n.substr(c,o.length).toLowerCase()===o.toLowerCase()?(a=i[0],c+=o.length,!1):e}),-1!==a)return a+1;throw"Unknown name at position "+c},k=function(){if(n.charAt(c)!==i.charAt(s))throw"Unexpected literal at position "+c;c++};for(s=0;i.length>s;s++)if(w)"'"!==i.charAt(s)||x("'")?k():w=!1;else switch(i.charAt(s)){case"d":b=C("d");break;case"D":_("D",d,p);break;case"o":y=C("o");break;case"m":v=C("m");break;case"M":v=_("M",f,m);break;case"y":g=C("y");break;case"@":l=new Date(C("@")),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"!":l=new Date((C("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"'":x("'")?k():w=!0;break;default:k()}if(n.length>c&&(r=n.substr(c),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),y>-1)for(v=1,b=y;a=this._getDaysInMonth(g,v-1),!(a>=b);)v++,b-=a;if(l=this._daylightSavingAdjust(new Date(g,v-1,b)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==b)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),o,s);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),a,r);break;case"y":h+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),s=o,a=this._getFormatConfig(t);try{s=this.parseDate(i,n,a)||o}catch(r){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=o.getFullYear(),a=o.getMonth(),r=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,a))}c=l.exec(i)}return new Date(s,a,r)},a=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,s=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),o===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,s,a,r,l,c,u,h,d,p,f,m,g,v,b,y,w,x,C,_,k,S,T,D,A,I,E,O,P,M,N,L,R,$,F,B,H=new Date,j=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),W=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),J=this._get(t,"stepMonths"),G=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-J,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+J,1)),this._getFormatConfig(t)):o,s=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?K:j,a=U?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",C=0;q[0]>C;C++){for(_="",this.maxRows=4,k=0;q[1]>k;k++){if(S=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",q[1]>1)switch(k){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(W?"right":"left");break;case q[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(W?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===C?W?s:n:"")+(/all|right/.test(T)&&0===C?W?n:s:"")+this._generateMonthYearHeader(t,Z,tt,X,Q,C>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)I=(x+u)%7,A+="<th"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[I]+"'>"+p[I]+"</span></th>";for(D+=A+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),O=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,P=Math.ceil((O+E)/7),M=G&&this.maxRows>P?this.maxRows:P,this.maxRows=M,N=this._daylightSavingAdjust(new Date(tt,Z,1-O)),L=0;M>L;L++){for(D+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",x=0;7>x;x++)$=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,B=F&&!b||!$[0]||X&&X>N||Q&&N>Q,R+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===N.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+$[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===j.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);D+=R+"</tr>"}Z++,Z>11&&(Z=0,tt++),D+="</tbody></table>"+(G?"</div>"+(q[0]>0&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),_+=D}w+=_}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,o,s,a,r){var l,c,u,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||o.getMonth()>=u)&&(w+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");w+="</select>"}if(b||(y+=w+(!s&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!s&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,s)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&i>e?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){
return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:o[0]*o[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!o||e.getTime()>=o.getTime())&&(!s||e.getTime()<=s.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(o.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var o,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(e.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(s).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,s){n.position=[s.position.left-i.document.scrollLeft(),s.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,s){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(s))}}).css("position",s)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var o=this,s=!1,a={};t.each(n,function(t,n){o._setOption(t,n),t in e&&(s=!0),t in i&&(a[t]=n)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=o.is(":data(ui-resizable)"),n&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(o[t]=n[t],n[t]=e)}),i={my:n[0]+(0>o[0]?o[0]:"+"+o[0])+" "+n[1]+(0>o[1]?o[1]:"+"+o[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,o){var s,a,r,l=t(this),c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(l,n.mode||"hide"),h=n.direction||"up",d=e.test(h),p=d?"height":"width",f=d?"top":"left",m=i.test(h),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),s=t.effects.createWrapper(l).css({overflow:"hidden"}),a=s[p](),r=parseFloat(s.css(f))||0,g[p]=v?a:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:a+r),v&&(s.css(p,0),m||s.css(f,r+a)),s.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),o()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,o,s,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),c="hide"===l,u="show"===l,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||c?1:0),m=e.duration/f,g=e.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=a.queue(),w=y.length;for((u||c)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[v]=0,a.css("opacity",0).css(v,b?2*-d:2*d).animate(s,m,g)),c&&(d/=Math.pow(2,p-1)),s={},s[v]=0,n=0;p>n;n++)o={},o[v]=(b?"-=":"+=")+d,a.animate(o,m,g).animate(s,m,g),d=c?2*d:d/2;c&&(o={opacity:0},o[v]=(b?"-=":"+=")+d,a.animate(o,m,g)),a.queue(function(){c&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),a.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,o,s,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",h="vertical"===u,d=h?"height":"width",p=h?"top":"left",f={};t.effects.save(a,r),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?n:a,s=o[d](),c&&(o.css(d,0),o.css(p,s/2)),f[d]=c?s:0,f[p]=c?0:s/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(o,e.mode||"hide"),r="show"===a,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:r?1:0};t.effects.save(o,s),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&o.css("opacity",0).css(c,"pos"===u?-n:n),h[c]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){y.push(this),y.length===h*d&&o()}function o(){p.css({visibility:"visible"}),t(y).remove(),m||p.hide(),i()}var s,a,r,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/h),y=[];for(s=0;h>s;s++)for(l=g.top+s*b,u=s-(h-1)/2,a=0;d>a;a++)r=g.left+a*v,c=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-s*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:r+(m?c*v:0),top:l+(m?u*b:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:u*b),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,o,s=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(s,e.mode||"hide"),l="show"===r,c="hide"===r,u=e.size||15,h=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(u=parseInt(h[1],10)/100*o[c?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?o[0]:u,v[f[1]]=l?o[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(n,e.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===s&&(a.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&n.hide(),t.effects.restore(n,o),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,o=t(this),s=t.effects.setMode(o,e.mode||"show"),a="show"===s,r="hide"===s,l=a||"hide"===s,c=2*(e.times||5)+(l?1:0),u=e.duration/c,h=0,d=o.queue(),p=d.length;for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),h=1),n=1;c>n;n++)o.animate({opacity:h},u,e.easing),h=1-h;o.animate({opacity:h},u,e.easing),o.queue(function(){r&&o.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),o.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),s="hide"===o,a=parseInt(e.percent,10)||150,r=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?a:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),s=t.effects.setMode(n,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===s?0:100),r=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},t.effects.effect.size=function(e,i){var n,o,s,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),b=f?r:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||y,a.to=e.from||n):(a.from=e.from||("show"===p?y:n),a.to=e.to||("hide"===p?y:n)),s={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(b=b.concat(h),a.from=t.effects.setTransition(a,h,s.from.y,a.from),a.to=t.effects.setTransition(a,h,s.to.y,a.to)),s.from.x!==s.to.x&&(b=b.concat(d),a.from=t.effects.setTransition(a,d,s.from.x,a.from),a.to=t.effects.setTransition(a,d,s.to.x,a.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(b=b.concat(u).concat(c),a.from=t.effects.setTransition(a,u,s.from.y,a.from),a.to=t.effects.setTransition(a,u,s.to.y,a.to)),t.effects.save(a,b),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(o=t.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*o.y,a.from.left=(n.outerWidth-a.outerWidth())*o.x,a.to.top=(n.outerHeight-a.to.outerHeight)*o.y,a.to.left=(n.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=r.concat(h).concat(d),a.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,c),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=t.effects.setTransition(i,h,s.from.y,i.from),i.to=t.effects.setTransition(i,h,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=t.effects.setTransition(i,d,s.from.x,i.from),i.to=t.effects.setTransition(i,d,s.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,c)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,b),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var n=parseInt(i,10),o=t?a.to.left:a.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=o.queue(),b=v.length;for(t.effects.save(o,s),o.show(),t.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,o.animate(f,h,e.easing),n=1;c>n;n++)o.animate(m,h,e.easing).animate(g,h,e.easing);o.animate(m,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===a&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,u+1))),o.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(o,e.mode||"show"),r="show"===a,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};t.effects.save(o,s),o.show(),n=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),r&&o.css(c,u?isNaN(n)?"-"+n:-n:n),h[c]=(r?u?"+=":"-=":u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),s="fixed"===o.css("position"),a=t("body"),r=s?a.scrollTop():0,l=s?a.scrollLeft():0,c=o.offset(),u={top:c.top-r,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,s,a,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),s===o?a=!0:s=o+s,r=RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(e.keyCode),r=RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),o=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,o,s,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),0>o?this.activeMenu.scrollTop(s+o):o+r>a&&this.activeMenu.scrollTop(s+o-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),
e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-o}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+o>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function o(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,a=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(s!==e)return s;var i,n,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return t("body").append(o),i=a.offsetWidth,o.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),s=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var s,p,m,g,v,b,y=t(e.of),w=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(w),C=(e.collision||"flip").split(" "),_={};return b=o(y),y[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),i=h.exec(n[1]),_[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),s=i(_.at,p,m),v.left+=s[0],v.top+=s[1],this.each(function(){var o,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),b=n(this,"marginTop"),k=h+f+n(this,"marginRight")+x.width,S=d+b+n(this,"marginBottom")+x.height,T=t.extend({},v),D=i(_.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?T.left-=h:"center"===e.my[0]&&(T.left-=h/2),"bottom"===e.my[1]?T.top-=d:"center"===e.my[1]&&(T.top-=d/2),T.left+=D[0],T.top+=D[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),o={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,n){t.ui.position[C[i]]&&t.ui.position[C[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:o,collisionWidth:k,collisionHeight:S,offset:[s[0]+D[0],s[1]+D[1]],my:e.my,at:e.at,within:w,elem:u})}),e.using&&(c=function(t){var i=g.left-T.left,n=i+p-h,o=g.top-T.top,s=o+m-d,l={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};h>p&&p>r(i+n)&&(l.horizontal="center"),d>m&&m>r(o+s)&&(l.vertical="middle"),l.important=a(r(i),r(n))>a(r(o),r(s))?"horizontal":"vertical",e.using.call(this,t,l)}),u.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=t.left-e.collisionPosition.marginLeft,l=o-r,c=r+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=c?(i=t.left+l+e.collisionWidth-s-o,t.left+=l-i):t.left=c>0&&0>=l?o:l>c?o+s-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,l=o-r,c=r+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=c?(i=t.top+l+e.collisionHeight-s-o,t.top+=l-i):t.top=c>0&&0>=l?o:l>c?o+s-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-a-s,(0>i||r(u)>i)&&(t.left+=d+p+f)):h>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||h>r(n))&&(t.left+=d+p+f))},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(n=t.top+p+f+m+e.collisionHeight-a-s,t.top+p+f+m>u&&(0>n||r(u)>n)&&(t.top+=p+f+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>h&&(i>0||h>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,s,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",o=t(r).offset().left,t.support.offsetFractions=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;i>e;e++)a.push(s);this.handles=o.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,s,a,r,l,c,u=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(o>i||o===i&&(e===u._lastChangedValue||u.values(e)===h.min))&&(o=i,s=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-s.width()/2,top:e.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(o=this.values(),o[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),s!==!1&&this.values(e,i,!0))):i!==this.value()&&(s=this._trigger("slide",t,{handle:this.handles[e],value:i}),s!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,o,s,a=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?100*((n-o)/(s-o)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var n,o,s,a,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,r),n===!1))return}switch(a=this.options.step,o=s=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(o===this._valueMax())return;s=this._trimAlignValue(o+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(o===this._valueMin())return;s=this._trimAlignValue(o-a)}this._slide(i,r,s)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);void 0!==o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++o}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var o=0,s=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,n=this.options.collapsible,o=location.hash.substring(1);return null===i&&(o&&this.tabs.each(function(n,s){return t(s).attr("aria-controls")===o?(i=n,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=n?!1:0)),!n&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var n=t(this.document[0].activeElement).closest("li"),o=this.tabs.index(n),s=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:o++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,o--;break;case t.ui.keyCode.END:o=this.anchors.length-1;break;case t.ui.keyCode.HOME:o=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(o),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(o===this.options.active?!1:o),e;default:return}i.preventDefault(),clearTimeout(this.activating),o=this._focusNextTab(o,s),i.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(o).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",o)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function n(){return e>o&&(e=0),0>e&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({
"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,o){var s,a,r,l=t(o).uniqueId().attr("id"),c=t(o).closest("li"),u=c.attr("aria-controls");n(o)?(s=o.hash,a=e.element.find(e._sanitizeSelector(s))):(r=e._tabId(c),s="#"+r,a=e.element.find(s),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),s=o.closest("li"),a=s[0]===n[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:c,newTab:r?t():s,newPanel:l};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(s),this.active=a?t():s,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),e),this._toggle(e,u))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&s.options.show?s._show(a,s.options.show,n):(a.show(),n())}var s=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),o()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var o=this,s=this.tabs.eq(e),a=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),l={tab:s,panel:r};n(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),o._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(e,i,n){var o=this;return{url:e.attr("href"),beforeSend:function(e,s){return o._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);-1!==o&&n.splice(o,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,s=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&o._delay(function(){e&&(e.type=s),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,o){function s(t){c.of=t,a.is(":hidden")||a.position(c)}var a,r,l,c=t.extend({},this.options.position);if(o){if(a=this._find(n),a.length)return void a.find(".ui-tooltip-content").html(o);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),a=this._tooltip(n),e(n,a.attr("id")),a.find(".ui-tooltip-content").html(o),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:s}),s(i)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(s(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,n,r)}},close:function(e){var n=this,o=t(e?e.currentTarget:this.element),s=this._find(o);this.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),i(o),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:s}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,o=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[i]=e,o},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),define("jqueryui",["jquery"],function(){}),function(t){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var i=e||0,n=this.length;n>i;i++)if(this[i]===t)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e){return this.each(function(){var i=t(this);if(!t(this).hasClass("xdsoft_scroller_box")){var n=function(t){var e={x:0,y:0};if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=i.pageX,e.y=i.pageY}else("mousedown"==t.type||"mouseup"==t.type||"mousemove"==t.type||"mouseover"==t.type||"mouseout"==t.type||"mouseenter"==t.type||"mouseleave"==t.type)&&(e.x=t.pageX,e.y=t.pageY);return e},o=0,s=i.children().eq(0),a=i[0].clientHeight,r=s[0].offsetHeight,l=t('<div class="xdsoft_scrollbar"></div>'),c=t('<div class="xdsoft_scroller"></div>'),u=100,h=!1;l.append(c),i.addClass("xdsoft_scroller_box").append(l),c.on("mousedown.xdsoft_scroller",function(n){a||i.trigger("resize_scroll.xdsoft_scroller",[e]);var s=n.pageY,r=parseInt(c.css("margin-top")),h=l[0].offsetHeight;t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("mouseup.xdsoft_scroller",function d(){t([document.body,window]).off("mouseup.xdsoft_scroller",d).off("mousemove.xdsoft_scroller",o).removeClass("xdsoft_noselect")}),t(document.body).on("mousemove.xdsoft_scroller",o=function(t){var e=t.pageY-s+r;0>e&&(e=0),e+c[0].offsetHeight>h&&(e=h-c[0].offsetHeight),i.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])})}),i.on("scroll_element.xdsoft_scroller",function(t,e){a||i.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,c.css("margin-top",u*e),s.css("marginTop",-parseInt((r-a)*e))}).on("resize_scroll.xdsoft_scroller",function(t,e,n){a=i[0].clientHeight,r=s[0].offsetHeight;var o=a/r,h=o*l[0].offsetHeight;o>1?c.hide():(c.show(),c.css("height",parseInt(h>10?h:10)),u=l[0].offsetHeight-c[0].offsetHeight,n!==!0&&i.trigger("scroll_element.xdsoft_scroller",[e?e:Math.abs(parseInt(s.css("marginTop")))/(r-a)]))}),i.mousewheel&&i.mousewheel(function(t,e,n,o){var l=Math.abs(parseInt(s.css("marginTop")));return i.trigger("scroll_element.xdsoft_scroller",[(l-20*e)/(r-a)]),t.stopPropagation(),!1}),i.on("touchstart",function(t){h=n(t)}),i.on("touchmove",function(t){if(h){var e=n(t),o=Math.abs(parseInt(s.css("marginTop")));i.trigger("scroll_element.xdsoft_scroller",[(o-(e.y-h.y))/(r-a)]),t.stopPropagation(),t.preventDefault(),h=n(t)}}),i.on("touchend touchcancel",function(t){h=!1})}i.trigger("resize_scroll.xdsoft_scroller",[e])})},t.fn.datetimepicker=function(i){var n=48,o=57,s=96,a=105,r=17,l=46,c=13,u=27,h=8,d=37,p=38,f=39,m=40,g=9,v=116,b=65,y=67,w=86,x=90,C=89,_=!1,k=t.isPlainObject(i)||!i?t.extend(!0,{},e,i):t.extend({},e),S=0,T=function(t){t.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function e(i){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||t.data("xdsoft_datetimepicker")||(clearTimeout(S),S=setTimeout(function(){t.data("xdsoft_datetimepicker")||D(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",e).trigger("open.xdsoft")},100))})},D=function(e){function i(){var t=!1;return k.startDate?t=$.strToDate(k.startDate):(t=k.value?k.value:e&&e.val&&e.val()?e.val():"",t?t=$.strToDateTime(t):k.defaultDate&&(t=$.strToDate(k.defaultDate))),t&&$.isValidDate(t)?S.data("changed",!0):t="",t?t:0}var S=t("<div "+(k.id?'id="'+k.id+'"':"")+" "+(k.style?'style="'+k.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+(k.weeks?" xdsoft_showweeks":"")+k.className+'"></div>'),T=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),D=t('<div class="xdsoft_datepicker active"></div>'),A=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),I=t('<div class="xdsoft_calendar"></div>'),E=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),O=E.find(".xdsoft_time_box").eq(0),P=t('<div class="xdsoft_time_variant"></div>'),M=t('<div class="xdsoft_scrollbar"></div>'),N=(t('<div class="xdsoft_scroller"></div>'),t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),L=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');A.find(".xdsoft_month span").after(N),A.find(".xdsoft_year span").after(L),A.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){A.find(".xdsoft_select").hide();var i=t(this).find(".xdsoft_select").eq(0),n=0,o=0;$.currentTime&&(n=$.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i.show();for(var s=i.find("div.xdsoft_option"),a=0;a<s.length&&s.eq(a).data("value")!=n;a++)o+=s[0].offsetHeight;return i.xdsoftScroller(o/(i.children()[0].offsetHeight-i[0].clientHeight)),e.stopPropagation(),!1}),A.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(t){t.stopPropagation(),t.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(e){$&&$.currentTime&&$.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),S.trigger("xchange.xdsoft"),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(S,$.currentTime,S.data("input"))}),S.setOptions=function(i){if(k=t.extend(!0,{},k,i),i.allowTimes&&t.isArray(i.allowTimes)&&i.allowTimes.length&&(k.allowTimes=t.extend(!0,[],i.allowTimes)),i.weekends&&t.isArray(i.weekends)&&i.weekends.length&&(k.weekends=t.extend(!0,[],i.weekends)),!k.open&&!k.opened||k.inline||e.trigger("open.xdsoft"),k.inline&&(H=!0,S.addClass("xdsoft_inline"),e.after(S).hide()),k.inverseButton&&(k.next="xdsoft_prev",k.prev="xdsoft_next"),k.datepicker?D.addClass("active"):D.removeClass("active"),k.timepicker?E.addClass("active"):E.removeClass("active"),k.value&&(e&&e.val&&e.val(k.value),$.setCurrentTime(k.value)),isNaN(k.dayOfWeekStart)?k.dayOfWeekStart=0:k.dayOfWeekStart=parseInt(k.dayOfWeekStart)%7,k.timepickerScrollbar||M.hide(),k.minDate&&/^-(.*)$/.test(k.minDate)&&(k.minDate=$.strToDateTime(k.minDate).dateFormat(k.formatDate)),k.maxDate&&/^\+(.*)$/.test(k.maxDate)&&(k.maxDate=$.strToDateTime(k.maxDate).dateFormat(k.formatDate)),A.find(".xdsoft_today_button").css("visibility",k.todayButton?"visible":"hidden"),k.mask){var T=function(t){try{if(document.selection&&document.selection.createRange){var e=document.selection.createRange();return e.getBookmark().charCodeAt(2)-2}if(t.setSelectionRange)return t.selectionStart}catch(i){return 0}},I=function(t,e){if(t="string"==typeof t||t instanceof String?document.getElementById(t):t,!t)return!1;if(t.createTextRange){var i=t.createTextRange();return i.collapse(!0),i.moveEnd(e),i.moveStart(e),i.select(),!0}return t.setSelectionRange?(t.setSelectionRange(e,e),!0):!1},O=function(t,e){var i=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(i).test(e)};switch(e.off("keydown.xdsoft"),!0){case k.mask===!0:k.mask=k.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==t.type(k.mask):O(k.mask,e.val())||e.val(k.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",function(i){var S=this.value,D=i.which;switch(!0){case D>=n&&o>=D||D>=s&&a>=D||D==h||D==l:var A=T(this),E=D!=h&&D!=l?String.fromCharCode(D>=s&&a>=D?D-n:D):"_";for(D!=h&&D!=l||!A||(A--,E="_");/[^0-9_]/.test(k.mask.substr(A,1))&&A<k.mask.length&&A>0;)A+=D==h||D==l?-1:1;if(S=S.substr(0,A)+E+S.substr(A+1),""==t.trim(S))S=k.mask.replace(/[0-9]/g,"_");else if(A==k.mask.length)break;for(A+=D==h||D==l?0:1;/[^0-9_]/.test(k.mask.substr(A,1))&&A<k.mask.length&&A>0;)A+=D==h||D==l?-1:1;O(k.mask,S)?(this.value=S,I(this,A)):""==t.trim(S)?this.value=k.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft");break;case!!~[b,y,w,x,C].indexOf(D)&&_:case!!~[u,p,m,d,f,v,r,g,c].indexOf(D):return!0}return i.preventDefault(),!1})}}k.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){k.allowBlank&&!t.trim(t(this).val()).length?(t(this).val(null),S.data("xdsoft_datetime").empty()):Date.parseDate(t(this).val(),k.format)?S.data("xdsoft_datetime").setCurrentTime(t(this).val()):(t(this).val($.now().dateFormat(k.format)),S.data("xdsoft_datetime").setCurrentTime(t(this).val())),S.trigger("changedatetime.xdsoft")}),k.dayOfWeekStartPrev=0==k.dayOfWeekStart?6:k.dayOfWeekStart-1,S.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},S.data("options",k).on("mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),L.hide(),N.hide(),!1});var R=E.find(".xdsoft_time_box");R.append(P),R.xdsoftScroller(),S.on("afterOpen.xdsoft",function(){R.xdsoftScroller()}),S.append(D).append(E),k.withoutCopyright!==!0&&S.append(T),D.append(A).append(I),t("body").append(S);var $=new function(){var t=this;t.now=function(e){var i=new Date;if(!e&&k.defaultDate){var n=t.strToDate(k.defaultDate);i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate())}if(k.yearOffset&&i.setFullYear(i.getFullYear()+k.yearOffset),!e&&k.defaultTime){var o=t.strtotime(k.defaultTime);i.setHours(o.getHours()),i.setMinutes(o.getMinutes())}return i},t.isValidDate=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),S.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){var e=t.currentTime.getMonth()+1;return 12==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),e=0),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),e+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(e),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(S,$.currentTime,S.data("input")),S.trigger("xchange.xdsoft"),e},t.prevMonth=function(){var e=t.currentTime.getMonth()-1;return-1==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),e=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),e+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(e),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(S,$.currentTime,S.data("input")),S.trigger("xchange.xdsoft"),e},t.strToDateTime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i,n,o=[];return(o=/^(\+|\-)(.*)$/.exec(e))&&(o[2]=Date.parseDate(o[2],k.formatDate))?(i=o[2].getTime()-6e4*o[2].getTimezoneOffset(),n=new Date($.now().getTime()+parseInt(o[1]+"1")*i)):n=e?Date.parseDate(e,k.format):t.now(),t.isValidDate(n)||(n=t.now()),n},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?Date.parseDate(e,k.formatDate):t.now(!0);return t.isValidDate(i)||(i=t.now(!0)),i},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?Date.parseDate(e,k.formatTime):t.now();return t.isValidDate(i)||(i=t.now(!0)),i},t.str=function(){return t.currentTime.dateFormat(k.format)},t.currentTime=this.now()};A.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){S.data("changed",!0),$.setCurrentTime(0),S.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){e.val($.str()),S.trigger("close.xdsoft")}),A.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,n=!1;!function o(t){$.currentTime.getMonth();e.hasClass(k.next)?$.nextMonth():e.hasClass(k.prev)&&$.prevMonth(),k.monthChangeSpinner&&!n&&(i=setTimeout(o,t?t:100))}(500),t([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(i),n=!0,t([document.body,window]).off("mouseup.xdsoft",s)})}),E.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,n=!1,o=110;!function s(t){var a=O[0].clientHeight,r=P[0].offsetHeight,l=Math.abs(parseInt(P.css("marginTop")));e.hasClass(k.next)&&r-a-k.timeHeightInTimePicker>=l?P.css("marginTop","-"+(l+k.timeHeightInTimePicker)+"px"):e.hasClass(k.prev)&&l-k.timeHeightInTimePicker>=0&&P.css("marginTop","-"+(l-k.timeHeightInTimePicker)+"px"),O.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(P.css("marginTop"))/(r-a))]),o=o>10?10:o-10,!n&&(i=setTimeout(s,t?t:o))}(500),t([document.body,window]).on("mouseup.xdsoft",function a(){clearTimeout(i),n=!0,t([document.body,window]).off("mouseup.xdsoft",a)})});var F=0;S.on("xchange.xdsoft",function(e){clearTimeout(F),F=setTimeout(function(){for(var e="",i=new Date($.currentTime.getFullYear(),$.currentTime.getMonth(),1,12,0,0),n=0,o=$.now();i.getDay()!=k.dayOfWeekStart;)i.setDate(i.getDate()-1);e+="<table><thead><tr>",k.weeks&&(e+="<th></th>");for(var s=0;7>s;s++)e+="<th>"+k.i18n[k.lang].dayOfWeek[(s+k.dayOfWeekStart)%7]+"</th>";e+="</tr></thead>",e+="<tbody>";var a=!1,r=!1;k.maxDate!==!1&&(a=$.strToDate(k.maxDate),a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999)),k.minDate!==!1&&(r=$.strToDate(k.minDate),r=new Date(r.getFullYear(),r.getMonth(),r.getDate()));for(var l,c,u,h,d,p=[],f=!0;n<$.currentTime.countDaysInMonth()||i.getDay()!=k.dayOfWeekStart||$.currentTime.getMonth()==i.getMonth();)p=[],n++,l=i.getDate(),c=i.getFullYear(),u=i.getMonth(),h=i.getWeekOfYear(),p.push("xdsoft_date"),d=k.beforeShowDay&&k.beforeShowDay.call?k.beforeShowDay.call(S,i):null,(a!==!1&&i>a||r!==!1&&r>i||d&&d[0]===!1)&&p.push("xdsoft_disabled"),d&&""!=d[1]&&p.push(d[1]),$.currentTime.getMonth()!=u&&p.push("xdsoft_other_month"),(k.defaultSelect||S.data("changed"))&&$.currentTime.dateFormat(k.formatDate)==i.dateFormat(k.formatDate)&&p.push("xdsoft_current"),o.dateFormat(k.formatDate)==i.dateFormat(k.formatDate)&&p.push("xdsoft_today"),(0==i.getDay()||6==i.getDay()||~k.weekends.indexOf(i.dateFormat(k.formatDate)))&&p.push("xdsoft_weekend"),k.beforeShowDay&&"function"==typeof k.beforeShowDay&&p.push(k.beforeShowDay(i)),f&&(e+="<tr>",f=!1,k.weeks&&(e+="<th>"+h+"</th>")),e+='<td data-date="'+l+'" data-month="'+u+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+i.getDay()+" "+p.join(" ")+'"><div>'+l+"</div></td>",i.getDay()==k.dayOfWeekStartPrev&&(e+="</tr>",f=!0),i.setDate(l+1);e+="</tbody></table>",I.html(e),A.find(".xdsoft_label span").eq(0).text(k.i18n[k.lang].months[$.currentTime.getMonth()]),A.find(".xdsoft_label span").eq(1).text($.currentTime.getFullYear());
var m="",g="",u="",v=function(t,e){var i=$.now();i.setHours(t),t=parseInt(i.getHours()),i.setMinutes(e),e=parseInt(i.getMinutes()),p=[],(k.maxTime!==!1&&$.strtotime(k.maxTime).getTime()<i.getTime()||k.minTime!==!1&&$.strtotime(k.minTime).getTime()>i.getTime())&&p.push("xdsoft_disabled"),(k.initTime||k.defaultSelect||S.data("changed"))&&parseInt($.currentTime.getHours())==parseInt(t)&&(k.step>59||Math[k.roundTime]($.currentTime.getMinutes()/k.step)*k.step==parseInt(e))&&(k.defaultSelect||S.data("changed")?p.push("xdsoft_current"):k.initTime&&p.push("xdsoft_init_time")),parseInt(o.getHours())==parseInt(t)&&parseInt(o.getMinutes())==parseInt(e)&&p.push("xdsoft_today"),m+='<div class="xdsoft_time '+p.join(" ")+'" data-hour="'+t+'" data-minute="'+e+'">'+i.dateFormat(k.formatTime)+"</div>"};if(k.allowTimes&&t.isArray(k.allowTimes)&&k.allowTimes.length)for(var n=0;n<k.allowTimes.length;n++)g=$.strtotime(k.allowTimes[n]).getHours(),u=$.strtotime(k.allowTimes[n]).getMinutes(),v(g,u);else for(var n=0,s=0;n<(k.hours12?12:24);n++)for(s=0;60>s;s+=k.step)g=(10>n?"0":"")+n,u=(10>s?"0":"")+s,v(g,u);P.html(m);var b="",n=0;for(n=parseInt(k.yearStart,10)+k.yearOffset;n<=parseInt(k.yearEnd,10)+k.yearOffset;n++)b+='<div class="xdsoft_option '+($.currentTime.getFullYear()==n?"xdsoft_current":"")+'" data-value="'+n+'">'+n+"</div>";for(L.children().eq(0).html(b),n=0,b="";11>=n;n++)b+='<div class="xdsoft_option '+($.currentTime.getMonth()==n?"xdsoft_current":"")+'" data-value="'+n+'">'+k.i18n[k.lang].months[n]+"</div>";N.children().eq(0).html(b),t(S).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(k.timepicker){var t;if(P.find(".xdsoft_current").length?t=".xdsoft_current":P.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t){var e=O[0].clientHeight,i=P[0].offsetHeight,n=P.find(t).index()*k.timeHeightInTimePicker+1;n>i-e&&(n=i-e),O.trigger("scroll_element.xdsoft_scroller",[parseInt(n)/(i-e)])}else O.trigger("scroll_element.xdsoft_scroller",[0])}});var B=0;I.on("click.xdsoft","td",function(i){i.stopPropagation(),B++;var n=t(this),o=$.currentTime;return(void 0===o||null===o)&&($.currentTime=$.now(),o=$.currentTime),n.hasClass("xdsoft_disabled")?!1:(o.setDate(1),o.setFullYear(n.data("year")),o.setMonth(n.data("month")),o.setDate(n.data("date")),S.trigger("select.xdsoft",[o]),e.val($.str()),(B>1||k.closeOnDateSelect===!0||0===k.closeOnDateSelect&&!k.timepicker)&&!k.inline&&S.trigger("close.xdsoft"),k.onSelectDate&&k.onSelectDate.call&&k.onSelectDate.call(S,$.currentTime,S.data("input")),S.data("changed",!0),S.trigger("xchange.xdsoft"),S.trigger("changedatetime.xdsoft"),void setTimeout(function(){B=0},200))}),P.on("click.xdsoft","div",function(e){e.stopPropagation();var i=t(this),n=$.currentTime;return(void 0===n||null===n)&&($.currentTime=$.now(),n=$.currentTime),i.hasClass("xdsoft_disabled")?!1:(n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),S.trigger("select.xdsoft",[n]),S.data("input").val($.str()),!k.inline&&S.trigger("close.xdsoft"),k.onSelectTime&&k.onSelectTime.call&&k.onSelectTime.call(S,$.currentTime,S.data("input")),S.data("changed",!0),S.trigger("xchange.xdsoft"),void S.trigger("changedatetime.xdsoft"))}),S.mousewheel&&D.mousewheel(function(t,e,i,n){return k.scrollMonth?(0>e?$.nextMonth():$.prevMonth(),!1):!0}),S.mousewheel&&O.unmousewheel().mousewheel(function(t,e,i,n){if(!k.scrollTime)return!0;var o=O[0].clientHeight,s=P[0].offsetHeight,a=Math.abs(parseInt(P.css("marginTop"))),r=!0;return 0>e&&s-o-k.timeHeightInTimePicker>=a?(P.css("marginTop","-"+(a+k.timeHeightInTimePicker)+"px"),r=!1):e>0&&a-k.timeHeightInTimePicker>=0&&(P.css("marginTop","-"+(a-k.timeHeightInTimePicker)+"px"),r=!1),O.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(P.css("marginTop"))/(s-o))]),t.stopPropagation(),r});var H=!1;S.on("changedatetime.xdsoft",function(){if(k.onChangeDateTime&&k.onChangeDateTime.call){var t=S.data("input");k.onChangeDateTime.call(S,$.currentTime,t),delete k.value,t.trigger("change")}}).on("generate.xdsoft",function(){k.onGenerate&&k.onGenerate.call&&k.onGenerate.call(S,$.currentTime,S.data("input")),H&&(S.trigger("afterOpen.xdsoft"),H=!1)}).on("click.xdsoft",function(t){t.stopPropagation()});var j=0;e.mousewheel&&e.mousewheel(function(t,i,n,o){return k.scrollInput?!k.datepicker&&k.timepicker?(j=P.find(".xdsoft_current").length?P.find(".xdsoft_current").eq(0).index():0,j+i>=0&&j+i<P.children().length&&(j+=i),P.children().eq(j).length&&P.children().eq(j).trigger("mousedown"),!1):k.datepicker&&!k.timepicker?(D.trigger(t,[i,n,o]),e.val&&e.val($.str()),S.trigger("changedatetime.xdsoft"),!1):void 0:!0});var W=function(){var e=S.data("input").offset(),i=e.top+S.data("input")[0].offsetHeight-1,n=e.left,o="absolute";k.fixed?(i-=t(window).scrollTop(),n-=t(window).scrollLeft(),o="fixed"):(i+S[0].offsetHeight>t(window).height()+t(window).scrollTop()&&(i=e.top-S[0].offsetHeight+1),0>i&&(i=0),n+S[0].offsetWidth>t(window).width()&&(n=e.left-S[0].offsetWidth+S.data("input")[0].offsetWidth)),S.css({left:n,top:i,position:o})};S.on("open.xdsoft",function(){var e=!0;k.onShow&&k.onShow.call&&(e=k.onShow.call(S,$.currentTime,S.data("input"))),e!==!1&&(S.show(),W(),t(window).off("resize.xdsoft",W).on("resize.xdsoft",W),k.closeOnWithoutClick&&t([document.body,window]).on("mousedown.xdsoft",function i(){S.trigger("close.xdsoft"),t([document.body,window]).off("mousedown.xdsoft",i)}))}).on("close.xdsoft",function(t){var e=!0;k.onClose&&k.onClose.call&&(e=k.onClose.call(S,$.currentTime,S.data("input"))),e===!1||k.opened||k.inline||S.hide(),t.stopPropagation()}).data("input",e);var V=0;S.data("xdsoft_datetime",$),S.setOptions(k),$.setCurrentTime(i()),e.data("xdsoft_datetimepicker",S).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(t){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker").is(":visible")&&k.closeOnInputClick||(clearTimeout(V),V=setTimeout(function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(H=!0,$.setCurrentTime(i()),S.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var i=(this.value,e.which);switch(!0){case!!~[c].indexOf(i):var n=t("input:visible,textarea:visible");return S.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1;case!!~[g].indexOf(i):return S.trigger("close.xdsoft"),!0}})},A=function(e){var i=e.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),e.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())};return t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode==r&&(_=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode==r&&(_=!1)}),this.each(function(){var e;if(e=t(this).data("xdsoft_datetimepicker")){if("string"===t.type(i))switch(i){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"destroy":A(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,k.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value)}else e.setOptions(i);return 0}"string"!==t.type(i)&&(!k.lazyInit||k.open||k.inline?D(t(this)):T(t(this)))})},t.fn.datetimepicker.defaults=e}(jQuery),function(t){"function"==typeof define&&define.amd?define("datetimepicker",["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var o,s=e||window.event,a=[].slice.call(arguments,1),r=0,l=0,c=0,u=0,h=0;return e=t.event.fix(s),e.type="mousewheel",s.wheelDelta&&(r=s.wheelDelta),s.detail&&(r=-1*s.detail),s.deltaY&&(c=-1*s.deltaY,r=c),s.deltaX&&(l=s.deltaX,r=-1*l),void 0!==s.wheelDeltaY&&(c=s.wheelDeltaY),void 0!==s.wheelDeltaX&&(l=-1*s.wheelDeltaX),u=Math.abs(r),(!i||i>u)&&(i=u),h=Math.max(Math.abs(c),Math.abs(l)),(!n||n>h)&&(n=h),o=r>0?"floor":"ceil",r=Math[o](r/i),l=Math[o](l/n),c=Math[o](c/n),a.unshift(e,r,l,c),(t.event.dispatch||t.event.handle).apply(this,a)}var i,n,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var a=o.length;a;)t.event.fixHooks[o[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=s.length;t;)this.removeEventListener(s[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){if("unixtime"==t)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[t]&&Date.createNewFormat(t);var e=Date.formatFunctions[t];return this[e]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){if("unixtime"==e)return new Date(isNaN(parseInt(t))?0:1e3*parseInt(t));null==Date.parseFunctions[e]&&Date.createParser(e);var i=Date.parseFunctions[e];return Date[i](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+e+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=new Date(this.getFullYear(),0,1),i=7-e.getDay()+4;return String.leftPad(Math.ceil((t-i)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return 0>t?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>t?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,i){var n=new String(t);for(null==i&&(i=" ");n.length<e;)n=i+n;return n},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},define("app/utils/koDatetimePickerBinding",["jquery","knockout","KOMap","shared/dateUtils","datetimepicker"],function(t,e,i,n){"use strict";e.bindingHandlers.datetimePicker={init:function(i,o,s,a,r){function l(){var e=t(i).val(),o=t(g).val(),s=e+" "+o;h.dateValue(n.fromDatetimePickerFormat(s))}function c(){t(f).show(),t(m).hide(),t(v).hide()}function u(){t(f).hide(),t(m).show(),t(v).show()}var h=e.utils.unwrapObservable(o()),d=h.timepicker;if(!t(i).parent().is("div"))throw"Datetime picker must have a container div as parent";h.mask=!0,h.datepicker=!0,h.timepicker=!1,h.format=n.DATE_PICKER_FORMAT,t(i).datetimepicker(h);var p=t.extend({},h);p.datepicker=!1,p.timepicker=!0,p.format=n.TIME_PICKER_FORMAT;var f=document.createElement("div");t(f).addClass("inline addTimeLink"),t(f).html('<a href="#"><i class="fa fa-clock-o" style="font-size: 1.3em"></i></a>'),t(f).click(function(){return u(),!1});var m=document.createElement("div");t(m).html('<a href="#"><i class="fa fa-times"></i></a>'),t(m).addClass("inline leftMargin5 hideTimeLink"),t(m).click(function(){return c(),!1});var g=document.createElement("input");t(g).addClass("form-control narrowest input-sm timePickerInput");var v=document.createElement("div");t(v).addClass("inline timePickerDiv"),t(v).append(g),t(g).datetimepicker(p),t(g).val(n.DEFAULT_TIME_VALUE);var b=document.createElement("div");t(b).addClass("inline leftMargin5"),t(b).append(v),t(b).append(m),t(b).append(f),t(i).parent().append(b),d?u():c(),t(g).change(function(){console.log("Time selection: "+t(g).val()),l()}),t(i).change(function(){console.log("Date selection: "+t(i).val()),l()})},update:function(i,o,s,a,r){var l=e.utils.unwrapObservable(o()),c=l.dateValue&&l.dateValue()||new Date;t(i).val(n.toDatePickerFormat(c)),t(i).parent().find(".timePickerInput").val(n.toTimePickerFormat(c))}}}),function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var i=e.handler,n=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(/textarea|select/i.test(e.target.nodeName)||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],s=String.fromCharCode(e.which).toLowerCase(),a="",r={};t.each(["alt","ctrl","shift"],function(t,i){e[i+"Key"]&&o!==i&&(a+=i+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(a+="meta+"),e.metaKey&&"meta"!==o&&a.indexOf("alt+ctrl+shift+")>-1&&(a=a.replace("alt+ctrl+shift+","hyper+")),o?r[a+o]=!0:(r[a+s]=!0,r[a+t.hotkeys.shiftNums[s]]=!0,"shift+"===a&&(r[t.hotkeys.shiftNums[s]]=!0));for(var l=0,c=n.length;c>l;l++)if(r[n[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],options:{filterTextInputs:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),define("hotkeys",function(){}),function(t){"use strict";var e=function(e){var i=t.Deferred(),n=new FileReader;return n.onload=function(t){i.resolve(t.target.result)},n.onerror=i.reject,n.onprogress=i.notify,n.readAsDataURL(e),i.promise()};t.fn.cleanHtml=function(){var e=t(this).html();return e&&e.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},t.fn.wysiwyg=function(i){var n,o,s,a=this,r=function(){o.activeToolbarClass&&t(o.toolbarSelector).find(s).each(function(){var e=t(this).data(o.commandRole);document.queryCommandState(e)?t(this).addClass(o.activeToolbarClass):t(this).removeClass(o.activeToolbarClass)})},l=function(t,e){var i=t.split(" "),n=i.shift(),o=i.join(" ")+(e||"");document.execCommand(n,0,o),r()},c=function(e){t.each(e,function(t,e){a.keydown(t,function(t){a.attr("contenteditable")&&a.is(":visible")&&(t.preventDefault(),t.stopPropagation(),l(e))}).keyup(t,function(t){a.attr("contenteditable")&&a.is(":visible")&&(t.preventDefault(),t.stopPropagation())})})},u=function(){var t=window.getSelection();return t.getRangeAt&&t.rangeCount?t.getRangeAt(0):void 0},h=function(){n=u()},d=function(){var t=window.getSelection();if(n){try{t.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}t.addRange(n)}},p=function(i){a.focus(),t.each(i,function(i,n){/^image\//.test(n.type)?t.when(e(n)).done(function(t){l("insertimage",t)}).fail(function(t){o.fileUploadError("file-reader",t)}):o.fileUploadError("unsupported-file-type",n.type)})},f=function(t,e){d(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,e||"transparent"),h(),t.data(o.selectionMarker,e)},m=function(e,i){e.find(s).click(function(){d(),a.focus(),l(t(this).data(i.commandRole)),h()}),e.find("[data-toggle=dropdown]").click(d),e.find("input[type=text][data-"+i.commandRole+"]").on("webkitspeechchange change",function(){var e=this.value;this.value="",d(),e&&(a.focus(),l(t(this).data(i.commandRole),e)),h()}).on("focus",function(){var e=t(this);e.data(i.selectionMarker)||(f(e,i.selectionColor),e.focus())}).on("blur",function(){var e=t(this);e.data(i.selectionMarker)&&f(e,!1)}),e.find("input[type=file][data-"+i.commandRole+"]").change(function(){d(),"file"===this.type&&this.files&&this.files.length>0&&p(this.files),h(),this.value=""})},g=function(){a.on("dragenter dragover",!1).on("drop",function(t){var e=t.originalEvent.dataTransfer;t.stopPropagation(),t.preventDefault(),e&&e.files&&e.files.length>0&&p(e.files)})};return o=t.extend({},t.fn.wysiwyg.defaults,i),s="a[data-"+o.commandRole+"],button[data-"+o.commandRole+"],input[type=button][data-"+o.commandRole+"]",c(o.hotKeys),o.dragAndDropImages&&g(),m(t(o.toolbarSelector),o),a.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){h(),r()}),t(window).bind("touchend",function(t){var e=a.is(t.target)||a.has(t.target).length>0,i=u(),n=i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset;(!n||e)&&(h(),r())}),this},t.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(t,e){console.log("File upload error",t,e)}}}(window.jQuery),define("wysiwyg",["jquery","bootstrap","hotkeys"],function(){}),define("app/utils/koWYSIWYGBinding",["jquery","knockout","wysiwyg"],function(t,e,i){"use strict";e.bindingHandlers.wysiwygEditor={init:function(e,i,n,o,s){t(e).wysiwyg();var a=n.get("wysiwygEditor"),r=n.get("disable");t(e).html(a()),a.subscribe(function(i){t(e).html(i||"")}),r.subscribe(function(i){t(e).attr("readonly",i)}),t(e).focusout(function(){var i=t(e).cleanHtml();console.log(i),a(i)})},update:function(e,i,n,o,s){t(e).html(n.get("wysiwygEditor")())}}}),define("app/utils/koTextTruncateBinding",["jquery","knockout"],function(t,e){"use strict";function i(e,i){try{var o=i.get("textTruncate"),s=t.isFunction(o)?o():o;s=s||"-";var a=i.get("maxLength")||10,r=n("a"),l=r*s.length,c=t(window).width()*a/100,u=c/r-4,h=l>c,d=h?s.substr(0,u)+"...":s;t(e).html("<span>"+d+"</span>"),h&&(t(e).attr("myTitle",s),t(e).addClass("myTooltip"))}catch(p){console.error("Could not truncate text: "+p)}}function n(t){var e=o.getContext("2d"),i=e.measureText(t);return i.width}var o=document.createElement("canvas");e.bindingHandlers.textTruncate={init:function(t,e,n,o,s){i(t,n)},update:function(t,e,n,o,s){i(t,n)}}}),function(){var t,e,i,n,o,s,a;t="table[data-sortable]",n=/^-?[£$¤]?[\d,.]+%?$/,a=/^\s+|\s+$/g,s="ontouchstart"in document.documentElement,i=s?"touchstart":"click",e=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},o={init:function(e){var i,n,s,a,r;for(null==e&&(e={}),null==e.selector&&(e.selector=t),n=document.querySelectorAll(e.selector),r=[],s=0,a=n.length;a>s;s++)i=n[s],r.push(o.initTable(i));return r},initTable:function(t){var e,i,n,s,a,r;if(1===(null!=(r=t.tHead)?r.rows.length:void 0)&&"true"!==t.getAttribute("data-sortable-initialized")){for(t.setAttribute("data-sortable-initialized","true"),n=t.querySelectorAll("th"),e=s=0,a=n.length;a>s;e=++s)i=n[e],"false"!==i.getAttribute("data-sortable")&&o.setupClickableTH(t,i,e);return t}},setupClickableTH:function(t,n,s){var a;return a=o.getColumnType(t,s),e(n,i,function(e){var i,r,l,c,u,h,d,p,f,m,g,v,b,y,w,x;for(u="true"===this.getAttribute("data-sorted"),h=this.getAttribute("data-sorted-direction"),i=u?"ascending"===h?"descending":"ascending":a.defaultSortDirection,p=this.parentNode.querySelectorAll("th"),f=0,v=p.length;v>f;f++)n=p[f],n.setAttribute("data-sorted","false"),n.removeAttribute("data-sorted-direction");for(this.setAttribute("data-sorted","true"),this.setAttribute("data-sorted-direction",i),d=t.tBodies[0],l=[],w=d.rows,m=0,b=w.length;b>m;m++)r=w[m],l.push([o.getNodeValue(r.cells[s]),r]);for(u?l.reverse():l.sort(a.compare),x=[],g=0,y=l.length;y>g;g++)c=l[g],x.push(d.appendChild(c[1]));return x})},getColumnType:function(t,e){var i,s,a,r,l;for(l=t.tBodies[0].rows,a=0,r=l.length;r>a;a++)if(i=l[a],s=o.getNodeValue(i.cells[e]),""!==s){if(s.match(n))return o.types.numeric;if(!isNaN(Date.parse(s)))return o.types.date}return o.types.alpha},getNodeValue:function(t){return t?null!==t.getAttribute("data-value")?t.getAttribute("data-value"):"undefined"!=typeof t.innerText?t.innerText.replace(a,""):t.textContent.replace(a,""):""},types:{numeric:{defaultSortDirection:"descending",compare:function(t,e){var i,n;return i=parseFloat(t[0].replace(/[^0-9.-]/g,""),10),n=parseFloat(e[0].replace(/[^0-9.-]/g,""),10),isNaN(i)&&(i=0),isNaN(n)&&(n=0),n-i}},alpha:{defaultSortDirection:"ascending",compare:function(t,e){return t[0].localeCompare(e[0])}},date:{defaultSortDirection:"ascending",compare:function(t,e){var i,n;return i=Date.parse(t[0]),n=Date.parse(e[0]),isNaN(i)&&(i=0),isNaN(n)&&(n=0),i-n}}}},setTimeout(o.init,0),window.Sortable=o}.call(this),define("sortable",["jquery"],function(){}),define("app/utils/koSortableBinding",["jquery","knockout","KOMap","shared/dateUtils","datetimepicker","sortable"],function(t,e,i,n){"use strict";e.bindingHandlers.sortable={init:function(t,e,i,n,o){Sortable.initTable(t)},update:function(t,e,i,n,o){}}}),define("app/components/contact/contactClient",["jquery","amplify","app/utils/session","app/utils/events","app/utils/ajaxUtils"],function(t,e,i,n,o){return{loadContactsAndStoreInSession:function(){return o.getJSON("/contact").done(function(t){"Success"!==t.status?console.error("Failed to load contacts"):(console.info("Loaded contacts"+JSON.stringify(t.data).substr(0,100)),i.setContacts(t.data),e.publish(n.INIT_CONTACTS_CACHE))})},updateInSession:function(e){var n=i.getContacts(),o=!1;if(!t.isEmptyObject(e)&&void 0!==e._id&&null!==e._id){var s=t.map(n,function(t){return t._id===e._id?(o=!0,e):t});o||s.push(e),i.setContacts(s)}}}}),define("app/utils/koAutoComplete",["jquery","knockout","KOMap","app/utils/session","app/components/contact/contactClient"],function(t,e,i,n,o){"use strict";e.bindingHandlers.autoComplete={init:function(s,a,r,l,c){function u(){var o=a(),r=e.unwrap(o),l=t.map(n.getContacts(),function(t){return t.value=t.name,t.label=t.name,t});t(s).autocomplete({minLength:0,source:l,select:function(t,e){console.log("Selected: "+JSON.stringify(e.item));var n=e.item;return i.fromJS(n,{},r),!0}})}0===n.getContacts().length?o.loadContactsAndStoreInSession().done(u):u()},update:function(t,e,i,n,o){}}}),function(){function t(t){function e(e,i,n,o,s,a){for(;s>=0&&a>s;s+=t){var r=o?o[s]:s;n=i(n,e[r],r,e)}return n}return function(i,n,o,s){n=y(n,s,4);var a=!T(i)&&b.keys(i),r=(a||i).length,l=t>0?0:r-1;return arguments.length<3&&(o=i[a?a[l]:l],l+=t),e(i,n,o,a,l,r)}}function e(t){return function(e,i,n){i=w(i,n);for(var o=S(e),s=t>0?0:o-1;s>=0&&o>s;s+=t)if(i(e[s],s,e))return s;return-1}}function i(t,e,i){return function(n,o,s){var a=0,r=S(n);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+r,a):r=s>=0?Math.min(s+1,r):s+r+1;else if(i&&s&&r)return s=i(n,o),n[s]===o?s:-1;if(o!==o)return s=e(u.call(n,a,r),b.isNaN),s>=0?s+a:-1;for(s=t>0?a:r-1;s>=0&&r>s;s+=t)if(n[s]===o)return s;return-1}}function n(t,e){var i=O.length,n=t.constructor,o=b.isFunction(n)&&n.prototype||r,s="constructor";for(b.has(t,s)&&!b.contains(e,s)&&e.push(s);i--;)s=O[i],s in t&&t[s]!==o[s]&&!b.contains(e,s)&&e.push(s)}var o=this,s=o._,a=Array.prototype,r=Object.prototype,l=Function.prototype,c=a.push,u=a.slice,h=r.toString,d=r.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):o._=b,b.VERSION="1.8.3";var y=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)};case 4:return function(i,n,o,s){return t.call(e,i,n,o,s)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){return null==t?b.identity:b.isFunction(t)?y(t,e,i):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var o=1;n>o;o++)for(var s=arguments[o],a=t(s),r=a.length,l=0;r>l;l++){var c=a[l];e&&void 0!==i[c]||(i[c]=s[c])}return i}},C=function(t){if(!b.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},_=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,S=_("length"),T=function(t){var e=S(t);return"number"==typeof e&&e>=0&&k>=e};b.each=b.forEach=function(t,e,i){e=y(e,i);var n,o;if(T(t))for(n=0,o=t.length;o>n;n++)e(t[n],n,t);else{var s=b.keys(t);for(n=0,o=s.length;o>n;n++)e(t[s[n]],s[n],t)}return t},b.map=b.collect=function(t,e,i){e=w(e,i);for(var n=!T(t)&&b.keys(t),o=(n||t).length,s=Array(o),a=0;o>a;a++){var r=n?n[a]:a;s[a]=e(t[r],r,t)}return s},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,i){var n;return n=T(t)?b.findIndex(t,e,i):b.findKey(t,e,i),void 0!==n&&-1!==n?t[n]:void 0},b.filter=b.select=function(t,e,i){var n=[];return e=w(e,i),b.each(t,function(t,i,o){
e(t,i,o)&&n.push(t)}),n},b.reject=function(t,e,i){return b.filter(t,b.negate(w(e)),i)},b.every=b.all=function(t,e,i){e=w(e,i);for(var n=!T(t)&&b.keys(t),o=(n||t).length,s=0;o>s;s++){var a=n?n[s]:s;if(!e(t[a],a,t))return!1}return!0},b.some=b.any=function(t,e,i){e=w(e,i);for(var n=!T(t)&&b.keys(t),o=(n||t).length,s=0;o>s;s++){var a=n?n[s]:s;if(e(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,i,n){return T(t)||(t=b.values(t)),("number"!=typeof i||n)&&(i=0),b.indexOf(t,e,i)>=0},b.invoke=function(t,e){var i=u.call(arguments,2),n=b.isFunction(e);return b.map(t,function(t){var o=n?e:t[e];return null==o?o:o.apply(t,i)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,i){var n,o,s=-1/0,a=-1/0;if(null==e&&null!=t){t=T(t)?t:b.values(t);for(var r=0,l=t.length;l>r;r++)n=t[r],n>s&&(s=n)}else e=w(e,i),b.each(t,function(t,i,n){o=e(t,i,n),(o>a||o===-1/0&&s===-1/0)&&(s=t,a=o)});return s},b.min=function(t,e,i){var n,o,s=1/0,a=1/0;if(null==e&&null!=t){t=T(t)?t:b.values(t);for(var r=0,l=t.length;l>r;r++)n=t[r],s>n&&(s=n)}else e=w(e,i),b.each(t,function(t,i,n){o=e(t,i,n),(a>o||1/0===o&&1/0===s)&&(s=t,a=o)});return s},b.shuffle=function(t){for(var e,i=T(t)?t:b.values(t),n=i.length,o=Array(n),s=0;n>s;s++)e=b.random(0,s),e!==s&&(o[s]=o[e]),o[e]=i[s];return o},b.sample=function(t,e,i){return null==e||i?(T(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,i){return e=w(e,i),b.pluck(b.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var D=function(t){return function(e,i,n){var o={};return i=w(i,n),b.each(e,function(n,s){var a=i(n,s,e);t(o,n,a)}),o}};b.groupBy=D(function(t,e,i){b.has(t,i)?t[i].push(e):t[i]=[e]}),b.indexBy=D(function(t,e,i){t[i]=e}),b.countBy=D(function(t,e,i){b.has(t,i)?t[i]++:t[i]=1}),b.toArray=function(t){return t?b.isArray(t)?u.call(t):T(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:T(t)?t.length:b.keys(t).length},b.partition=function(t,e,i){e=w(e,i);var n=[],o=[];return b.each(t,function(t,i,s){(e(t,i,s)?n:o).push(t)}),[n,o]},b.first=b.head=b.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,i){return u.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},b.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,i){return u.call(t,null==e||i?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var A=function(t,e,i,n){for(var o=[],s=0,a=n||0,r=S(t);r>a;a++){var l=t[a];if(T(l)&&(b.isArray(l)||b.isArguments(l))){e||(l=A(l,e,i));var c=0,u=l.length;for(o.length+=u;u>c;)o[s++]=l[c++]}else i||(o[s++]=l)}return o};b.flatten=function(t,e){return A(t,e,!1)},b.without=function(t){return b.difference(t,u.call(arguments,1))},b.uniq=b.unique=function(t,e,i,n){b.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=w(i,n));for(var o=[],s=[],a=0,r=S(t);r>a;a++){var l=t[a],c=i?i(l,a,t):l;e?(a&&s===c||o.push(l),s=c):i?b.contains(s,c)||(s.push(c),o.push(l)):b.contains(o,l)||o.push(l)}return o},b.union=function(){return b.uniq(A(arguments,!0,!0))},b.intersection=function(t){for(var e=[],i=arguments.length,n=0,o=S(t);o>n;n++){var s=t[n];if(!b.contains(e,s)){for(var a=1;i>a&&b.contains(arguments[a],s);a++);a===i&&e.push(s)}}return e},b.difference=function(t){var e=A(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,S).length||0,i=Array(e),n=0;e>n;n++)i[n]=b.pluck(t,n);return i},b.object=function(t,e){for(var i={},n=0,o=S(t);o>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},b.findIndex=e(1),b.findLastIndex=e(-1),b.sortedIndex=function(t,e,i,n){i=w(i,n,1);for(var o=i(e),s=0,a=S(t);a>s;){var r=Math.floor((s+a)/2);i(t[r])<o?s=r+1:a=r}return s},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),o=Array(n),s=0;n>s;s++,t+=i)o[s]=t;return o};var I=function(t,e,i,n,o){if(!(n instanceof e))return t.apply(i,o);var s=C(t.prototype),a=t.apply(s,o);return b.isObject(a)?a:s};b.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,u.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var i=u.call(arguments,2),n=function(){return I(t,n,e,this,i.concat(u.call(arguments)))};return n},b.partial=function(t){var e=u.call(arguments,1),i=function(){for(var n=0,o=e.length,s=Array(o),a=0;o>a;a++)s[a]=e[a]===b?arguments[n++]:e[a];for(;n<arguments.length;)s.push(arguments[n++]);return I(t,i,this,this,s)};return i},b.bindAll=function(t){var e,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(e=1;n>e;e++)i=arguments[e],t[i]=b.bind(t[i],t);return t},b.memoize=function(t,e){var i=function(n){var o=i.cache,s=""+(e?e.apply(this,arguments):n);return b.has(o,s)||(o[s]=t.apply(this,arguments)),o[s]};return i.cache={},i},b.delay=function(t,e){var i=u.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,i){var n,o,s,a=null,r=0;i||(i={});var l=function(){r=i.leading===!1?0:b.now(),a=null,s=t.apply(n,o),a||(n=o=null)};return function(){var c=b.now();r||i.leading!==!1||(r=c);var u=e-(c-r);return n=this,o=arguments,0>=u||u>e?(a&&(clearTimeout(a),a=null),r=c,s=t.apply(n,o),a||(n=o=null)):a||i.trailing===!1||(a=setTimeout(l,u)),s}},b.debounce=function(t,e,i){var n,o,s,a,r,l=function(){var c=b.now()-a;e>c&&c>=0?n=setTimeout(l,e-c):(n=null,i||(r=t.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,a=b.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(r=t.apply(s,o),s=o=null),r}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},b.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},b.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=null),i}},b.once=b.partial(b.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)b.has(t,i)&&e.push(i);return E&&n(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var i in t)e.push(i);return E&&n(t,e),e},b.values=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),o=0;i>o;o++)n[o]=t[e[o]];return n},b.mapObject=function(t,e,i){e=w(e,i);for(var n,o=b.keys(t),s=o.length,a={},r=0;s>r;r++)n=o[r],a[n]=e(t[n],n,t);return a},b.pairs=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),o=0;i>o;o++)n[o]=[e[o],t[e[o]]];return n},b.invert=function(t){for(var e={},i=b.keys(t),n=0,o=i.length;o>n;n++)e[t[i[n]]]=i[n];return e},b.functions=b.methods=function(t){var e=[];for(var i in t)b.isFunction(t[i])&&e.push(i);return e.sort()},b.extend=x(b.allKeys),b.extendOwn=b.assign=x(b.keys),b.findKey=function(t,e,i){e=w(e,i);for(var n,o=b.keys(t),s=0,a=o.length;a>s;s++)if(n=o[s],e(t[n],n,t))return n},b.pick=function(t,e,i){var n,o,s={},a=t;if(null==a)return s;b.isFunction(e)?(o=b.allKeys(a),n=y(e,i)):(o=A(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var r=0,l=o.length;l>r;r++){var c=o[r],u=a[c];n(u,c,a)&&(s[c]=u)}return s},b.omit=function(t,e,i){if(b.isFunction(e))e=b.negate(e);else{var n=b.map(A(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(n,e)}}return b.pick(t,e,i)},b.defaults=x(b.allKeys,!0),b.create=function(t,e){var i=C(t);return e&&b.extendOwn(i,e),i},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var i=b.keys(e),n=i.length;if(null==t)return!n;for(var o=Object(t),s=0;n>s;s++){var a=i[s];if(e[a]!==o[a]||!(a in o))return!1}return!0};var P=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var o=h.call(t);if(o!==h.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===o;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,r=e.constructor;if(a!==r&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(r)&&r instanceof r)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),s){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!P(t[l],e[l],i,n))return!1}else{var c,u=b.keys(t);if(l=u.length,b.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!b.has(e,c)||!P(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0};b.isEqual=function(t,e){return P(t,e)},b.isEmpty=function(t){return null==t?!0:T(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=p||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&d.call(t,e)},b.noConflict=function(){return o._=s,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=_,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,i){var n=Array(Math.max(0,t));e=y(e,i,1);for(var o=0;t>o;o++)n[o]=e(o);return n},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=b.invert(M),L=function(t){var e=function(e){return t[e]},i="(?:"+b.keys(t).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}};b.escape=L(M),b.unescape=L(N),b.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),b.isFunction(n)?n.call(t):n};var R=0;b.uniqueId=function(t){var e=++R+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+F[t]};b.template=function(t,e,i){!e&&i&&(e=i),e=b.defaults({},e,b.templateSettings);var n=RegExp([(e.escape||$).source,(e.interpolate||$).source,(e.evaluate||$).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(n,function(e,i,n,a,r){return s+=t.slice(o,r).replace(B,H),o=r+e.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(e.variable||"obj","_",s)}catch(r){throw r.source=s,r}var l=function(t){return a.call(this,t,b)},c=e.variable||"obj";return l.source="function("+c+"){\n"+s+"}",l},b.chain=function(t){var e=b(t);return e._chain=!0,e};var j=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var i=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),j(this,i.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];b.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],j(this,i)}}),b.each(["concat","join","slice"],function(t){var e=a[t];b.prototype[t]=function(){return j(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),!function(t){"function"==typeof define&&define.amd?define("select2",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function o(t,e){return w.call(t,e)}function s(t,e){var i,n,o,s,a,r,l,c,u,h,d,p=e&&e.split("/"),f=b.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,b.nodeIdCompat&&C.test(t[a])&&(t[a]=t[a].replace(C,"")),t=p.slice(0,p.length-1).concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),p)for(h=p.length;h>0;h-=1)if(o=f[p.slice(0,h).join("/")],o&&(o=o[n])){s=o,r=u;break}if(s)break;!l&&m&&m[n]&&(l=m[n],c=u)}!s&&l&&(s=l,r=c),s&&(i.splice(0,r,s),t=i.join("/"))}return t}function a(t,i){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(e,n.concat([t,i]))}}function r(t){return function(e){return s(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(o(v,t)){var i=v[t];delete v[t],y[t]=!0,d.apply(e,i)}if(!o(g,t)&&!o(y,t))throw new Error("No "+t);return g[t]}function u(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function h(t){return function(){return b&&b.config&&b.config[t]||{}}}var d,p,f,m,g={},v={},b={},y={},w=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/;f=function(t,e){var i,n=u(t),o=n[0];return t=n[1],o&&(o=s(o,e),i=c(o)),o?t=i&&i.normalize?i.normalize(t,r(e)):s(t,e):(t=s(t,e),n=u(t),o=n[0],t=n[1],o&&(i=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:h(t)}}},d=function(t,i,n,s){var r,u,h,d,p,b,w=[],x=typeof n;if(s=s||t,"undefined"===x||"function"===x){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(d=f(i[p],s),u=d.f,"require"===u)w[p]=m.require(t);else if("exports"===u)w[p]=m.exports(t),b=!0;else if("module"===u)r=w[p]=m.module(t);else if(o(g,u)||o(v,u)||o(y,u))w[p]=c(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,a(s,!0),l(u),{}),w[p]=g[u]}h=n?n.apply(g[t],w):void 0,t&&(r&&r.exports!==e&&r.exports!==g[t]?g[t]=r.exports:h===e&&b||(g[t]=h))}else t&&(g[t]=n)},t=i=p=function(t,i,n,o,s){if("string"==typeof t)return m[t]?m[t](i):c(f(t,i).f);if(!t.splice){if(b=t,b.deps&&p(b.deps,b.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=s),o?d(e,t,i,n):setTimeout(function(){d(e,t,i,n)},4),p},p.config=function(t){return p(t)},t._defined=g,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),o(g,t)||o(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var o=e[n];"function"==typeof o&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var s=e(i),a=e(t);i.displayName=t.displayName,n.prototype=new o;for(var r=0;r<a.length;r++){var l=a[r];n.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),o.apply(this,arguments)}}),u=0;u<s.length;u++){var h=s[u];n.prototype[h]=c(h)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var s=i[o];s=s.substring(0,1).toLowerCase()+s.substring(1),s in n||(n[s]={}),o==i.length-1&&(n[s]=t[e]),n=n[s]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,s=i.style.overflowY;return o!==s||"hidden"!==s&&"visible"!==s?"scroll"===o||"scroll"===s?!0:n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth:!1},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),o=e.$results.find(".select2-results__option[aria-selected]");o.each(function(){var e=t(this),i=t.data(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(o,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var s=o.filter("[aria-selected=true]");s.length>0?s.first().trigger("mouseenter"):o.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var o in n){var s=n[o];i.setAttribute(o,s)}if(e.children){var a=t(i),r=document.createElement("strong");r.className="select2-results__group",t(r),this.template(e,r);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),a.append(r),a.append(d)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e,i){var n=this,o=e.id+"-results";this.$results.attr("id",o),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var s=e.eq(o);s.trigger("mouseenter");var a=n.$results.offset().top,r=s.offset().top,l=n.$results.scrollTop()+(r-a);0===o?n.$results.scrollTop(0):0>r-a&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),o=i+1;if(!(o>=e.length)){var s=e.eq(o);s.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(!1),r=s.offset().top+s.outerHeight(!1),l=n.$results.scrollTop()+r-a;0===o?n.$results.scrollTop(0):r>a&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-n.$results.scrollTop()+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,s=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var i=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,o=t.offset().top,s=this.$results.scrollTop()+(o-n),a=o-n;s-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(a>this.$results.outerHeight()||0>a)&&this.$results.scrollTop(s)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),s=n(e,i);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=o(s):t(i).append(s)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t,e){var n=this,o=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),o=t(".select2.select2-container--open");o.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var i=this;o.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("selection:update",function(t){i.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,i){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var i=t(this),n=i.parent(),s=n.data("data");o.trigger("unselect",{originalEvent:e,data:s})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],s=this.selectionContainer(),a=this.display(o,s);s.append(a),s.prop("title",o.title||o.text),s.data("data",o),e.push(s)}var r=this.$selection.find(".select2-selection__rendered");i.appendMany(r,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){
function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),o=0;o<n.length;o++){var s={data:n[o]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,e,n){var o=this;t.call(this,e,n),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(t){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===o.$search.val()){var n=o.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var s=n.data("data");o.searchRemoveChoice(s),t.preventDefault()}}});var s=document.documentMode,a=s&&11>=s;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return a?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)return void o.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&o.handleSearch(t)})},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,s)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,a)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];t=[t],t.push.apply(t,n);for(var s=0;s<t.length;s++){var a=t[s].id;-1===i.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;return this.$element.prop("multiple")?(t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var o=[],s=0;s<n.length;s++){var a=n[s].id;a!==t.id&&-1===i.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")})):void 0},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],o=this,s=this.$element.children();s.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var s=o.item(e),a=o.matches(t,s);null!==a&&n.push(a)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),o=this._normalizeItem(t);return o.element=e,i.data(e,"data",o),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),o=[],s=0;s<n.length;s++){var a=i(n[s]),r=this.item(a);o.push(r)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var o=this,s=this.$element.find("option"),a=s.map(function(){return o.item(i(this)).id}).get(),r=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(i.inArray(c.id,a)>=0){var u=s.filter(n(c)),h=this.item(u),d=i.extend(!0,{},h,c),p=this.option(d);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(f,m)}r.push(f)}}return r},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=s.transport(s,function(n){var s=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(s)},function(){});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url.call(this.$element,t)),"function"==typeof s.data&&(s.data=s.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),s=n.get("createTag");if(void 0!==s&&(this.createTag=s),e.call(this,i,n),t.isArray(o))for(var a=0;a<o.length;a++){var r=o[a],l=this._normalizeItem(r),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,s){for(var a=t.results,r=0;r<a.length;r++){var l=a[r],c=null!=l.children&&!n({results:l.children},!0),u=l.text===e.term;if(u||c)return s?!1:(t.data=a,void i(t))}if(s)return!0;var h=o.createTag(e);if(null!=h){var d=o.option(h);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(a,h)}t.results=a,i(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){var i=(this._lastTag,this.$element.find("option[data-select2-tag]"));i.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){o.trigger("select",{data:t})}var o=this;e.term=e.term||"";var s=this.tokenizer(e,this.options,n);s.term!==e.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),e.term=s.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,o){for(var s=n.get("tokenSeparators")||[],a=i.term,r=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};r<a.length;){var c=a[r];if(-1!==t.inArray(c,s)){var u=a.substr(0,r),h=t.extend({},i,{term:u}),d=l(h);null!=d?(o(d),a=a.substr(r+1)||"",r=0):r++}else r++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(o){var s=null!=o?o.length:0;return n.maximumSelectionLength>0&&s>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=o.showSearch(t);e?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),i.on("query",function(t){o.lastParams=t,o.loading=!0}),i.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){var i=o.$results.offset().top+o.$results.outerHeight(!1),n=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);i+50>=n&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,o=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var o=this,s="scroll.select2."+n.id,a="resize.select2."+n.id,r="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(s,function(e){var i=t(this).data("select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(s+" "+a+" "+r,function(t){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,s="resize.select2."+n.id,a="orientationchange.select2."+n.id,r=this.$container.parents().filter(e.hasScroll);r.off(o),t(window).off(o+" "+s+" "+a)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,s=(this.$container.position(),this.$container.offset());s.bottom=s.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=s.top,a.bottom=s.top+a.height;var r={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<s.top-r.height,u=l.bottom>s.bottom+r.height,h={left:s.left,top:a.bottom};if("static"!==this.$dropdownParent[0].style.position){var d=this.$dropdownParent.offset();h.top-=d.top,h.left-=d.left}i||n||(o="below"),u||!c||i?!c&&u&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(h.top=a.top-r.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return t(i.data.results)<this.minimumResultsForSearch?!1:e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p,f,m,g,v,b,y,w,x,C,_,k,S,T,D,A){function I(){this.reset()}I.prototype.apply=function(h){if(h=t.extend({},this.defaults,h),null==h.dataAdapter){if(null!=h.ajax?h.dataAdapter=f:null!=h.data?h.dataAdapter=p:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,m)),(null!=h.tokenSeparators||null!=h.tokenizer)&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null!=h.query){var A=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,A)}if(null!=h.initSelection){var I=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,I)}}if(null==h.resultsAdapter&&(h.resultsAdapter=i,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,_)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,T))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var E=c.Decorate(w,x);h.dropdownAdapter=E}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,S)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,D)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var O=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,O)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=o:h.selectionAdapter=n,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,r)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){
var P=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,P)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var M=h.language.split("-"),N=M[0];h.language=[h.language,N]}else h.language=[h.language];if(t.isArray(h.language)){var L=new u;h.language.push("en");for(var R=h.language,$=0;$<R.length;$++){var F=R[$],B={};try{B=u.loadPath(F)}catch(H){try{F=this.defaults.amdLanguageBase+F,B=u.loadPath(F)}catch(j){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be automatically loaded. A fallback will be used instead.');continue}}L.extend(B)}h.translations=L}else{var W=u.loadPath(this.defaults.amdLanguageBase+"en"),V=new u(h.language);V.extend(W),h.translations=V}return h},I.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var s=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--){var r=o.children[a],l=i(n,r);null==l&&s.children.splice(a,1)}return s.children.length>0?s:i(n,s)}var c=e(o.text).toUpperCase(),u=e(n.term).toUpperCase();return c.indexOf(u)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},I.prototype.set=function(e,i){var n=t.camelCase(e),o={};o[n]=i;var s=c._convertData(o);t.extend(this.defaults,s)};var E=new I;return E}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var s=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,s)}}return o.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var s=e.extend(!0,{},o);s=n._convertData(s);for(var a in s)e.inArray(a,i)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],s[a]):this.options[a]=s[a]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),o.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(t,this.options);var a=this.render();this._placeContainer(a);var r=this.options.get("selectionAdapter");this.selection=new r(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==e){var s=t.attr("style");if("string"!=typeof s)return null;for(var a=s.split(";"),r=0,l=a.length;l>r;r+=1){var c=a[r].replace(/\s/g,""),u=c.match(i);if(null!==u&&u.length>=1)return u[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var s=n[t],a={prevented:!1,name:t,args:e};if(i.call(this,s,a),a.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,i,n){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n;return this.each(function(){var i=t(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var o=Array.prototype.slice.call(arguments,1);n=i[e].apply(i,o)}),t.inArray(e,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),define("app/utils/koSelect2",["jquery","knockout","underscore","KOMap","shared/dateUtils","select2"],function(t,e,i,n,o){function s(e){return t("<span><strong>"+e.id+" </strong>"+e.text+"</span>")}e.bindingHandlers.select2={init:function(n,o,a,r,l){var c=a.get("myoptions"),u=t(n).select2({data:c,templateResult:s,selectOnClose:!0,matcher:function(t,e){if(t&&t.term&&t.term.length>0){var n=i.filter(e.children,function(e){return e.id.indexOf(t.term)>=0||e.text.indexOf(t.term)>=0}),o=i.extend({},e);return o.children=n,o}return e}});t.data(n,"select2Instance",u);var h=e.utils.unwrapObservable(o());u.val(h),u.on("change",function(t){const e=u.val();var i=o();i(e)})},update:function(i,n,o,s,a){var r=e.utils.unwrapObservable(n());t.data(i,"select2Instance").val(r).trigger("change")}}}),define("app/utils/koTaskEntryTag",["jquery","knockout","KOMap","app/utils/session","app/components/contact/contactClient"],function(t,e,i,n,o){"use strict";var s={phone:"fa-phone",visit:"fa-map-marker",photos:"fa-camera",email:"fa-envelope",other:"fa-tag"};e.bindingHandlers.taskEntryTag={currentTagClass:void 0,init:function(e,i,n,o,a){var r=i()||"other",l="taskTag fa "+s[r];t(e).html('<i class="'+l+'"></i>'),t(e).attr("myTitle",r),t(e).css("font-size","medium"),t(e).addClass("myTooltip")},update:function(e,i,n,o,a){var r=i()||"other",l="taskTag fa "+s[r];t(e).html(""),t(e).html('<i class="'+l+'"></i>')}}}),!function(t,e,i,n){function o(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var o=t[e];o&&n.push(o)}return n}function s(t){var e=v.data(t,u);return null===e?n:e}function a(t){return function(e){return Math.round(e*t)*(1/t)}}function r(t,e){var i=t;return g.isString(t)?b.Easings[t]||(i=!1):i=g.isArray(t)&&1===t.length?a.apply(null,t):g.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):g.isArray(t)&&4===t.length?y.apply(null,t):!1,i===!1&&(i=b.Easings[b.defaults.easing]?b.defaults.easing:d),i}function l(t){if(t)for(var e=(new Date).getTime(),i=0,o=b.State.calls.length;o>i;i++)if(b.State.calls[i]){var a=b.State.calls[i],r=a[0],u=a[2],h=a[3];h||(h=b.State.calls[i][3]=e-16);for(var d=Math.min((e-h)/u.duration,1),p=0,f=r.length;f>p;p++){var v=r[p],y=v.element;if(s(y)){var w=!1;u.display&&"none"!==u.display&&x.setPropertyValue(y,"display",u.display),u.visibility&&"hidden"!==u.visibility&&x.setPropertyValue(y,"visibility",u.visibility);for(var C in v)if("element"!==C){var _,k=v[C],S=g.isString(k.easing)?b.Easings[k.easing]:k.easing;if(_=1===d?k.endValue:k.startValue+(k.endValue-k.startValue)*S(d),k.currentValue=_,x.Hooks.registered[C]){var T=x.Hooks.getRoot(C),D=s(y).rootPropertyValueCache[T];D&&(k.rootPropertyValue=D)}var A=x.setPropertyValue(y,C,k.currentValue+(0===parseFloat(_)?"":k.unitType),k.rootPropertyValue,k.scrollData);x.Hooks.registered[C]&&(s(y).rootPropertyValueCache[T]=x.Normalizations.registered[T]?x.Normalizations.registered[T]("extract",null,A[1]):A[1]),"transform"===A[0]&&(w=!0)}u.mobileHA&&s(y).transformCache.translate3d===n&&(s(y).transformCache.translate3d="(0px, 0px, 0px)",w=!0),w&&x.flushTransformCache(y)}}u.display&&"none"!==u.display&&(b.State.calls[i][2].display=!1),u.visibility&&"hidden"!==u.visibility&&(b.State.calls[i][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],d,Math.max(0,h+u.duration-e),h),1===d&&c(i)}b.State.isTicking&&m(l)}function c(t,e){if(!b.State.calls[t])return!1;for(var i=b.State.calls[t][0],o=b.State.calls[t][1],a=b.State.calls[t][2],r=b.State.calls[t][4],l=!1,c=0,u=i.length;u>c;c++){var h=i[c].element;if(e||a.loop||("none"===a.display&&x.setPropertyValue(h,"display",a.display),"hidden"===a.visibility&&x.setPropertyValue(h,"visibility",a.visibility)),(v.queue(h)[1]===n||!/\.velocityQueueEntryFlag/i.test(v.queue(h)[1]))&&s(h)){s(h).isAnimating=!1,s(h).rootPropertyValueCache={};var d=!1;v.each(s(h).transformCache,function(t,e){var i=/^scale/.test(t)?1:0;new RegExp("^\\("+i+"[^.]").test(e)&&(d=!0,delete s(h).transformCache[t])}),a.mobileHA&&(d=!0,delete s(h).transformCache.translate3d),d&&x.flushTransformCache(h),x.Values.removeClass(h,"velocity-animating")}if(!e&&a.complete&&!a.loop&&c===u-1)try{a.complete.call(o,o)}catch(p){setTimeout(function(){throw p},1)}r&&r(o),a.queue!==!1&&v.dequeue(h,a.queue)}b.State.calls[t]=!1;for(var f=0,m=b.State.calls.length;m>f;f++)if(b.State.calls[f]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var u="velocity",h=400,d="swing",p=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return n}(),f=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-t)),t=n+i,setTimeout(function(){e(n+i)},i)}}(),m=e.requestAnimationFrame||f,g={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==n&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof SVGElement}},v=e.jQuery||t.Velocity&&t.Velocity.Utilities;if(!v)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(t.Velocity!==n&&!t.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(7>=p){if(e.jQuery)return void(e.jQuery.fn.velocity=e.jQuery.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===p&&!e.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var b=t.Velocity=t.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:e.jQuery,Sequences:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:h,easing:d,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},mock:!1,version:{major:0,minor:9,patch:0},debug:!1};e.pageYOffset!==n?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop"),b.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(m=function(t){return setTimeout(function(){t(!0)},16)},l()):m=e.requestAnimationFrame||f});var y=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function i(t){return 3*t}function n(n,o,s){return((t(o,s)*n+e(o,s))*n+i(o))*n}function o(n,o,s){return 3*t(o,s)*n*n+2*e(o,s)*n+i(o)}return function(t,e,i,s){function a(e){for(var s=e,a=0;8>a;++a){var r=o(s,t,i);if(0===r)return s;var l=n(s,t,i)-e;s-=l/r}return s}if(4!==arguments.length)return!1;for(var r=0;4>r;++r)if("number"!=typeof arguments[r]||isNaN(arguments[r])||!isFinite(arguments[r]))return!1;return t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0),function(o){return t===e&&i===s?o:n(a(o),e,s)}}}(),w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var o={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function i(i,n){var o={dx:i.v,dv:t(i)},s=e(i,.5*n,o),a=e(i,.5*n,s),r=e(i,n,a),l=1/6*(o.dx+2*(s.dx+a.dx)+r.dx),c=1/6*(o.dv+2*(s.dv+a.dv)+r.dv);return i.x=i.x+l*n,i.v=i.v+c*n,i}return function n(t,e,o){var s,a,r,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4,d=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,o=o||null,l.tension=t,l.friction=e,s=null!==o,s?(u=n(t,e),a=u/o*d):a=d;r=i(r||l,a),c.push(1+r.x),u+=16,Math.abs(r.x)>h&&Math.abs(r.v)>h;);return s?function(t){return c[t*(c.length-1)|0]}:u}}();!function(){b.Easings.linear=function(t){return t},b.Easings.swing=function(t){return.5-Math.cos(t*Math.PI)/2},b.Easings.spring=function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},b.Easings.ease=y(.25,.1,.25,1),b.Easings["ease-in"]=y(.42,0,1,1),b.Easings["ease-out"]=y(0,0,.58,1),b.Easings["ease-in-out"]=y(.42,0,.58,1);var t={};v.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),v.extend(t,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),v.each(t,function(t,e){b.Easings["easeIn"+t]=e,b.Easings["easeOut"+t]=function(t){return 1-e(1-t)},b.Easings["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}})}();var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<x.Lists.colors.length;t++)x.Hooks.templates[x.Lists.colors[t]]=["Red Green Blue Alpha","255 255 255 1"];var e,i,n;if(p)for(e in x.Hooks.templates){i=x.Hooks.templates[e],n=i[0].split(" ");var o=i[1].match(x.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),o.push(o.shift()),x.Hooks.templates[e]=[n.join(" "),o.join(" ")])}for(e in x.Hooks.templates){i=x.Hooks.templates[e],n=i[0].split(" ");for(var t in n){var s=e+n[t],a=t;x.Hooks.registered[s]=[e,a]}}},getRoot:function(t){var e=x.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return x.RegEx.valueUnwrap.test(e)&&(e=e.match(x.Hooks.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(e)&&(e=x.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=x.Hooks.registered[t];if(i){var n=i[0],o=i[1];return e=x.Hooks.cleanRootPropertyValue(n,e),e.toString().match(x.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,i){var n=x.Hooks.registered[t];if(n){var o,s,a=n[0],r=n[1];return i=x.Hooks.cleanRootPropertyValue(a,i),o=i.toString().match(x.RegEx.valueSplit),o[r]=e,s=o.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var n;return x.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:(n=i.toString().match(x.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):i),n;case"inject":return"rect("+i+")"}},opacity:function(t,e,i){if(8>=p)switch(t){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){9>=p||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var t=0;t<x.Lists.transformsBase.length;t++)!function(){var e=x.Lists.transformsBase[t];x.Normalizations.registered[e]=function(t,i,o){switch(t){case"name":return"transform";case"extract":return s(i).transformCache[e]===n?/^scale/i.test(e)?1:0:s(i).transformCache[e].replace(/[()]/g,"");case"inject":var a=!1;switch(e.substr(0,e.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":b.State.isAndroid&&s(i).transformCache[e]===n&&1>o&&(o=1),a=!/(\d)$/i.test(o);break;case"skew":a=!/(deg|\d)$/i.test(o);break;case"rotate":a=!/(deg|\d)$/i.test(o)}return a||(s(i).transformCache[e]="("+o+")"),s(i).transformCache[e]}}}();for(var t=0;t<x.Lists.colors.length;t++)!function(){var e=x.Lists.colors[t];x.Normalizations.registered[e]=function(t,i,o){switch(t){case"name":return e;case"extract":var s;if(x.RegEx.wrappedValueAlreadyExtracted.test(o))s=o;else{var a,r={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?a=r[o]!==n?r[o]:r.black:x.RegEx.isHex.test(o)?a="rgb("+x.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(a=r.black),s=(a||o).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=p?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(8>=p?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,n=e.length;n>i;i++){var o;if(o=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),g.isString(b.State.prefixElement.style[o]))return b.State.prefixMatches[t]=o,[o,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(i,function(t,e,i,n){return e+e+i+i+n+n}),e=n.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,i,o,a){function r(t,i){function o(){c&&x.setPropertyValue(t,"display","none")}var l=0;if(8>=p)l=v.css(t,i);else{var c=!1;if(/^(width|height)$/.test(i)&&0===x.getPropertyValue(t,"display")&&(c=!0,x.setPropertyValue(t,"display",x.Values.getDisplayType(t))),!a){if("height"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(x.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(t,"paddingBottom"))||0);return o(),u}if("width"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetWidth-(parseFloat(x.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(t,"paddingRight"))||0);return o(),h}}var d;d=s(t)===n?e.getComputedStyle(t,null):s(t).computedStyle?s(t).computedStyle:s(t).computedStyle=e.getComputedStyle(t,null),(p||b.State.isFirefox)&&"borderColor"===i&&(i="borderTopColor"),l=9===p&&"filter"===i?d.getPropertyValue(i):d[i],(""===l||null===l)&&(l=t.style[i]),o()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(i)){var f=r(t,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(i))&&(l=v(t).position()[i]+"px")}return l}var l;if(x.Hooks.registered[i]){var c=i,u=x.Hooks.getRoot(c);o===n&&(o=x.getPropertyValue(t,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(o=x.Normalizations.registered[u]("extract",t,o)),l=x.Hooks.extractValue(c,o)}else if(x.Normalizations.registered[i]){var h,d;h=x.Normalizations.registered[i]("name",t),"transform"!==h&&(d=r(t,x.Names.prefixCheck(h)[0]),x.Values.isCSSNullValue(d)&&x.Hooks.templates[i]&&(d=x.Hooks.templates[i][1])),l=x.Normalizations.registered[i]("extract",t,d)}return/^[\d-]/.test(l)||(l=s(t)&&s(t).isSVG&&x.Names.SVGAttribute(i)?/^(height|width)$/i.test(i)?t.getBBox()[i]:t.getAttribute(i):r(t,x.Names.prefixCheck(i)[0])),x.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(t,i,n,o,a){var r=i;if("scroll"===i)a.container?a.container["scroll"+a.direction]=n:"Left"===a.direction?e.scrollTo(n,a.alternateValue):e.scrollTo(a.alternateValue,n);else if(x.Normalizations.registered[i]&&"transform"===x.Normalizations.registered[i]("name",t))x.Normalizations.registered[i]("inject",t,n),r="transform",n=s(t).transformCache[i];else{if(x.Hooks.registered[i]){var l=i,c=x.Hooks.getRoot(i);o=o||x.getPropertyValue(t,c),n=x.Hooks.injectValue(l,n,o),i=c}if(x.Normalizations.registered[i]&&(n=x.Normalizations.registered[i]("inject",t,n),i=x.Normalizations.registered[i]("name",t)),r=x.Names.prefixCheck(i)[0],8>=p)try{t.style[r]=n}catch(u){b.debug&&console.log("Browser does not support ["+n+"] for ["+r+"]")}else s(t)&&s(t).isSVG&&x.Names.SVGAttribute(i)?t.setAttribute(i,n):t.style[r]=n;b.debug>=2&&console.log("Set "+i+" ("+r+"): "+n)}return[r,n]},flushTransformCache:function(t){function e(e){return parseFloat(x.getPropertyValue(t,e))}var i="";if((p||b.State.isAndroid&&!b.State.isChrome)&&s(t).isSVG){var n={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};v.each(s(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),n[t]&&(i+=t+"("+n[t].join(" ")+") ",delete n[t])})}else{var o,a;v.each(s(t).transformCache,function(e){return o=s(t).transformCache[e],"transformPerspective"===e?(a=o,!0):(9===p&&"rotateZ"===e&&(e="rotate"),void(i+=e+o+" "))}),a&&(i="perspective"+a+" "+i);
}x.setPropertyValue(t,"transform",i)}};x.Hooks.register(),x.Normalizations.register(),b.animate=function(){function t(){return d?A.promise||null:f}function a(){function t(){function t(t,e){var i=n,o=n,s=n;return g.isArray(t)?(i=t[0],!g.isArray(t[1])&&/^[\d-]/.test(t[1])||g.isFunction(t[1])||x.RegEx.isHex.test(t[1])?s=t[1]:(g.isString(t[1])&&!x.RegEx.isHex.test(t[1])||g.isArray(t[1]))&&(o=e?t[1]:r(t[1],c.duration),t[2]!==n&&(s=t[2]))):i=t,o=o||c.easing,g.isFunction(i)&&(i=i.call(a,S,k)),g.isFunction(s)&&(s=s.call(a,S,k)),[i||0,o,s]}function u(t,e){var i,n;return n=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=x.Values.getUnitType(t)),[n,i]}function h(){var t={parent:a.parentNode,position:x.getPropertyValue(a,"position"),fontSize:x.getPropertyValue(a,"fontSize")},n=t.position===N.lastPosition&&t.parent===N.lastParent,o=t.fontSize===N.lastFontSize&&t.parent===N.lastParent;N.lastParent=t.parent,N.lastPosition=t.position,N.lastFontSize=t.fontSize,null===N.remToPx&&(N.remToPx=parseFloat(x.getPropertyValue(i.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(e.innerWidth)/100,N.vhToPx=parseFloat(e.innerHeight)/100);var r={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},l={},c=10;if(l.remToPx=N.remToPx,l.vwToPx=N.vwToPx,l.vhToPx=N.vhToPx,p&&!s(a).isSVG)var u=/^auto$/i.test(a.currentStyle.width),h=/^auto$/i.test(a.currentStyle.height);n&&o||(s(a).isSVG||(r.overflowX=x.getPropertyValue(a,"overflowX"),r.overflowY=x.getPropertyValue(a,"overflowY"),r.boxSizing=x.getPropertyValue(a,"boxSizing"),r.minWidth=x.getPropertyValue(a,"minWidth"),r.maxWidth=x.getPropertyValue(a,"maxWidth")||"none",r.minHeight=x.getPropertyValue(a,"minHeight"),r.maxHeight=x.getPropertyValue(a,"maxHeight")||"none",r.paddingLeft=x.getPropertyValue(a,"paddingLeft")),r.width=x.getPropertyValue(a,"width",null,!0),r.height=x.getPropertyValue(a,"height",null,!0)),n?(l.percentToPxRatioWidth=N.lastPercentToPxWidth,l.percentToPxRatioHeight=N.lastPercentToPxHeight):(s(a).isSVG||(x.setPropertyValue(a,"overflowX","hidden"),x.setPropertyValue(a,"overflowY","hidden"),x.setPropertyValue(a,"boxSizing","content-box"),x.setPropertyValue(a,"minWidth",c+"%"),x.setPropertyValue(a,"maxWidth",c+"%"),x.setPropertyValue(a,"minHeight",c+"%"),x.setPropertyValue(a,"maxHeight",c+"%")),x.setPropertyValue(a,"width",c+"%"),x.setPropertyValue(a,"height",c+"%")),o?l.emToPx=N.lastEmToPx:s(a).isSVG||x.setPropertyValue(a,"paddingLeft",c+"em"),n||(l.percentToPxRatioWidth=N.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(a,"width",null,!0))||1)/c,l.percentToPxRatioHeight=N.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(a,"height",null,!0))||1)/c),o||(l.emToPx=N.lastEmToPx=(parseFloat(x.getPropertyValue(a,"paddingLeft"))||1)/c);for(var d in r)null!==r[d]&&x.setPropertyValue(a,d,r[d]);return s(a).isSVG||(p?(u&&x.setPropertyValue(a,"width","auto"),h&&x.setPropertyValue(a,"height","auto")):(x.setPropertyValue(a,"height","auto"),r.height!==x.getPropertyValue(a,"height",null,!0)&&x.setPropertyValue(a,"height",r.height),x.setPropertyValue(a,"width","auto"),r.width!==x.getPropertyValue(a,"width",null,!0)&&x.setPropertyValue(a,"width",r.width))),b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),a),l}if(c.begin&&0===S)try{c.begin.call(y,y)}catch(f){setTimeout(function(){throw f},1)}if("scroll"===I){var m,_,T,D=/^x$/i.test(c.axis)?"Left":"Top",E=parseFloat(c.offset)||0;c.container?c.container.jquery||g.isNode(c.container)?(c.container=c.container[0]||c.container,m=c.container["scroll"+D],T=m+v(a).position()[D.toLowerCase()]+E):c.container=null:(m=b.State.scrollAnchor[b.State["scrollProperty"+D]],_=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===D?"Top":"Left")]],T=v(a).offset()[D.toLowerCase()]+E),d={scroll:{rootPropertyValue:!1,startValue:m,currentValue:m,endValue:T,unitType:"",easing:c.easing,scrollData:{container:c.container,direction:D,alternateValue:_}},element:a},b.debug&&console.log("tweensContainer (scroll): ",d.scroll,a)}else if("reverse"===I){if(!s(a).tweensContainer)return void v.dequeue(a,c.queue);"none"===s(a).opts.display&&(s(a).opts.display="block"),"hidden"===s(a).opts.visibility&&(s(a).opts.visibility="visible"),s(a).opts.loop=!1,s(a).opts.begin=null,s(a).opts.complete=null,C.easing||delete c.easing,C.duration||delete c.duration,c=v.extend({},s(a).opts,c);var O=v.extend(!0,{},s(a).tweensContainer);for(var P in O)if("element"!==P){var M=O[P].startValue;O[P].startValue=O[P].currentValue=O[P].endValue,O[P].endValue=M,v.isEmptyObject(C)||(O[P].easing=c.easing),b.debug&&console.log("reverse tweensContainer ("+P+"): "+JSON.stringify(O[P]),a)}d=O}else if("start"===I){var O;s(a).tweensContainer&&s(a).isAnimating===!0&&(O=s(a).tweensContainer),v.each(w,function(e,i){var o=t(i,!0),s=o[0],a=o[1],r=o[2];if(RegExp(x.Lists.colors.join("|")).test(e)&&x.RegEx.isHex.test(s)){for(var l=["Red","Green","Blue"],c=x.Values.hexToRgb(s),u=r?x.Values.hexToRgb(r):n,h=0;h<l.length;h++)w[e+l[h]]=[c[h],a,u?u[h]:u];delete w[e]}});for(var R in w){var $=t(w[R]),F=$[0],B=$[1],H=$[2];R=x.Names.camelCase(R);var j=x.Hooks.getRoot(R),W=!1;if(s(a).isSVG||x.Names.prefixCheck(j)[1]!==!1||x.Normalizations.registered[j]!==n){(c.display&&"none"!==c.display||c.visibility&&"hidden"!==c.visibility)&&/opacity|filter/.test(R)&&!H&&0!==F&&(H=0),c._cacheValues&&O&&O[R]?(H===n&&(H=O[R].endValue+O[R].unitType),W=s(a).rootPropertyValueCache[j]):x.Hooks.registered[R]?H===n?(W=x.getPropertyValue(a,j),H=x.getPropertyValue(a,R,W)):W=x.Hooks.templates[j][1]:H===n&&(H=x.getPropertyValue(a,R));var V,z,U,q=!1;V=u(R,H),H=V[0],U=V[1],V=u(R,F),F=V[0].replace(/^([+-\/*])=/,function(t,e){return q=e,""}),z=V[1],H=parseFloat(H)||0,F=parseFloat(F)||0;var Y;if("%"===z&&(/^(fontSize|lineHeight)$/.test(R)?(F/=100,z="em"):/^scale/.test(R)?(F/=100,z=""):/(Red|Green|Blue)$/i.test(R)&&(F=F/100*255,z="")),/[\/*]/.test(q))z=U;else if(U!==z&&0!==H)if(0===F)z=U;else{Y=Y||h();var J=/margin|padding|left|right|width|text|word|letter/i.test(R)||/X$/.test(R)?"x":"y";switch(U){case"%":H*="x"===J?Y.percentToPxRatioWidth:Y.percentToPxRatioHeight;break;case"px":break;default:H*=Y[U+"ToPx"]}switch(z){case"%":H*=1/("x"===J?Y.percentToPxRatioWidth:Y.percentToPxRatioHeight);break;case"px":break;default:H*=1/Y[z+"ToPx"]}}switch(q){case"+":F=H+F;break;case"-":F=H-F;break;case"*":F=H*F;break;case"/":F=H/F}d[R]={rootPropertyValue:W,startValue:H,currentValue:H,endValue:F,unitType:z,easing:B},b.debug&&console.log("tweensContainer ("+R+"): "+JSON.stringify(d[R]),a)}else b.debug&&console.log("Skipping ["+j+"] due to a lack of browser support.")}d.element=a}d.element&&(x.Values.addClass(a,"velocity-animating"),L.push(d),s(a).tweensContainer=d,s(a).opts=c,s(a).isAnimating=!0,S===k-1?(b.State.calls.length>1e4&&(b.State.calls=o(b.State.calls)),b.State.calls.push([L,y,c,null,A.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,l())):S++)}var a=this,c=v.extend({},b.defaults,C),d={};if(s(a)===n&&v.data(a,u,{isSVG:g.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),parseFloat(c.delay)&&c.queue!==!1&&v.queue(a,c.queue,function(t){b.velocityQueueEntryFlag=!0,s(a).delayTimer={setTimeout:setTimeout(t,parseFloat(c.delay)),next:t}}),b.mock===!0)c.duration=1;else switch(c.duration.toString().toLowerCase()){case"fast":c.duration=200;break;case"normal":c.duration=h;break;case"slow":c.duration=600;break;default:c.duration=parseFloat(c.duration)||1}c.easing=r(c.easing,c.duration),c.begin&&!g.isFunction(c.begin)&&(c.begin=null),c.progress&&!g.isFunction(c.progress)&&(c.progress=null),c.complete&&!g.isFunction(c.complete)&&(c.complete=null),c.display&&(c.display=c.display.toString().toLowerCase(),"auto"===c.display&&(c.display=b.CSS.Values.getDisplayType(a))),c.visibility&&(c.visibility=c.visibility.toString().toLowerCase()),c.mobileHA=c.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,c.queue===!1?c.delay?setTimeout(t,c.delay):t():v.queue(a,c.queue,function(e,i){return i===!0?(A.promise&&A.resolver(y),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==c.queue&&"fx"!==c.queue||"inprogress"===v.queue(a)[0]||v.dequeue(a)}var d,f,m,y,w,C,_=arguments[0]&&(v.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(d=!1,m=0,y=this,f=this):(d=!0,m=1,y=_?arguments[0].elements:arguments[0]),y=g.isWrapped(y)?[].slice.call(y):y){_?(w=arguments[0].properties,C=arguments[0].options):(w=arguments[m],C=arguments[m+1]);var k=g.isArray(y)||g.isNodeList(y)?y.length:1,S=0;if("stop"!==w&&!v.isPlainObject(C)){var T=m+1;C={};for(var D=T;D<arguments.length;D++)!g.isArray(arguments[D])&&/^\d/.test(arguments[D])?C.duration=parseFloat(arguments[D]):g.isString(arguments[D])||g.isArray(arguments[D])?C.easing=arguments[D]:g.isFunction(arguments[D])&&(C.complete=arguments[D])}var A={promise:null,resolver:null,rejecter:null};d&&b.Promise&&(A.promise=new b.Promise(function(t,e){A.resolver=t,A.rejecter=e}));var I;switch(w){case"scroll":I="scroll";break;case"reverse":I="reverse";break;case"stop":v.each(g.isNode(y)?[y]:y,function(t,e){s(e)&&s(e).delayTimer&&(clearTimeout(s(e).delayTimer.setTimeout),s(e).delayTimer.next&&s(e).delayTimer.next(),delete s(e).delayTimer)});var E=[];return v.each(b.State.calls,function(t,e){e!==!1&&v.each(g.isNode(e[1])?[e[1]]:e[1],function(e,i){v.each(g.isNode(y)?[y]:y,function(e,n){if(n===i){if(s(n)&&v.each(s(n).tweensContainer,function(t,e){e.endValue=e.currentValue}),C===!0||g.isString(C)){var o=g.isString(C)?C:"";v.each(v.queue(n,o),function(t,e){g.isFunction(e)&&e(null,!0)}),v.queue(n,o,[])}E.push(t)}})})}),v.each(E,function(t,e){c(e,!0)}),A.promise&&A.resolver(y),t();default:if(!v.isPlainObject(w)||v.isEmptyObject(w)){if(g.isString(w)&&b.Sequences[w]){var O=C.duration,P=C.delay||0;return C.backwards===!0&&(y=(y.jquery?[].slice.call(y):y).reverse()),v.each(y,function(t,e){parseFloat(C.stagger)?C.delay=P+parseFloat(C.stagger)*t:g.isFunction(C.stagger)&&(C.delay=P+C.stagger.call(e,t,k)),C.drag&&(C.duration=parseFloat(O)||(/^(callout|transition)/.test(w)?1e3:h),C.duration=Math.max(C.duration*(C.backwards?1-t/k:(t+1)/k),.75*C.duration,200)),b.Sequences[w].call(e,e,C||{},t,k,y,A.promise?A:n)}),t()}var M="Velocity: First argument ("+w+") was not a property map, a known action, or a registered sequence. Aborting.";return A.promise?A.rejecter(new Error(M)):console.log(M),t()}I="start"}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];v.each(g.isNode(y)?[y]:y,function(t,e){g.isNode(e)&&a.call(e)});var R,$=v.extend({},b.defaults,C);if($.loop=parseInt($.loop),R=2*$.loop-1,$.loop)for(var F=0;R>F;F++){var B={delay:$.delay};$.complete&&F===R-1&&(B.complete=$.complete),b.animate(y,"reverse",B)}return t()}};var C=e.jQuery||e.Zepto;C&&(C.fn.velocity=b.animate,C.fn.velocity.defaults=b.defaults),"undefined"!=typeof define&&define.amd?define("velocity",[],function(){return b}):"undefined"!=typeof module&&module.exports&&(module.exports=b),v.each(["Down","Up"],function(t,e){b.Sequences["slide"+e]=function(t,i){var n=v.extend({},i),o={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},s=n.begin,a=n.complete,r=!1;null!==n.display&&(n.display="Down"===e?n.display||"auto":n.display||"none"),n.begin=function(){function i(){o.height=parseFloat(b.CSS.getPropertyValue(t,"height")),t.style.height="auto",parseFloat(b.CSS.getPropertyValue(t,"height"))===o.height&&(r=!0),b.CSS.setPropertyValue(t,"height",o.height+"px")}if("Down"===e){o.overflow=[b.CSS.getPropertyValue(t,"overflow"),0],o.overflowX=[b.CSS.getPropertyValue(t,"overflowX"),0],o.overflowY=[b.CSS.getPropertyValue(t,"overflowY"),0],t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden",i();for(var n in o)if(!/^overflow/.test(n)){var a=b.CSS.getPropertyValue(t,n);"height"===n&&(a=parseFloat(a)),o[n]=[a,0]}}else{i();for(var n in o){var a=b.CSS.getPropertyValue(t,n);"height"===n&&(a=parseFloat(a)),o[n]=[0,a]}t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden"}s&&s.call(t,t)},n.complete=function(t){var i="Down"===e?0:1;r===!0?o.height[i]="auto":o.height[i]+="px";for(var n in o)t.style[n]=o[n][i];a&&a.call(t,t)},b.animate(t,o,n)}}),v.each(["In","Out"],function(t,e){b.Sequences["fade"+e]=function(t,i,n,o){var s=v.extend({},i),a={opacity:"In"===e?1:0};n!==o-1&&(s.complete=s.begin=null),null!==s.display&&(s.display=s.display||("In"===e?"auto":"none")),b.animate(this,a,s)}})}(window.jQuery||window.Zepto||window,window,document),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,n=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(e===!1)n.removeClass(t.fn.editableform.errorGroupClass),o.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=e.split("\n");for(var s=0;s<i.length;s++)i[s]=t("<div>").text(i[s]).html();e=i.join("<br>")}n.addClass(t.fn.editableform.errorGroupClass),o.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i,n=this.input.input2value();if(i=this.validate(n))return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(o)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:o,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n));return o?(this.showLoading(),i={name:this.options.name||"",value:e,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var n=arguments;return this.each(function(){var o=t(this),s=o.data("editableform"),a="object"==typeof i&&i;s||o.data("editableform",s=new e(this,a)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(n,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(i){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,n){var o,s,a={};if(!t.isArray(i)||!i.length)return a;for(var r=0;r<i.length;r++)o=i[r],e.hasOwnProperty(o)&&(a[o]=e[o]),n!==!0&&(s=o.toLowerCase(),e.hasOwnProperty(s)&&(a[o]=e[s]));return a},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,n){if(!i||null===e)return[];if("function"!=typeof n){var o=n||"value";n=function(t){return t[o]}}var s=t.isArray(e),a=[],r=this;return t.each(i,function(i,o){if(o.children)a=a.concat(r.itemsByValue(e,o.children,n));else if(s)t.grep(e,function(t){return t==(o&&"object"==typeof o?n(o):o)}).length&&a.push(o);else{var l=o&&"object"==typeof o?n(o):o;e==l&&a.push(o)}}),a},createInput:function(e){var i,n,o,s=e.type;return"date"===s&&("inline"===e.mode?t.fn.editabletypes.datefield?s="datefield":t.fn.editabletypes.dateuifield&&(s="dateuifield"):t.fn.editabletypes.date?s="date":t.fn.editabletypes.dateui&&(s="dateui"),"date"!==s||t.fn.editabletypes.date||(s="combodate")),"datetime"===s&&"inline"===e.mode&&(s="datetimefield"),"wysihtml5"!==s||t.fn.editabletypes[s]||(s="textarea"),"function"==typeof t.fn.editabletypes[s]?(i=t.fn.editabletypes[s],n=this.sliceObj(e,this.objectKeys(i.defaults)),o=new i(n)):(t.error("Unknown type: "+s),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var o=0;o<n.length;o++)if("string"==typeof e[n[o]+i])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var n,o=t(i.target),s=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,i.target)&&!o.is(document)){for(n=0;n<s.length;n++)if(o.is(s[n])||o.parents(s[n]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,n){if(n!==e&&!t(n).find(e).length){var o=t(n),s=o.data("editableContainer");s&&("cancel"===s.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===s.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(n){var o=arguments;return this.each(function(){var s=t(this),a="editableContainer",r=s.data(a),l="object"==typeof n&&n,c="inline"===l.mode?i:e;r||s.data(a,r=new c(this,l)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(o,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(e?this.render():!0).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||this.options.display===!1,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,o=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),n.css("background-color",o),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,n){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(n)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable");
}},t.fn.editable=function(i){var n={},o=arguments,s="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this),o=i.data(s);o&&(e=o.validate())&&(n[o.options.name]=e)}),n;case"getValue":return 2===arguments.length&&arguments[1]===!0?n=this.eq(0).data(s).value:this.each(function(){var e=t(this),i=e.data(s);i&&void 0!==i.value&&null!==i.value&&(n[i.options.name]=i.input.value2submit(i.value))}),n;case"submit":var a,r=arguments[1]||{},l=this,c=this.editable("validate");return t.isEmptyObject(c)?(a=this.editable("getValue"),r.data&&t.extend(a,r.data),t.ajax(t.extend({url:r.url,data:a,type:"POST"},r.ajaxOptions)).success(function(t){"function"==typeof r.success&&r.success.call(l,t,r)}).error(function(){"function"==typeof r.error&&r.error.apply(l,arguments)})):"function"==typeof r.error&&r.error.call(l,c),this}return this.each(function(){var n=t(this),a=n.data(s),r="object"==typeof i&&i;return r&&r.selector?void(a=new e(this,r)):(a||n.data(s,a=new e(this,r)),void("string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(o,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,n){this.type=e,this.options=t.extend({},n,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,n,o){var s=t.Deferred(),a=function(){"function"==typeof n?n.call(i,e,this.sourceData,o):this.value2htmlFinal(e,i),s.resolve()};return null===e?a.call(this):this.onSourceReady(a,function(){s.resolve()}),s.promise()},onSourceReady:function(e,i){var n;if(t.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{n=t.fn.editableutils.tryParseJson(n,!1)}catch(o){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var s,a=n;if(t(document).data(a)||t(document).data(a,{}),s=t(document).data(a),s.loading===!1&&s.sourceData)return this.sourceData=s.sourceData,this.doPrepend(),void e.call(this);if(s.loading===!0)return s.callbacks.push(t.proxy(function(){this.sourceData=s.sourceData,this.doPrepend(),e.call(this)},this)),void s.err_callbacks.push(t.proxy(i,this));s.loading=!0,s.callbacks=[],s.err_callbacks=[]}var r=t.extend({url:n,type:"get",cache:!1,dataType:"json",success:t.proxy(function(n){s&&(s.loading=!1),this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(s&&(s.sourceData=this.sourceData,t.each(s.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),s&&t.each(s.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),s&&(s.loading=!1,t.each(s.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(r)}else this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,n,o,s,a=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){s=function(t,e){return n={value:t,text:e},i++>=2?!1:void 0};for(var r=0;r<e.length;r++)o=e[r],"object"==typeof o?(i=0,t.each(o,s),1===i?a.push(n):i>1&&(o.children&&(o.children=this.makeArray(o.children)),a.push(o))):a.push({value:o,text:o})}else t.each(e,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,n){var o;if(t.isArray(n))for(var s=0;s<n.length;s++)o={},n[s].children?(o.label=n[s].text,i.append(e(t("<optgroup>",o),n[s].children))):(o.value=n[s].value,n[s].disabled&&(o.disabled=!0),i.append(t("<option>",o).text(n[s].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var n="",o=t.fn.editableutils.itemsByValue(e,this.sourceData);o.length&&(n=o[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,n=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),n=e.split(i)):n=t.isArray(e)?e:[e],n},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,n){var o=t(n);t.each(e,function(t,e){o.val()==e&&o.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,n){e.push(t(n).val())}),e},value2htmlFinal:function(e,i){var n=[],o=t.fn.editableutils.itemsByValue(e,this.sourceData),s=this.options.escape;o.length?(t.each(o,function(e,i){var o=s?t.fn.editableutils.escape(i.text):i.text;n.push(o)}),t(i).html(n.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;t.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(t){return t[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,n){var o,s="",a=this;this.options.select2.tags?o=i:this.sourceData&&(o=t.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),t.isArray(o)?(s=[],t.each(o,function(t,e){s.push(e&&"object"==typeof e?a.formatSelection(e):e)})):o&&(s=a.formatSelection(o)),s=t.isArray(s)?s.join(this.options.viewseparator):s,e.superclass.value2html.call(this,s,n)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var o={id:e,text:t(this.options.scope).text()};this.$input.select2("data",o)}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.options.select2.separator||t.fn.select2.defaults.separator;var n,o,s;if(null===e||e.length<1)return null;for(n=e.split(i),o=0,s=n.length;s>o;o+=1)n[o]=t.trim(n[o]);return n},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(){this.$element.val(this.getValue())},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var n=new RegExp(i+"+"),o=i.length>1?i.substring(1,2):i;e=e.replace(n,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){i=i[0];var n=i.length>1?i.substring(1,2):i;e=e.replace("{"+n+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){var e=this;t.each(this.map,function(t){var i,n,o=e.$widget.find("."+t);o.length&&(e["$"+t]=o,i="fill"+t.charAt(0).toUpperCase()+t.slice(1),n=e[i](),e["$"+t].html(e.renderItems(n)))})},initItems:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},renderItems:function(t){for(var e=[],i=0;i<t.length;i++)e.push('<option value="'+t[i][0]+'">'+t[i][1]+"</option>");return e.join("\n")},fillDay:function(){var t,e,i=this.initItems("d"),n=-1!==this.options.template.indexOf("DD");for(e=1;31>=e;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.initItems("M"),n=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),s=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=n?moment().date(1).month(e).format("MMMM"):o?moment().date(1).month(e).format("MMM"):s?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],n=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=n?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.initItems("y").concat(i)},fillHour:function(){var t,e,i=this.initItems("h"),n=-1!==this.options.template.indexOf("h"),o=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),s=n?1:0,a=n?12:23;for(e=s;a>=e;e++)t=o?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.initItems("m"),n=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.initItems("s"),n=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var i,n={},o=this,s=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return n[t]=o["$"+t]?parseInt(o["$"+t].val(),10):e,isNaN(n[t])?(s=!0,!1):void 0}}),s?"":(this.$ampm&&(n.hour=12===n.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),e=void 0===e?this.options.format:e,null===e?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var n={};return e.children("option").each(function(e,o){var s,a=t(o).attr("value");""!==a&&(s=Math.abs(a-i),("undefined"==typeof n.distance||s<n.distance)&&(n={value:a,distance:s}))}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format):moment(e),o=this,s={};n.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(s[t]=n[e[1]]())}),this.$ampm&&(s.hour>=12?(s.ampm="pm",s.hour>12&&(s.hour-=12)):(s.ampm="am",0===s.hour&&(s.hour=12))),t.each(s,function(t,e){o["$"+t]&&("minute"===t&&o.options.minuteStep>1&&o.options.roundTime&&(e=i(o["$"+t],e)),"second"===t&&o.options.secondStep>1&&o.options.roundTime&&(e=i(o["$"+t],e)),o["$"+t].val(e))}),this.$element.val(n.format(this.options.format)))}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var n,o=Array.apply(null,arguments);return o.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,o):this.each(function(){var n=t(this),s=n.data("combodate"),a="object"==typeof i&&i;s||n.data("combodate",s=new e(this,a)),"string"==typeof i&&"function"==typeof s[i]&&s[i].apply(s,o)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,i){var n=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,n,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var i=null===this.input.options.inputclass||this.input.options.inputclass===!1,n="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass=n,this.input.$input.addClass(n)));for(var s=this.$form.find(".editable-buttons"),a=i?[n]:this.input.options.inputclass.split(" "),r=0;r<a.length;r++)"input-lg"===a[r].toLowerCase()&&s.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=this.getPosition(),n=t[0].offsetWidth,o=t[0].offsetHeight,s=this.getCalculatedOffset(e,i,n,o);this.applyPlacement(s,e)}).call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(e,i){var n,o=t(e).data(),s={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in o)i.test(r)&&(n=r.replace(a,function(t,e){return e.toLowerCase()}),s[n]=o[r]);return s}function n(e){var i={};if(u[e]||(e=e.split("-")[0],u[e])){var n=u[e];return t.each(c,function(t,e){e in n&&(i[e]=n[e])}),i}}var o=function(e,i){this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),n=i.language;switch(u[n]||(n=n.split("-")[0],u[n]||(n=l.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=h.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=h.parseDate(i.startDate,o,i.language)),1/0!==i.endDate&&(i.endDate=h.parseDate(i.endDate,o,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.date,o=new Date(n.getTime()+6e4*n.getTimezoneOffset());this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return h.formatDate(n,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),h.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=new Date(this.date<this.o.startDate?this.o.startDate:this.date>this.o.endDate?this.o.endDate:this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){
var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+u[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+u[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=this.date.valueOf(),a=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()==n&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()==n&&e.getUTCMonth()>o)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==a.getFullYear()&&e.getUTCMonth()==a.getMonth()&&e.getUTCDate()==a.getDate()&&i.push("today"),s&&e.valueOf()==s&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,n=new Date(this.viewDate),o=n.getUTCFullYear(),s=n.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(u[this.o.language].months[s]+" "+o),this.picker.find("tfoot th.today").text(u[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(o,s-1,28,0,0,0,0),p=h.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p),d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];d.valueOf()<f;){if(d.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),b=new Date(+v+(11-v.getUTCDay())%7*864e5),y=new Date(+(y=e(b.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),w=(b-y)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(d),m.push("day");var x=this.o.beforeShowDay(d);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip),m=t.unique(m),g.push('<td class="'+m.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var C=this.date&&this.date.getUTCFullYear(),_=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");C&&C==o&&_.eq(this.date.getUTCMonth()).addClass("active"),(a>o||o>l)&&_.addClass("disabled"),o==a&&_.slice(0,r).addClass("disabled"),o==l&&_.slice(c+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var S=-1;11>S;S++)g+='<span class="year'+(-1==S?" old":10==S?" new":"")+(C==o?" active":"")+(a>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;k.html(g)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(i){i.preventDefault();var n=t(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=h.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var s=new Date;s=e(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(s,a);break;case"clear":var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=1,c=n.parent().find("span").index(n),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}else{var u=parseInt(n.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();n.is(".old")?0===c?(c=11,u-=1):c-=1:n.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(e(u,c,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,n,o=new Date(t.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1==r)n=-1==e?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=i},i=a+e,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;r>l;l++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(s),n=function(){return i!=o.getUTCMonth()}}for(;n();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,n,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var s=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};s.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),n=i.getUTCDate(),o=t.inArray(e.target,this.inputs),s=this.inputs.length;if(-1!=o){if(n<this.dates[o])for(;o>=0&&n<this.dates[o];)this.pickers[o--].setUTCDate(n);else if(n>this.dates[o])for(;s>o&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=t.fn.datepicker,r=t.fn.datepicker=function(e){var a=Array.apply(null,arguments);a.shift();var r;return this.each(function(){var c=t(this),u=c.data("datepicker"),h="object"==typeof e&&e;if(!u){var d=i(this,"date"),p=t.extend({},l,d,h),f=n(p.language),m=t.extend({},l,f,d,h);if(c.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||c.find("input").toArray()};c.data("datepicker",u=new s(this,t.extend(m,g)))}else c.data("datepicker",u=new o(this,m))}return"string"==typeof e&&"function"==typeof u[e]&&(r=u[e].apply(u,a),void 0!==r)?!1:void 0}),void 0!==r?r:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=o;var u=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,h.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,n,s){if(i instanceof Date)return i;if("string"==typeof n&&(n=h.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var a,r,l=/([\-+]\d+)([dmwy])/,c=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var d=0;d<c.length;d++)switch(a=l.exec(c[d]),r=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+r);break;case"m":i=o.prototype.moveMonth.call(o.prototype,i,r);break;case"w":i.setUTCDate(i.getUTCDate()+7*r);break;case"y":i=o.prototype.moveYear.call(o.prototype,i,r)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var p,f,a,c=i&&i.match(this.nonpunctuation)||[],i=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=n.parts.slice();if(c.length!=b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,g)}).toArray()),c.length==b.length){for(var d=0,y=b.length;y>d;d++){if(p=parseInt(c[d],10),a=b[d],isNaN(p))switch(a){case"MM":f=t(u[s].months).filter(function(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[s].months)+1;break;case"M":f=t(u[s].monthsShort).filter(function(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[s].monthsShort)+1}m[a]=p}for(var w,d=0;d<g.length;d++)w=g[d],w in m&&!isNaN(m[w])&&v[w](i,m[w])}return i},formatDate:function(e,i,n){"string"==typeof i&&(i=h.parseFormat(i));var o={d:e.getUTCDate(),D:u[n].daysShort[e.getUTCDay()],DD:u[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:u[n].monthsShort[e.getUTCMonth()],MM:u[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],s=t.extend([],i.separators),a=0,r=i.parts.length;r>=a;a++)s.length&&e.push(s.shift()),e.push(o[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),r.call(i,"show"))}),t(function(){r.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},i.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var n=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,n,i)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var i=t(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(t,e){var i,n=null;return t&&(n=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(i=this.dpg.formatDate(n,e,this.options.datepicker.language),t!==i&&(n=null))),n}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},i.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var n=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void e.superclass.value2html.call(this,n,i):n},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,n=null;return t&&(n=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(n,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(n=null))),n}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),define("xeditable",["bootstrap"],function(){}),function(t){"function"==typeof define&&define.amd?define("KOXeditable",["knockout","jquery"],t):t(window.ko,window.jQuery)}(function(t,e){t.bindingHandlers.editable={init:function(i,n,o,s,a){function r(t,e,i){var n=typeof e;return"function"==n?e(t):"string"==n?t[e]:i}var l=e(i),c=n(),u=o(),h=u.editableOptions||{};h.value=t.utils.unwrapObservable(c),h.name||e.each(a.$data,function(t,e){return e==c?(h.name=t,!1):void 0}),!h.validate&&c.isValid&&(h.validate=function(e){var i=c();c(e);var n=c.isValid()?null:t.utils.unwrapObservable(c.error);return c(i),n}),"select"!==h.type&&"select2"!==h.type&&"checklist"!==h.type&&"typeahead"!==h.type||h.source||!h.options||(h.optionsCaption&&(h.prepend=h.optionsCaption),h.source=function(){return t.utils.arrayMap(t.utils.unwrapObservable(h.options),function(e){var i=r(e,h.optionsValue,e),n=r(e,h.optionsText,i);return{value:t.utils.unwrapObservable(i),text:t.utils.unwrapObservable(n)}})}),h.visible&&t.isObservable(h.visible)&&(h.toggle="manual");var d=l.editable(h);t.isObservable(c)&&d.on("save.ko",function(t,e){c(e.newValue)}),h.save&&d.on("save",h.save),t.computed({read:function(){var e=t.utils.unwrapObservable(n());null===e&&(e=""),d.editable("setValue",e,!0)},owner:this,disposeWhenNodeIsRemoved:i}),h.visible&&t.isObservable(h.visible)&&(t.computed({read:function(){var e=t.utils.unwrapObservable(h.visible());e&&d.editable("show")},owner:this,disposeWhenNodeIsRemoved:i}),d.on("hidden.ko",function(t,e){h.visible(!1)}))}}}),define("bootstrapTableCustom",["shared/dateUtils"],function(t){window.cellStyleFn=function(t,e,i){return String(t).endsWith("days")?{css:{color:"darkblue","font-weight":20*Number(e.age)}}:{classes:""}}}),!function(t){"use strict";var e=37,i=null,n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII= ",a=function(t){var e=arguments,i=!0,n=1;return t=t.replace(/%s/g,function(){var t=e[n++];return"undefined"==typeof t?(i=!1,""):t}),i?t:""},r=function(e,i,n,o){var s="";return t.each(e,function(t,e){return e[i]===o?(s=e[n],!1):!0}),s},l=function(e,i){var n=-1;return t.each(e,function(t,e){return e.field===i?(n=t,!1):!0}),n},c=function(){if(null===i){var e,n,o=t("<p/>").addClass("fixed-table-scroll-inner"),s=t("<div/>").addClass("fixed-table-scroll-outer");s.append(o),t("body").append(s),e=o[0].offsetWidth,s.css("overflow","scroll"),n=o[0].offsetWidth,e===n&&(n=s[0].clientWidth),s.remove(),i=e-n}return i},u=function(e,i,n,o){var s=i;if("string"==typeof i){var r=i.split(".");r.length>1?(s=window,t.each(r,function(t,e){s=s[e]})):s=window[i]}return"object"==typeof s?s:"function"==typeof s?s.apply(e,n):!s&&"string"==typeof i&&a.apply(this,[i].concat(n))?a.apply(this,[i].concat(n)):o},h=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},d=function(e){var i=0;return e.children().each(function(){i<t(this).outerHeight(!0)&&(i=t(this).outerHeight(!0))}),i},p=function(t){for(var e in t){var i=e.split(/(?=[A-Z])/).join("-").toLowerCase();i!==e&&(t[i]=t[e],delete t[e])}return t},f=function(e,i){this.options=i,this.$el=t(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};f.DEFAULTS={classes:"table table-hover",height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",striped:!1,columns:[],data:[],method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationFirstText:"&laquo;",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationLastText:"&raquo;",search:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(t,e){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},onAll:function(t,e){return!1},onClickCell:function(t,e,i,n){return!1},onDblClickCell:function(t,e,i,n){return!1},onClickRow:function(t,e){return!1},onDblClickRow:function(t,e){return!1},onSort:function(t,e){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,e){return!1},onPageChange:function(t,e){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(t,e,i){return!1},onCollapseRow:function(t,e){return!1}},f.LOCALES=[],f.LOCALES["en-US"]={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return a("%s records per page",t)},formatShowingRows:function(t,e,i){return a("Showing %s to %s of %s rows",t,e,i)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},t.extend(f.DEFAULTS,f.LOCALES["en-US"]),f.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,cardVisible:!0},f.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow"},f.prototype.init=function(){this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initServer()},f.prototype.initContainer=function(){this.$container=t(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),
this.options.striped&&this.$el.addClass("table-striped"),-1!==t.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},f.prototype.initTable=function(){var e=this,i=[],n=[];this.$header=this.$el.find("thead"),this.$header.length||(this.$header=t("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").length||this.$header.append("<tr></tr>"),this.$header.find("th").each(function(){var e=t.extend({},{title:t(this).html(),"class":t(this).attr("class")},t(this).data());i.push(e)}),this.options.columns=t.extend(!0,[],i,this.options.columns),t.each(this.options.columns,function(i,n){e.options.columns[i]=t.extend({},f.COLUMN_DEFAULTS,{field:i},n)}),this.options.data.length||(this.$el.find("tbody tr").each(function(){var i={};i._id=t(this).attr("id"),i._class=t(this).attr("class"),i._data=p(t(this).data()),t(this).find("td").each(function(n){var o=e.options.columns[n].field;i[o]=t(this).html(),i["_"+o+"_id"]=t(this).attr("id"),i["_"+o+"_class"]=t(this).attr("class"),i["_"+o+"_rowspan"]=t(this).attr("rowspan"),i["_"+o+"_data"]=p(t(this).data()),i["_"+o+"_title"]=t(this).attr("title")}),n.push(i)}),this.options.data=n)},f.prototype.initHeader=function(){var i=this,n=[],o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],clickToSelects:[],searchables:[]},!this.options.cardView&&this.options.detailView&&(o.push('<th class="detail"><div class="fht-cell"></div></th>'),n.push({})),t.each(this.options.columns,function(t,e){var s="",r="",l="",c="",u=a(' class="%s"',e["class"]),h=(i.options.sortOrder||e.order,"px"),d=e.width;return e.visible?void((!i.options.cardView||e.cardVisible)&&(void 0===e.width||i.options.cardView||"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(h="%"),e.width&&"string"==typeof e.width&&(d=e.width.replace("%","").replace("px","")),r=a("text-align: %s; ",e.halign?e.halign:e.align),l=a("text-align: %s; ",e.align),c=a("vertical-align: %s; ",e.valign),c+=a("width: %s%s; ",e.checkbox||e.radio?36:d,h),n.push(e),i.header.fields.push(e.field),i.header.styles.push(l+c),i.header.classes.push(u),i.header.formatters.push(e.formatter),i.header.events.push(e.events),i.header.sorters.push(e.sorter),i.header.sortNames.push(e.sortName),i.header.cellStyles.push(e.cellStyle),i.header.clickToSelects.push(e.clickToSelect),i.header.searchables.push(e.searchable),o.push("<th",e.checkbox||e.radio?a(' class="bs-checkbox %s"',e["class"]||""):u,a(' style="%s"',r+c),">"),o.push(a('<div class="th-inner %s">',i.options.sortable&&e.sortable?"sortable":"")),s=e.title,e.checkbox&&(!i.options.singleSelect&&i.options.checkboxHeader&&(s='<input name="btSelectAll" type="checkbox" />'),i.header.stateField=e.field),e.radio&&(s="",i.header.stateField=e.field,i.options.singleSelect=!0),o.push(s),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</th>"))):void(e.field===i.options.sortName&&i.header.fields.push(e.field))}),this.$header.find("tr").html(o.join("")),this.$header.find("th").each(function(e){t(this).data(n[e])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(e){i.options.sortable&&t(this).parent().data().sortable&&i.onSort(e)}),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",e+"px"),this.getCaretHtml()),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var e=t(this).prop("checked");i[e?"checkAll":"uncheckAll"]()})},f.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},f.prototype.initData=function(t,e){"append"===e?this.data=this.data.concat(t):"prepend"===e?this.data=[].concat(t).concat(this.data):this.data=t||this.options.data,"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):this.options.data=this.data,"server"!==this.options.sidePagination&&this.initSort()},f.prototype.initSort=function(){var e=this,i=this.options.sortName,n="desc"===this.options.sortOrder?-1:1,o=t.inArray(this.options.sortName,this.header.fields);-1!==o&&this.data.sort(function(s,a){e.header.sortNames[o]&&(i=e.header.sortNames[o]);var r=s[i],l=a[i],c=u(e.header,e.header.sorters[o],[r,l]);return void 0!==c?n*c:((void 0===r||null===r)&&(r=""),(void 0===l||null===l)&&(l=""),t.isNumeric(r)&&t.isNumeric(l)?(r=parseFloat(r),l=parseFloat(l),l>r?-1*n:n):r===l?0:("string"!=typeof r&&(r=r.toString()),-1===r.localeCompare(l)?-1*n:n))})},f.prototype.onSort=function(e){var i=t(e.currentTarget).parent(),n=this.$header.find("th").eq(i.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder="asc"===i.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(n).data("order",this.options.sortOrder),this.getCaretHtml(),"server"===this.options.sidePagination?void this.initServer():(this.initSort(),void this.initBody())},f.prototype.initToolbar=function(){var e,i,n=this,o=[],s=0,r=0;this.$toolbar.html(""),"string"==typeof this.options.toolbar&&t(a('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(t(this.options.toolbar)),o=[a('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=u(null,this.options.icons)),this.options.showPaginationSwitch&&o.push(a('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),a('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&o.push(a('<button class="btn btn-default'+(void 0===this.options.iconSize?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),a('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&o.push(a('<button class="btn btn-default'+(void 0===this.options.iconSize?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),a('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(o.push(a('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+(void 0==this.options.iconSize?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',a('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),t.each(this.options.columns,function(t,e){if(!e.radio&&!e.checkbox&&(!n.options.cardView||e.cardVisible)){var i=e.visible?' checked="checked"':"";e.switchable&&(o.push(a('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',e.field,t,i,e.title)),r++)}}),o.push("</ul>","</div>")),o.push("</div>"),(this.showToolbar||o.length>2)&&this.$toolbar.append(o.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",t.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",t.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){n.toggleView()}),this.options.showColumns&&(e=this.$toolbar.find(".keep-open"),r<=this.options.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),e.find("input").off("click").on("click",function(){var e=t(this);n.toggleColumn(l(n.options.columns,t(this).data("field")),e.prop("checked"),!1),n.trigger("column-switch",t(this).data("field"),e.prop("checked"))})),this.options.search&&(o=[],o.push('<div class="inline pull-right search fake-search-box">','<div class="inline pull-left glyphicon glyphicon-search"></div>',a('<div class="inline"><input class="form-control input no-border" type="text" placeholder="%s" style="position: relative; top:-8px; left: 10px"/></div>',this.options.formatSearch()),"</div>"),this.$toolbar.append(o.join("")),i=this.$toolbar.find(".search input"),i.off("keyup drop").on("keyup drop",function(t){clearTimeout(s),s=setTimeout(function(){n.onSearch(t)},n.options.searchTimeOut)}),""!==this.options.searchText&&(i.val(this.options.searchText),clearTimeout(s),s=setTimeout(function(){i.trigger("keyup")},n.options.searchTimeOut))),o=[],this.$toolbar.append(o.join(""))},f.prototype.onSearch=function(e){var i=t.trim(t(e.currentTarget).val());this.options.trimOnSearch&&t(e.currentTarget).val()!==i&&t(e.currentTarget).val(i),i!==this.searchText&&(this.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))},f.prototype.initSearch=function(){var e=this;if("server"!==this.options.sidePagination){var i=this.searchText&&this.searchText.toLowerCase(),n=t.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?t.grep(this.options.data,function(t,e){for(var i in n)if(t[i]!==n[i])return!1;return!0}):this.options.data,this.data=i?t.grep(this.data,function(n,o){for(var s in n){s=t.isNumeric(s)?parseInt(s,10):s;var a=n[s],r=e.options.columns[l(e.options.columns,s)],c=t.inArray(s,e.header.fields);a=u(r,e.header.formatters[c],[a,n,o],a);var h=t.inArray(s,e.header.fields);if(-1!==h&&e.header.searchables[h]&&("string"==typeof a||"number"==typeof a)&&-1!==(a+"").toLowerCase().indexOf(i))return!0}return!1}):this.data}},f.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var e,i,n,o,s,r,l,c,u,h=this,d=[],p=!1,f=this.getData();if("server"!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,p=!0;else if(this.options.pageSize===this.options.totalRows){var m="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;m.indexOf(this.options.formatAllRows().toLowerCase())>-1&&(p=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),d.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),d.push('<span class="page-list">');var g=[a('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+(void 0===this.options.iconSize?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',p?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],v=this.options.pageList;if("string"==typeof this.options.pageList){var b=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");v=[],t.each(b,function(t,e){v.push(e.toUpperCase()===h.options.formatAllRows().toUpperCase()?h.options.formatAllRows():+e)})}for(t.each(v,function(t,e){if(!h.options.smartDisplay||0===t||v[t-1]<=h.options.totalRows){var i;i=p?e===h.options.formatAllRows()?' class="active"':"":e===h.options.pageSize?' class="active"':"",g.push(a('<li%s><a href="javascript:void(0)">%s</a></li>',i,e))}}),g.push("</ul></span>"),d.push(this.options.formatRecordsPerPage(g.join(""))),d.push("</span>"),d.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+(void 0===this.options.iconSize?"":" pagination-"+this.options.iconSize)+'">','<li class="page-first"><a href="javascript:void(0)">'+this.options.paginationFirstText+"</a></li>",'<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(i=1,n=this.totalPages):(i=this.options.pageNumber-2,n=i+4,1>i&&(i=1,n=5),n>this.totalPages&&(n=this.totalPages,i=n-4)),e=i;n>=e;e++)d.push('<li class="page-number'+(e===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',e,"</a>","</li>");d.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>",'<li class="page-last"><a href="javascript:void(0)">'+this.options.paginationLastText+"</a></li>","</ul>","</div>"),this.$pagination.html(d.join("")),o=this.$pagination.find(".page-list a"),s=this.$pagination.find(".page-first"),r=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-last"),u=this.$pagination.find(".page-number"),this.options.pageNumber<=1&&(s.addClass("disabled"),r.addClass("disabled")),this.options.pageNumber>=this.totalPages&&(l.addClass("disabled"),c.addClass("disabled")),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(v.length<2||this.options.totalRows<=v[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),p&&(this.options.pageSize=this.options.formatAllRows()),o.off("click").on("click",t.proxy(this.onPageListChange,this)),s.off("click").on("click",t.proxy(this.onPageFirst,this)),r.off("click").on("click",t.proxy(this.onPagePre,this)),l.off("click").on("click",t.proxy(this.onPageNext,this)),c.off("click").on("click",t.proxy(this.onPageLast,this)),u.off("click").on("click",t.proxy(this.onPageNumber,this))},f.prototype.updatePagination=function(e){e&&t(e.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},f.prototype.onPageListChange=function(e){var i=t(e.currentTarget);i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e)},f.prototype.onPageFirst=function(t){this.options.pageNumber=1,this.updatePagination(t)},f.prototype.onPagePre=function(t){this.options.pageNumber--,this.updatePagination(t)},f.prototype.onPageNext=function(t){this.options.pageNumber++,this.updatePagination(t)},f.prototype.onPageLast=function(t){this.options.pageNumber=this.totalPages,this.updatePagination(t)},f.prototype.onPageNumber=function(e){this.options.pageNumber!==+t(e.currentTarget).text()&&(this.options.pageNumber=+t(e.currentTarget).text(),this.updatePagination(e))},f.prototype.initBody=function(e){var i=this,n=[],o=this.getData();this.trigger("pre-body",o),this.$body=this.$el.find("tbody"),this.$body.length||(this.$body=t("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=o.length);for(var s=this.pageFrom-1;s<this.pageTo;s++){var c,d=o[s],p={},f=[],m="",g={},v=[];if(p=u(this.options,this.options.rowStyle,[d,s],p),p&&p.css)for(c in p.css)f.push(c+": "+p.css[c]);if(g=u(this.options,this.options.rowAttributes,[d,s],g))for(c in g)v.push(a('%s="%s"',c,h(g[c])));d._data&&!t.isEmptyObject(d._data)&&t.each(d._data,function(t,e){"index"!==t&&(m+=a(' data-%s="%s"',t,e))}),n.push("<tr",a(" %s",v.join(" ")),a(' id="%s"',t.isArray(d)?void 0:d._id),a(' class="%s"',p.classes||(t.isArray(d)?void 0:d._class)),a(' data-index="%s"',s),a(' data-uniqueid="%s"',d[this.options.uniqueId]),a("%s",m),">"),this.options.cardView&&n.push(a('<td colspan="%s">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&n.push("<td>",'<a class="detail-icon" href="javascript:">','<i class="glyphicon glyphicon-plus icon-plus"></i>',"</a>","</td>"),t.each(this.header.fields,function(e,o){var c="",h=d[o],m="",g={},v="",b=i.header.classes[e],y="",w="",x=i.options.columns[l(i.options.columns,o)];if(p=a('style="%s"',f.concat(i.header.styles[e]).join("; ")),h=u(x,i.header.formatters[e],[h,d,s],h),d["_"+o+"_id"]&&(v=a(' id="%s"',d["_"+o+"_id"])),d["_"+o+"_class"]&&(b=a(' class="%s"',d["_"+o+"_class"])),d["_"+o+"_title"]&&(b=a(' title="%s"',d["_"+o+"_title"])),d["_"+o+"_rowspan"]&&(w=a(' rowspan="%s"',d["_"+o+"_rowspan"])),g=u(i.header,i.header.cellStyles[e],[h,d,s],g),g.classes&&(b=a(' class="%s"',g.classes)),g.css){var C=[];for(var _ in g.css)C.push(_+": "+g.css[_]);p=a('style="%s"',C.concat(i.header.styles[e]).join("; "))}d["_"+o+"_data"]&&!t.isEmptyObject(d["_"+o+"_data"])&&t.each(d["_"+o+"_data"],function(t,e){"index"!==t&&(y+=a(' data-%s="%s"',t,e))}),x.checkbox||x.radio?(m=x.checkbox?"checkbox":m,m=x.radio?"radio":m,c=[i.options.cardView?'<div class="card-view">':'<td class="bs-checkbox">',"<input"+a(' data-index="%s"',s)+a(' name="%s"',i.options.selectItemName)+a(' type="%s"',m)+a(' value="%s"',d[i.options.idField])+a(' checked="%s"',h===!0||h&&h.checked?"checked":void 0)+a(' disabled="%s"',!x.checkboxEnabled||h&&h.disabled?"disabled":void 0)+" />",i.options.cardView?"</div>":"</td>"].join(""),d[i.header.stateField]=h===!0||h&&h.checked):(h="undefined"==typeof h||null===h?i.options.undefinedText:h,c=i.options.cardView?['<div class="card-view">',i.options.showHeader?a('<span class="title" %s>%s</span>',p,r(i.options.columns,"field","title",o)):"",a('<span class="value">%s</span>',h),"</div>"].join(""):[a("<td%s %s %s %s %s>",v,b,p,y,w),h,"</td>"].join(""),i.options.cardView&&i.options.smartDisplay&&""===h&&(c="")),n.push(c)}),this.options.cardView&&n.push("</td>"),n.push("</tr>")}n.length||n.push('<tr class="no-records-found">',a('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(n.join("")),e||this.scrollTo(0),this.$body.find("> tr > td").off("click").on("click",function(){var e=t(this),n=e.parent(),o=i.data[n.data("index")],s=e[0].cellIndex,r=i.$header.find("th:eq("+s+")"),l=r.data("field"),c=o[l];i.trigger("click-cell",l,c,o,e),i.trigger("click-row",o,n),i.options.clickToSelect&&i.header.clickToSelects[n.children().index(t(this))]&&n.find(a('[name="%s"]',i.options.selectItemName))[0].click()}),this.$body.find("> tr > td").off("dblclick").on("dblclick",function(){var e=t(this),n=e.parent(),o=i.data[n.data("index")],s=e[0].cellIndex,a=i.$header.find("th:eq("+s+")"),r=a.data("field"),l=o[r];i.trigger("dbl-click-cell",r,l,o,e),i.trigger("dbl-click-row",o,n)}),this.$body.find("> tr > td > .detail-icon").off("click").on("click",function(){var e=t(this),n=e.parent().parent(),o=n.data("index"),s=i.options.data[o];n.next().is("tr.detail-view")?(e.find("i").attr("class","glyphicon glyphicon-plus icon-plus"),n.next().remove(),i.trigger("collapse-row",o,s)):(e.find("i").attr("class","glyphicon glyphicon-minus icon-minus"),n.after(a('<tr class="detail-view"><td colspan="%s">%s</td></tr>',n.find("td").length,u(i.options,i.options.detailFormatter,[o,s],""))),i.trigger("expand-row",o,s,n.next().find("td"))),i.resetView()}),this.$selectItem=this.$body.find(a('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(e){e.stopImmediatePropagation();var n=t(this).prop("checked"),o=i.data[t(this).data("index")];o[i.header.stateField]=n,i.options.singleSelect&&(i.$selectItem.not(this).each(function(){i.data[t(this).data("index")][i.header.stateField]=!1}),i.$selectItem.filter(":checked").not(this).prop("checked",!1)),i.updateSelected(),i.trigger(n?"check":"uncheck",o)}),t.each(this.header.events,function(e,n){if(n){"string"==typeof n&&(n=u(null,n)),!i.options.cardView&&i.options.detailView&&(e+=1);for(var o in n)i.$body.find("tr").each(function(){var s=t(this),a=s.find(i.options.cardView?".card-view":"td").eq(e),r=o.indexOf(" "),l=o.substring(0,r),c=o.substring(r+1),u=n[o];a.find(c).off(l).on(l,function(t){var n=s.data("index"),o=i.data[n],a=o[i.header.fields[e]];u.apply(this,[t,a,o,n])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body")},f.prototype.initServer=function(e,i){var n,o=this,s={},a={pageSize:this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};(this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(a={search:a.searchText,sort:a.sortName,order:a.sortOrder},this.options.pagination&&(a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1))),t.isEmptyObject(this.filterColumnsPartial)||(a.filter=JSON.stringify(this.filterColumnsPartial,null)),s=u(this.options,this.options.queryParams,[a],s),t.extend(s,i||{}),s!==!1&&(e||this.$tableLoading.show(),n=t.extend({},u(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(s):s,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){t=u(o.options,o.options.responseHandler,[t],t),o.load(t),o.trigger("load-success",t)},error:function(t){o.trigger("load-error",t.status)},complete:function(){e||o.$tableLoading.hide()}}),this.options.ajax?u(this,this.options.ajax,[n],null):t.ajax(n)))},f.prototype.getCaretHtml=function(){var e=this;t.each(this.$header.find("th"),function(i,a){t(a).data("field")===e.options.sortName?t(a).find(".sortable").css("background-image","url("+("desc"===e.options.sortOrder?s:n)+")"):t(a).find(".sortable").css("background-image","url("+o+")")})},f.prototype.updateSelected=function(){var e=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each(function(){t(this).parents("tr")[t(this).prop("checked")?"addClass":"removeClass"]("selected")})},f.prototype.updateRows=function(){var e=this;this.$selectItem.each(function(){e.data[t(this).data("index")][e.header.stateField]=t(this).prop("checked")})},f.prototype.resetRows=function(){var e=this;t.each(this.data,function(t,i){e.$selectAll.prop("checked",!1),e.$selectItem.prop("checked",!1),i[e.header.stateField]=!1})},f.prototype.trigger=function(e){var i=Array.prototype.slice.call(arguments,1);e+=".bs.table",this.options[f.EVENTS[e]].apply(this.options,i),this.$el.trigger(t.Event(e),i),this.options.onAll(e,i),this.$el.trigger(t.Event("all.bs.table"),[e,i])},f.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(t.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},f.prototype.fitHeader=function(){var e,i,n=this;return n.$el.is(":hidden")?void(n.timeoutFooter_=setTimeout(t.proxy(n.fitHeader,n),100)):(e=this.$tableBody.get(0),i=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.height()?c():0,this.$el.css("margin-top",-this.$header.height()),this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":i}).find("table").css("width",this.$el.css("width")).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$header.find("th").each(function(e){n.$header_.find("th").eq(e).data(t(this).data())}),this.$body.find("tr:first-child:not(.no-records-found) > *").each(function(e){n.$header_.find("div.fht-cell").eq(e).width(t(this).innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){n.$tableHeader.scrollLeft(t(this).scrollLeft())}),void n.trigger("post-header"))},f.prototype.resetFooter=function(){var e=this,i=e.getData(),n=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&n.push("<td></td>"),t.each(this.options.columns,function(t,o){var s="",r="",l=a(' class="%s"',o["class"]);o.visible&&(!e.options.cardView||o.cardVisible)&&(s=a("text-align: %s; ",o.falign?o.falign:o.align),r=a("vertical-align: %s; ",o.valign),n.push("<td",l,a(' style="%s"',s+r),">"),n.push(u(o,o.footerFormatter,[i],"&nbsp;")||"&nbsp;"),n.push("</td>"))}),this.$tableFooter.find("tr").html(n.join("")),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},f.prototype.fitFooter=function(){var e,i,n;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),100)):(i=this.$el.css("width"),n=i>this.$tableBody.width()?c():0,this.$tableFooter.css({"margin-right":n}).find("table").css("width",i).attr("class",this.$el.attr("class")),e=this.$tableFooter.find("td"),void this.$tableBody.find("tbody tr:first-child:not(.no-records-found) > td").each(function(i){e.eq(i).outerWidth(t(this).outerWidth())}))},f.prototype.toggleColumn=function(t,e,i){if(-1!==t&&(this.options.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var n=this.$toolbar.find(".keep-open input").prop("disabled",!1);i&&n.filter(a('[value="%s"]',t)).prop("checked",e),n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}},f.prototype.toggleRow=function(e,i,n){-1!==e&&t(this.$body[0]).children().filter(a(i?'[data-uniqueid="%s"]':'[data-index="%s"]',e))[n?"show":"hide"]()},f.prototype.resetView=function(t){var i=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var n=d(this.$toolbar),o=d(this.$pagination),s=this.options.height-n-o;this.$tableContainer.css("height",s+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),void this.$tableContainer.css("padding-bottom","0")):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),i+=e):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(i+=e)),this.getCaretHtml(),void this.$tableContainer.css("padding-bottom",i+"px"))},f.prototype.getData=function(e){return!this.searchText&&t.isEmptyObject(this.filterColumns)&&t.isEmptyObject(this.filterColumnsPartial)?e?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:e?this.data.slice(this.pageFrom-1,this.pageTo):this.data},f.prototype.load=function(e){var i=!1;"server"===this.options.sidePagination?(this.options.totalRows=e.total,i=e.fixedScroll,e=e.rows):t.isArray(e)||(i=e.fixedScroll,e=e.data),this.initData(e),this.initSearch(),this.initPagination(),this.initBody(i)},f.prototype.append=function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initBody(!0)},f.prototype.prepend=function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initBody(!0)},f.prototype.remove=function(e){var i,n,o=this.options.data.length;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){for(i=o-1;i>=0;i--)n=this.options.data[i],n.hasOwnProperty(e.field)&&-1!==t.inArray(n[e.field],e.values)&&this.options.data.splice(i,1);o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))}},f.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.removeByUniqueId=function(t){var e,i,n=this.options.uniqueId,o=this.options.data.length;for(e=o-1;e>=0;e--)i=this.options.data[e],i.hasOwnProperty(n)&&("string"==typeof i[n]?t=t.toString():"number"==typeof i[n]&&(Number(i[n])===i[n]&&i[n]%1===0?t=parseInt(t):i[n]===Number(i[n])&&0!==i[n]&&(t=parseFloat(t))),i[n]===t&&this.options.data.splice(e,1));o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.insertRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},f.prototype.updateRow=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(t.extend(this.data[e.index],e.row),this.initSort(),this.initBody(!0))},f.prototype.showRow=function(t){t.hasOwnProperty("index")&&this.toggleRow(t.index,void 0===t.isIdField?!1:!0,!0)},f.prototype.hideRow=function(t){t.hasOwnProperty("index")&&this.toggleRow(t.index,void 0===t.isIdField?!1:!0,!1)},f.prototype.getRowsHidden=function(e){var i=t(this.$body[0]).children().filter(":hidden"),n=0;if(e)for(;n<i.length;n++)t(i[n]).show();return i},f.prototype.mergeCells=function(e){var i,n,o=e.index,s=t.inArray(e.field,this.header.fields),a=e.rowspan||1,r=e.colspan||1,l=this.$body.find("tr"),c=l.eq(o).find("td").eq(s);if(!this.options.cardView&&this.options.detailView&&(s+=1),c=l.eq(o).find("td").eq(s),!(0>o||0>s||o>=this.data.length)){for(i=o;o+a>i;i++)for(n=s;s+r>n;n++)l.eq(i).find("td").eq(n).hide();c.attr("rowspan",a).attr("colspan",r).show()}},f.prototype.updateCell=function(t){t.hasOwnProperty("rowIndex")&&t.hasOwnProperty("fieldName")&&t.hasOwnProperty("fieldValue")&&(this.data[t.rowIndex][t.fieldName]=t.fieldValue,this.initSort(),this.initBody(!0))},f.prototype.getOptions=function(){return this.options},f.prototype.getSelections=function(){var e=this;return t.grep(this.data,function(t){return t[e.header.stateField]})},f.prototype.getAllSelections=function(){var e=this;return t.grep(this.options.data,function(t){return t[e.header.stateField]})},f.prototype.checkAll=function(){this.checkAll_(!0)},f.prototype.uncheckAll=function(){this.checkAll_(!1)},f.prototype.checkAll_=function(t){var e;t||(e=this.getSelections()),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),this.updateSelected(),t&&(e=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",e)},f.prototype.check=function(t){this.check_(!0,t)},f.prototype.uncheck=function(t){this.check_(!1,t)},f.prototype.check_=function(t,e){this.$selectItem.filter(a('[data-index="%s"]',e)).prop("checked",t),this.data[e][this.header.stateField]=t,this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e])},f.prototype.checkBy=function(t){this.checkBy_(!0,t)},f.prototype.uncheckBy=function(t){this.checkBy_(!1,t)},f.prototype.checkBy_=function(e,i){if(i.hasOwnProperty("field")&&i.hasOwnProperty("values")){var n=this,o=[];t.each(this.options.data,function(s,r){return r.hasOwnProperty(i.field)?void(-1!==t.inArray(r[i.field],i.values)&&(n.$selectItem.filter(a('[data-index="%s"]',s)).prop("checked",e),r[n.header.stateField]=e,o.push(r),n.trigger(e?"check":"uncheck",r))):!1}),this.updateSelected(),this.trigger(e?"check-some":"uncheck-some",o)}},f.prototype.destroy=function(){this.$el.insertBefore(this.$container),t(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),
this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},f.prototype.showLoading=function(){this.$tableLoading.show()},f.prototype.hideLoading=function(){this.$tableLoading.hide()},f.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},f.prototype.refresh=function(t){t&&t.url&&(this.options.url=t.url,this.options.pageNumber=1),this.initServer(t&&t.silent,t&&t.query)},f.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},f.prototype.showColumn=function(t){this.toggleColumn(l(this.options.columns,t),!0,!0)},f.prototype.hideColumn=function(t){this.toggleColumn(l(this.options.columns,t),!1,!0)},f.prototype.filterBy=function(e){this.filterColumns=t.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},f.prototype.scrollTo=function(t){return"string"==typeof t&&(t="bottom"===t?this.$tableBody[0].scrollHeight:0),"number"==typeof t&&this.$tableBody.scrollTop(t),"undefined"==typeof t?this.$tableBody.scrollTop():void 0},f.prototype.getScrollPosition=function(){return this.scrollTo()},f.prototype.selectPage=function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())},f.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},f.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},f.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)};var m=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","removeByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView"];t.fn.bootstrapTable=function(e){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=t(this),s=o.data("bootstrap.table"),a=t.extend({},f.DEFAULTS,o.data(),"object"==typeof e&&e);if("string"==typeof e){if(t.inArray(e,m)<0)throw new Error("Unknown method: "+e);if(!s)return;i=s[e].apply(s,n),"destroy"===e&&o.removeData("bootstrap.table")}s||o.data("bootstrap.table",s=new f(this,a))}),"undefined"==typeof i?this:i},t.fn.bootstrapTable.Constructor=f,t.fn.bootstrapTable.defaults=f.DEFAULTS,t.fn.bootstrapTable.columnDefaults=f.COLUMN_DEFAULTS,t.fn.bootstrapTable.locales=f.LOCALES,t.fn.bootstrapTable.methods=m,t(function(){t('[data-toggle="table"]').bootstrapTable()})}(jQuery),define("bootstrapTable",["jquery","bootstrap","bootstrapTableCustom"],function(){}),jQuery.base64=function(t){function e(t,e){var i=a.indexOf(t.charAt(e));if(-1===i)throw"Cannot decode base64";return i}function i(t){var i,n,o=0,a=t.length,r=[];if(t=String(t),0===a)return t;if(a%4!==0)throw"Cannot decode base64";for(t.charAt(a-1)===s&&(o=1,t.charAt(a-2)===s&&(o=2),a-=4),i=0;a>i;i+=4)n=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6|e(t,i+3),r.push(String.fromCharCode(n>>16,n>>8&255,255&n));switch(o){case 1:n=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6,r.push(String.fromCharCode(n>>16,n>>8&255));break;case 2:n=e(t,i)<<18|e(t,i+1)<<12,r.push(String.fromCharCode(n>>16))}return r.join("")}function n(t,e){var i=t.charCodeAt(e);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i}function o(t){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";t=String(t);var e,i,o=[],r=t.length-t.length%3;if(0===t.length)return t;for(e=0;r>e;e+=3)i=n(t,e)<<16|n(t,e+1)<<8|n(t,e+2),o.push(a.charAt(i>>18)),o.push(a.charAt(i>>12&63)),o.push(a.charAt(i>>6&63)),o.push(a.charAt(63&i));switch(t.length-r){case 1:i=n(t,e)<<16,o.push(a.charAt(i>>18)+a.charAt(i>>12&63)+s+s);break;case 2:i=n(t,e)<<16|n(t,e+1)<<8,o.push(a.charAt(i>>18)+a.charAt(i>>12&63)+a.charAt(i>>6&63)+s)}return o.join("")}var s="=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="1.0";return{decode:i,encode:o,VERSION:r}}(jQuery),define("jqueryBase64",["jquery"],function(){}),function(t){t.fn.extend({tableExport:function(e){function i(t){return"true"==n.htmlContent?content_data=t.html().trim():content_data=t.text().trim(),"true"==n.escape&&(content_data=escape(content_data)),content_data}var n={separator:",",ignoreColumn:[],tableName:"yourTableName",type:"csv",pdfFontSize:14,pdfLeftMargin:20,escape:"true",htmlContent:"false",consoleLog:"false"},e=t.extend(n,e),o=this;if("csv"==n.type||"txt"==n.type){var s="";t(o).find("thead").find("tr").each(function(){s+="\n",t(this).filter(":visible").find("th").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(s+='"'+i(t(this))+'"'+n.separator)}),s=t.trim(s),s=t.trim(s).substring(0,s.length-1)}),t(o).find("tbody").find("tr").each(function(){s+="\n",t(this).filter(":visible").find("td").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(s+='"'+i(t(this))+'"'+n.separator)}),s=t.trim(s).substring(0,s.length-1)}),"true"==n.consoleLog&&console.log(s);var a="base64,"+t.base64.encode(s);window.open("data:application/"+n.type+";filename=exportData;"+a)}else if("sql"==n.type){var s="INSERT INTO `"+n.tableName+"` (";t(o).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(s+="`"+i(t(this))+"`,")}),s=t.trim(s),s=t.trim(s).substring(0,s.length-1)}),s+=") VALUES ",t(o).find("tbody").find("tr").each(function(){s+="(",t(this).filter(":visible").find("td").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(s+='"'+i(t(this))+'",')}),s=t.trim(s).substring(0,s.length-1),s+="),"}),s=t.trim(s).substring(0,s.length-1),s+=";","true"==n.consoleLog&&console.log(s);var a="base64,"+t.base64.encode(s);window.open("data:application/sql;filename=exportData;"+a)}else if("json"==n.type){var r=[];t(o).find("thead").find("tr").each(function(){var e=[];t(this).filter(":visible").find("th").each(function(o,s){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(o)&&e.push(i(t(this)))}),r.push(e)});var l=[];t(o).find("tbody").find("tr").each(function(){var e=[];t(this).filter(":visible").find("td").each(function(o,s){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(o)&&e.push(i(t(this)))}),l.push(e)});var c=[];c.push({header:r,data:l}),"true"==n.consoleLog&&console.log(JSON.stringify(c));var a="base64,"+t.base64.encode(JSON.stringify(c));window.open("data:application/json;filename=exportData;"+a)}else if("xml"==n.type){var u='<?xml version="1.0" encoding="utf-8"?>';u+="<tabledata><fields>",t(o).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(u+="<field>"+i(t(this))+"</field>")})}),u+="</fields><data>";var h=1;t(o).find("tbody").find("tr").each(function(){u+='<row id="'+h+'">';var e=0;t(this).filter(":visible").find("td").each(function(o,s){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(o)&&(u+="<column-"+e+">"+i(t(this))+"</column-"+e+">"),e++}),h++,u+="</row>"}),u+="</data></tabledata>","true"==n.consoleLog&&console.log(u);var a="base64,"+t.base64.encode(u);window.open("data:application/xml;filename=exportData;"+a)}else if("excel"==n.type||"doc"==n.type||"powerpoint"==n.type){var d="<table>";t(o).find("thead").find("tr").each(function(){d+="<tr>",t(this).filter(":visible").find("th").each(function(e,o){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)&&(d+="<td>"+i(t(this))+"</td>")}),d+="</tr>"});var h=1;t(o).find("tbody").find("tr").each(function(){d+="<tr>";var e=0;t(this).filter(":visible").find("td").each(function(o,s){"none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(o)&&(d+="<td>"+i(t(this))+"</td>"),e++}),h++,d+="</tr>"}),d+="</table>","true"==n.consoleLog&&console.log(d);var p="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:"+n.type+"' xmlns='http://www.w3.org/TR/REC-html40'>";p+="<head>",p+="<!--[if gte mso 9]>",p+="<xml>",p+="<x:ExcelWorkbook>",p+="<x:ExcelWorksheets>",p+="<x:ExcelWorksheet>",p+="<x:Name>",p+="{worksheet}",p+="</x:Name>",p+="<x:WorksheetOptions>",p+="<x:DisplayGridlines/>",p+="</x:WorksheetOptions>",p+="</x:ExcelWorksheet>",p+="</x:ExcelWorksheets>",p+="</x:ExcelWorkbook>",p+="</xml>",p+="<![endif]-->",p+="</head>",p+="<body>",p+=d,p+="</body>",p+="</html>";var a="base64,"+t.base64.encode(p),f=document.createElement("a");f.download="claims.xls",f.href="data:application/vnd.ms-excel;"+a,f.click()}else if("png"==n.type)html2canvas(t(o),{onrendered:function(t){var e=t.toDataURL("image/png");window.open(e)}});else if("pdf"==n.type){var m=new jsPDF("p","pt","a4",!0);m.setFontSize(n.pdfFontSize);var g=n.pdfLeftMargin;t(o).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,o){if("none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)){var s=g+50*e;m.text(s,20,i(t(this)))}})});var v=20,b=1,y=0;t(o).find("tbody").find("tr").each(function(e,o){rowCalc=e+1,rowCalc%26==0&&(m.addPage(),b++,v+=10),y=v+10*rowCalc-280*(b-1),t(this).filter(":visible").find("td").each(function(e,o){if("none"!=t(this).css("display")&&-1==n.ignoreColumn.indexOf(e)){var s=g+50*e;m.text(s,y,i(t(this)))}})}),m.output("datauri")}}})}(jQuery),define("kayalshriTableExport",["jquery","jqueryBase64"],function(){}),!function(t){"use strict";var e={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"Ms-Excel",powerpoint:"Ms-Powerpoint",pdf:"PDF"};t.extend(t.fn.bootstrapTable.defaults,{showExport:!1,exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{}});var i=t.fn.bootstrapTable.Constructor,n=i.prototype.initToolbar;i.prototype.initToolbar=function(){if(this.showToolbar=this.options.showExport,n.apply(this,Array.prototype.slice.apply(arguments)),this.options.showExport){var i=this,o=this.$toolbar.find(">.btn-group"),s=o.find("div.export");if(!s.length){s=t(['<div class="export btn-group" style="padding-left: 10px">','<button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">',"Export  ",'<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"</ul>","</div>"].join("")).appendTo(o);var a=s.find(".dropdown-menu"),r=this.options.exportTypes;if("string"==typeof this.options.exportTypes){var l=this.options.exportTypes.slice(1,-1).replace(/ /g,"").split(",");r=[],t.each(l,function(t,e){r.push(e.slice(1,-1))})}t.each(r,function(t,i){e.hasOwnProperty(i)&&a.append(['<li data-type="'+i+'">','<a href="javascript:void(0)">',e[i],"</a>","</li>"].join(""))}),a.find("li").click(function(){i.$el.tableExport(t.extend({},i.options.exportOptions,{type:t(this).data("type"),escape:!1}))})}}}}(jQuery),define("tableExport",["jquery","bootstrapTableCustom","bootstrapTable","kayalshriTableExport"],function(){}),function(t){t.fn.circliful=function(e){var i=t.extend({foregroundColor:"#556b2f",backgroundColor:"#eee",fillColor:!1,width:15,dimension:200,size:15,percent:50,animationStep:1},e);return this.each(function(){function e(t){m.clearRect(0,0,f.width,f.height),m.beginPath(),m.arc(g,v,y,x,w,!1),m.lineWidth=a-1,m.strokeStyle=h,m.stroke(),D&&(m.fillStyle=D,m.fill()),m.beginPath(),m.arc(g,v,y,-S,k*t-S,!1),m.lineWidth=a,m.strokeStyle=u,m.stroke(),c>C&&(C+=_,requestAnimationFrame(function(){e(Math.min(C,c)/100)}))}var n="",o="",s="",a="",r=0,l=0,c=100,u="",h="",d="",p=0;t(this).addClass("circliful"),n=void 0!=t(this).data("dimension")?t(this).data("dimension"):i.dimension,a=void 0!=t(this).data("width")?t(this).data("width"):i.width,r=void 0!=t(this).data("fontsize")?t(this).data("fontsize"):i.size,void 0!=t(this).data("percent")?(l=t(this).data("percent")/100,c=t(this).data("percent")):l=i.percent/100,u=void 0!=t(this).data("fgcolor")?t(this).data("fgcolor"):i.foregroundColor,h=void 0!=t(this).data("bgcolor")?t(this).data("bgcolor"):i.backgroundColor,p=void 0!=t(this).data("animation-step")?parseFloat(t(this).data("animation-step")):i.animationStep,void 0!=t(this).data("text")?(o=t(this).data("text"),void 0!=t(this).data("icon")&&(d='<i class="fa '+t(this).data("icon")+'"></i>'),void 0!=t(this).data("type")?(T=t(this).data("type"),"half"==T?(t(this).append('<span class="circle-text-half">'+d+o+"</span>"),t(this).find(".circle-text-half").css({"line-height":n/1.45+"px","font-size":r+"px"})):(t(this).append('<span class="circle-text">'+d+o+"</span>"),t(this).find(".circle-text").css({"line-height":n+"px","font-size":r+"px"}))):(t(this).append('<span class="circle-text">'+d+o+"</span>"),t(this).find(".circle-text").css({"line-height":n+"px","font-size":r+"px"}))):void 0!=t(this).data("icon"),void 0!=t(this).data("info")&&(s=t(this).data("info"),void 0!=t(this).data("type")?(T=t(this).data("type"),"half"==T?(t(this).append('<span class="circle-info-half">'+s+"</span>"),t(this).find(".circle-info-half").css({"line-height":.9*n+"px"})):(t(this).append('<span class="circle-info">'+s+"</span>"),t(this).find(".circle-info").css({"line-height":1.25*n+"px"}))):(t(this).append('<span class="circle-info">'+s+"</span>"),t(this).find(".circle-info").css({"line-height":1.25*n+"px"}))),t(this).width(n+"px");var f=t("<canvas></canvas>").attr({width:n,height:n}).appendTo(t(this)).get(0),m=f.getContext("2d"),g=f.width/2,v=f.height/2,b=360*l,y=(b*(Math.PI/180),f.width/2.5),w=2.3*Math.PI,x=0,C=0===p?c:0,_=Math.max(p,0),k=2*Math.PI,S=Math.PI/2,T="",D=!1;if(void 0!=t(this).data("type")&&(T=t(this).data("type"),"half"==T))var w=2*Math.PI,x=3.13,k=1*Math.PI,S=Math.PI/.996;D=void 0!=t(this).data("fill")?t(this).data("fill"):i.fillColor,e(C/100)})}}(jQuery),define("circliful",["jquery"],function(){}),!function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){!function(){var i=t("color-convert"),n=t("color-string"),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t){var e=n.getRgba(t);if(e)this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}}else if("object"==typeof t){var e=t;if(void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};o.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=0>e?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){e=1-(null==e?.5:e);for(var i=2*e-1,n=this.alpha()-t.alpha(),o=((i*n==-1?i:(i+n)/(1+i*n))+1)/2,s=1-o,a=this.rgbArray(),r=t.rgbArray(),l=0;l<a.length;l++)a[l]=a[l]*o+r[l]*s;this.setValues("rgb",a);var c=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",c),this},toJSON:function(){return this.rgb()},clone:function(){return new o(this.rgb())}},o.prototype.getValues=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=this.values[t][i];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},o.prototype.setValues=function(t,e){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},s=1;if("alpha"==t)s=e;else if(e.length)this.values[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var a=0;a<t.length;a++)this.values[t][a]=e[t.charAt(a)];s=e.a}else if(void 0!==e[n[t][0]]){for(var r=n[t],a=0;a<t.length;a++)this.values[t][a]=e[r[a]];s=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==s?s:this.values.alpha)),"alpha"!=t){for(var a=0;a<t.length;a++){var l=Math.max(0,Math.min(o[t][a],this.values[t][a]));this.values[t][a]=Math.round(l)}for(var c in n){c!=t&&(this.values[c]=i[t][c](this.values[t]));for(var a=0;a<c.length;a++){var l=Math.max(0,Math.min(o[c][a],this.values[c][a]));this.values[c][a]=Math.round(l)}}return!0}},o.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},o.prototype.setChannel=function(t,e,i){return void 0===i?this.values[t][e]:(this.values[t][e]=i,this.setValues(t,this.values[t]),this)},window.Color=e.exports=o}()},{"color-convert":3,"color-string":4}],2:[function(t,e,i){function n(t){var e,i,n,o=t[0]/255,s=t[1]/255,a=t[2]/255,r=Math.min(o,s,a),l=Math.max(o,s,a),c=l-r;return l==r?e=0:o==l?e=(s-a)/c:s==l?e=2+(a-o)/c:a==l&&(e=4+(o-s)/c),e=Math.min(60*e,360),0>e&&(e+=360),n=(r+l)/2,i=l==r?0:.5>=n?c/(l+r):c/(2-l-r),[e,100*i,100*n]}function o(t){var e,i,n,o=t[0],s=t[1],a=t[2],r=Math.min(o,s,a),l=Math.max(o,s,a),c=l-r;return i=0==l?0:c/l*1e3/10,l==r?e=0:o==l?e=(s-a)/c:s==l?e=2+(a-o)/c:a==l&&(e=4+(o-s)/c),e=Math.min(60*e,360),0>e&&(e+=360),n=l/255*1e3/10,[e,i,n]}function s(t){var e=t[0],i=t[1],o=t[2],s=n(t)[0],a=1/255*Math.min(e,Math.min(i,o)),o=1-1/255*Math.max(e,Math.max(i,o));return[s,100*a,100*o]}function a(t){var e,i,n,o,s=t[0]/255,a=t[1]/255,r=t[2]/255;return o=Math.min(1-s,1-a,1-r),e=(1-s-o)/(1-o)||0,i=(1-a-o)/(1-o)||0,n=(1-r-o)/(1-o)||0,[100*e,100*i,100*n,100*o]}function l(t){return X[JSON.stringify(t)]}function c(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var o=.4124*e+.3576*i+.1805*n,s=.2126*e+.7152*i+.0722*n,a=.0193*e+.1192*i+.9505*n;return[100*o,100*s,100*a]}function u(t){var e,i,n,o=c(t),s=o[0],a=o[1],r=o[2];return s/=95.047,a/=100,r/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*a-16,i=500*(s-a),n=200*(a-r),[e,i,n]}function h(t){return F(u(t))}function d(t){var e,i,n,o,s,a=t[0]/360,r=t[1]/100,l=t[2]/100;if(0==r)return s=255*l,[s,s,s];i=.5>l?l*(1+r):l+r-l*r,e=2*l-i,o=[0,0,0];for(var c=0;3>c;c++)n=a+1/3*-(c-1),0>n&&n++,n>1&&n--,s=1>6*n?e+6*(i-e)*n:1>2*n?i:2>3*n?e+(i-e)*(2/3-n)*6:e,o[c]=255*s;return o}function p(t){var e,i,n=t[0],o=t[1]/100,s=t[2]/100;return s*=2,o*=1>=s?s:2-s,i=(s+o)/2,e=2*o/(s+o),[n,100*e,100*i]}function f(t){return s(d(t))}function m(t){return a(d(t))}function v(t){return l(d(t))}function y(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,s=e-Math.floor(e),a=255*n*(1-i),r=255*n*(1-i*s),l=255*n*(1-i*(1-s)),n=255*n;switch(o){case 0:return[n,l,a];case 1:return[r,n,a];case 2:return[a,n,l];case 3:return[a,r,n];case 4:return[l,a,n];case 5:return[n,a,r]}}function w(t){var e,i,n=t[0],o=t[1]/100,s=t[2]/100;return i=(2-o)*s,e=o*s,e/=1>=i?i:2-i,e=e||0,i/=2,[n,100*e,100*i]}function x(t){return s(y(t))}function C(t){return a(y(t))}function _(t){return l(y(t))}function k(t){var e,i,n,o,s=t[0]/360,a=t[1]/100,l=t[2]/100,c=a+l;switch(c>1&&(a/=c,l/=c),e=Math.floor(6*s),i=1-l,n=6*s-e,0!=(1&e)&&(n=1-n),o=a+n*(i-a),e){default:case 6:case 0:r=i,g=o,b=a;break;case 1:r=o,g=i,b=a;break;case 2:r=a,g=i,b=o;break;case 3:r=a,g=o,b=i;break;case 4:r=o,g=a,b=i;break;case 5:r=i,g=a,b=o}return[255*r,255*g,255*b]}function S(t){return n(k(t))}function T(t){return o(k(t))}function D(t){return a(k(t))}function A(t){return l(k(t))}function I(t){var e,i,n,o=t[0]/100,s=t[1]/100,a=t[2]/100,r=t[3]/100;return e=1-Math.min(1,o*(1-r)+r),i=1-Math.min(1,s*(1-r)+r),n=1-Math.min(1,a*(1-r)+r),[255*e,255*i,255*n]}function E(t){return n(I(t))}function O(t){return o(I(t))}function P(t){return s(I(t))}function M(t){return l(I(t))}function N(t){var e,i,n,o=t[0]/100,s=t[1]/100,a=t[2]/100;return e=3.2406*o+-1.5372*s+a*-.4986,i=o*-.9689+1.8758*s+.0415*a,n=.0557*o+s*-.204+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),[255*e,255*i,255*n]}function L(t){var e,i,n,o=t[0],s=t[1],a=t[2];return o/=95.047,s/=100,a/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*s-16,i=500*(o-s),n=200*(s-a),[e,i,n]}function R(t){return F(L(t))}function $(t){var e,i,n,o,s=t[0],a=t[1],r=t[2];return 8>=s?(i=100*s/903.3,o=7.787*(i/100)+16/116):(i=100*Math.pow((s+16)/116,3),o=Math.pow(i/100,1/3)),e=.008856>=e/95.047?e=95.047*(a/500+o-16/116)/7.787:95.047*Math.pow(a/500+o,3),n=.008859>=n/108.883?n=108.883*(o-r/200-16/116)/7.787:108.883*Math.pow(o-r/200,3),[e,i,n]}function F(t){var e,i,n,o=t[0],s=t[1],a=t[2];return e=Math.atan2(a,s),i=360*e/2/Math.PI,0>i&&(i+=360),n=Math.sqrt(s*s+a*a),[o,n,i]}function B(t){return N($(t))}function H(t){var e,i,n,o=t[0],s=t[1],a=t[2];return n=a/360*2*Math.PI,e=s*Math.cos(n),i=s*Math.sin(n),[o,e,i]}function j(t){return $(H(t))}function W(t){return B(H(t))}function V(t){return K[t]}function z(t){return n(V(t))}function U(t){return o(V(t))}function q(t){return s(V(t))}function Y(t){return a(V(t))}function J(t){return u(V(t))}function G(t){return c(V(t))}e.exports={rgb2hsl:n,rgb2hsv:o,rgb2hwb:s,rgb2cmyk:a,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:h,hsl2rgb:d,hsl2hsv:p,hsl2hwb:f,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:x,hsv2cmyk:C,hsv2keyword:_,hwb2rgb:k,hwb2hsl:S,hwb2hsv:T,hwb2cmyk:D,hwb2keyword:A,cmyk2rgb:I,cmyk2hsl:E,cmyk2hsv:O,cmyk2hwb:P,cmyk2keyword:M,keyword2rgb:V,keyword2hsl:z,keyword2hsv:U,keyword2hwb:q,keyword2cmyk:Y,keyword2lab:J,keyword2xyz:G,xyz2rgb:N,xyz2lab:L,xyz2lch:R,lab2xyz:$,lab2rgb:B,lab2lch:F,lch2lab:H,lch2xyz:j,lch2rgb:W};var K={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Q in K)X[JSON.stringify(K[Q])]=Q},{}],3:[function(t,e,i){var n=t("./conversions"),o=function(){return new c};for(var s in n){o[s+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),n[t](e)}}(s);var a=/(\w+)2(\w+)/.exec(s),r=a[1],l=a[2];o[r]=o[r]||{},o[r][l]=o[s]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=n[t](e);if("string"==typeof i||void 0===i)return i;for(var o=0;o<i.length;o++)i[o]=Math.round(i[o]);return i}}(s)}var c=function(){this.convs={}};c.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},c.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},c.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,n=this.convs[i];e=o[i][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){c.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=o},{"./conversions":2}],4:[function(t,e,i){function n(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\w+)/,a=[0,0,0],r=1,l=t.match(e);if(l){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l[c]+l[c],16)}else if(l=t.match(i)){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=t.match(n)){for(var c=0;c<a.length;c++)a[c]=parseInt(l[c+1]);r=parseFloat(l[4])}else if(l=t.match(o)){for(var c=0;c<a.length;c++)a[c]=Math.round(2.55*parseFloat(l[c+1]));r=parseFloat(l[4]);
}else if(l=t.match(s)){if("transparent"==l[1])return[0,0,0,0];if(a=w[l[1]],!a)return}for(var c=0;c<a.length;c++)a[c]=b(a[c],0,255);return r=r||0==r?b(r,0,1):1,a[3]=r,a}}function o(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]),o=b(parseInt(i[1]),0,360),s=b(parseFloat(i[2]),0,100),a=b(parseFloat(i[3]),0,100),r=b(isNaN(n)?1:n,0,1);return[o,s,a,r]}}}function s(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]),o=b(parseInt(i[1]),0,360),s=b(parseFloat(i[2]),0,100),a=b(parseFloat(i[3]),0,100),r=b(isNaN(n)?1:n,0,1);return[o,s,a,r]}}}function a(t){var e=n(t);return e&&e.slice(0,3)}function r(t){var e=o(t);return e&&e.slice(0,3)}function l(t){var e=n(t);return e?e[3]:(e=o(t))?e[3]:(e=s(t))?e[3]:void 0}function c(t){return"#"+y(t[0])+y(t[1])+y(t[2])}function u(t,e){return 1>e||t[3]&&t[3]<1?h(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function h(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function d(t,e){if(1>e||t[3]&&t[3]<1)return p(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+o+"%)"}function p(t,e){var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+i+"%, "+n+"%, "+o+"%, "+(e||t[3]||1)+")"}function f(t,e){return 1>e||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return x[t.slice(0,3)]}function b(t,e,i){return Math.min(Math.max(e,t),i)}function y(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var w=t("color-name");e.exports={getRgba:n,getHsla:o,getRgb:a,getHsl:r,getHwb:s,getAlpha:l,hexString:c,rgbString:u,rgbaString:h,percentString:d,percentaString:p,hslString:f,hslaString:m,hwbString:g,keyword:v};var x={};for(var C in w)x[w[C]]=C},{"color-name":5}],5:[function(t,e,i){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}]},{},[1]),function(){"use strict";var t=this,e=t.Chart,i=function(t,e){this.config=e,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(i.helpers.getStyle(t.canvas,"width"))||i.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(i.helpers.getStyle(t.canvas,"height"))||i.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==e.aspectRatio?e.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,i.helpers.retinaScale(this),e&&(this.controller=new i.Controller(this));var n=this;return i.helpers.addResizeListener(t.canvas.parentNode,function(){n.controller&&n.controller.config.options.responsive&&n.controller.resize()}),this.controller?this.controller:this};i.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'">'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</span></li>");return e.push("</ul>"),e.join("")}}},"undefined"!=typeof amd?define("chartjs",[],function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers={},n=i.each=function(t,e,i,n){var o=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var s;if(n)for(s=t.length-1;s>=0;s--)e.apply(i,[t[s],s].concat(o));else for(s=0;s<t.length;s++)e.apply(i,[t[s],s].concat(o))}else for(var a in t)e.apply(i,[t[a],a].concat(o))},o=i.clone=function(t){var e={};return n(t,function(n,s){t.hasOwnProperty(s)&&(i.isArray(n)?e[s]=n.slice(0):"object"==typeof n&&null!==n?e[s]=o(n):e[s]=n)}),e},s=i.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(e){n(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)})}),t},a=(i.configMerge=function(t){var n=o(t);return i.each(Array.prototype.slice.call(arguments,1),function(t){i.each(t,function(o,s){if(t.hasOwnProperty(s))if("scales"===s)n[s]=i.scaleMerge(n.hasOwnProperty(s)?n[s]:{},o);else if("scale"===s)n[s]=i.configMerge(n.hasOwnProperty(s)?n[s]:{},e.scaleService.getScaleDefaults(o.type),o);else if(n.hasOwnProperty(s)&&i.isArray(n[s])&&i.isArray(o)){var a=n[s];i.each(o,function(t,e){e<a.length?"object"==typeof a[e]&&null!==a[e]&&"object"==typeof t&&null!==t?a[e]=i.configMerge(a[e],t):a[e]=t:a.push(t)})}else n.hasOwnProperty(s)&&"object"==typeof n[s]&&null!==n[s]&&"object"==typeof o?n[s]=i.configMerge(n[s],o):n[s]=o})}),n},i.extendDeep=function(t){function e(t){return i.each(arguments,function(n){n!==t&&i.each(n,function(i,n){t[n]&&t[n].constructor&&t[n].constructor===Object?e(t[n],i):t[n]=i})}),t}return e.apply(this,arguments)},i.scaleMerge=function(t,n){var s=o(t);return i.each(n,function(t,o){n.hasOwnProperty(o)&&("xAxes"===o||"yAxes"===o?s.hasOwnProperty(o)?i.each(t,function(t,n){n>=s[o].length||!s[o][n].type?s[o].push(i.configMerge(t.type?e.scaleService.getScaleDefaults(t.type):{},t)):t.type!==s[o][n].type?s[o][n]=i.configMerge(s[o][n],t.type?e.scaleService.getScaleDefaults(t.type):{},t):s[o][n]=i.configMerge(s[o][n],t)}):(s[o]=[],i.each(t,function(t){s[o].push(i.configMerge(t.type?e.scaleService.getScaleDefaults(t.type):{},t))})):s.hasOwnProperty(o)&&"object"==typeof s[o]&&null!==s[o]&&"object"==typeof t?s[o]=i.configMerge(s[o],t):s[o]=t)}),s},i.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:i.isArray(t)?e<t.length?t[e]:n:t},i.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.where=function(t,e){var n=[];return i.each(t,function(t){e(t)&&n.push(t)}),n},i.findNextWhere=function(t,e,i){(void 0===i||null===i)&&(i=-1);for(var n=i+1;n<t.length;n++){var o=t[n];if(e(o))return o}},i.findPreviousWhere=function(t,e,i){(void 0===i||null===i)&&(i=t.length);for(var n=i-1;n>=0;n--){var o=t[n];if(e(o))return o}},i.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=a,t&&s(i.prototype,t),i.__super__=e.prototype,i}),r=i.noop=function(){},l=(i.uid=function(){var t=0;return function(){return"chart-"+t++}}(),i.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},i.amd="function"==typeof define&&define.amd,i.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),c=(i.max=function(t){return Math.max.apply(Math,t)},i.min=function(t){return Math.min.apply(Math,t)},i.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},i.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},i.getDecimalPlaces=function(t){if(t%1!==0&&l(t)){var e=t.toString();if(e.indexOf("e-")<0)return e.split(".")[1].length;if(e.indexOf(".")<0)return parseInt(e.split("e-")[1]);var i=e.split(".")[1].split("e-");return i[0].length+parseInt(i[1])}return 0},i.toRadians=function(t){return t*(Math.PI/180)},i.toDegrees=function(t){return t*(180/Math.PI)},i.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n),s=Math.atan2(n,i);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:o}},i.aliasPixel=function(t){return t%2===0?0:.5},i.splineCurve=function(t,e,i,n){var o=t,s=e,a=i;o.skip&&(o=s),a.skip&&(a=s);var r=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),l=Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2)),c=n*r/(r+l),u=n*l/(r+l);return{previous:{x:s.x-c*(a.x-o.x),y:s.y-c*(a.y-o.y)},next:{x:s.x+u*(a.x-o.x),y:s.y+u*(a.y-o.y)}}},i.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},i.previousItem=function(t,e,i){return i?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},i.niceNum=function(t,e){var n,o=Math.floor(i.log10(t)),s=t/Math.pow(10,o);return n=e?1.5>s?1:3>s?2:7>s?5:10:1>=s?1:2>=s?2:5>=s?5:10,n*Math.pow(10,o)},i.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=1*(.3*1.5)),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),1>t?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-c.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*c.easeInBounce(2*t):.5*c.easeOutBounce(2*t-1)+.5}}),u=(i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),i.getRelativePosition=function(t,e){var i,n,o=t.originalEvent||t,s=t.currentTarget||t.srcElement,a=s.getBoundingClientRect();return o.touches?(i=o.touches[0].clientX,n=o.touches[0].clientY):(i=o.clientX,n=o.clientY),i=Math.round((i-a.left)/(a.right-a.left)*s.width/e.currentDevicePixelRatio),n=Math.round((n-a.top)/(a.bottom-a.top)*s.height/e.currentDevicePixelRatio),{x:i,y:n}},i.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),h=i.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=r},d=(i.bindEvents=function(t,e,i){t.events||(t.events={}),n(e,function(e){t.events[e]=function(){i.apply(t,arguments)},u(t.chart.canvas,e,t.events[e])})},i.unbindEvents=function(t,e){n(e,function(e,i){h(t.chart.canvas,i,e)})},i.getConstraintWidth=function(t){var e,i=document.defaultView.getComputedStyle(t)["max-width"],n=document.defaultView.getComputedStyle(t.parentNode)["max-width"],o=null!==i&&"none"!==i,s=null!==n&&"none"!==n;return(o||s)&&(e=Math.min(o?parseInt(i,10):Number.POSITIVE_INFINITY,s?parseInt(n,10):Number.POSITIVE_INFINITY)),e}),p=i.getConstraintHeight=function(t){var e,i=document.defaultView.getComputedStyle(t)["max-height"],n=document.defaultView.getComputedStyle(t.parentNode)["max-height"],o=null!==i&&"none"!==i,s=null!==n&&"none"!==n;return(i||n)&&(e=Math.min(o?parseInt(i,10):Number.POSITIVE_INFINITY,s?parseInt(n,10):Number.POSITIVE_INFINITY)),e},f=(i.getMaximumWidth=function(t){var e=t.parentNode,i=parseInt(f(e,"padding-left"))+parseInt(f(e,"padding-right")),n=e.clientWidth-i,o=d(t);return void 0!==o&&(n=Math.min(n,o)),n},i.getMaximumHeight=function(t){var e=t.parentNode,i=parseInt(f(e,"padding-top"))+parseInt(f(e,"padding-bottom")),n=e.clientHeight-i,o=p(t);return void 0!==o&&(n=Math.min(n,o)),n},i.getStyle=function(t,e){try{return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}catch(i){return 0}});i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,n=t.canvas.height;t.currentDevicePixelRatio=window.devicePixelRatio||1,1!==window.devicePixelRatio&&(e.canvas.height=n*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio),e.canvas.style.width=i+"px",e.canvas.style.height=n+"px",t.originalDevicePixelRatio=t.originalDevicePixelRatio||window.devicePixelRatio)},i.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},i.fontString=function(t,e,i){return e+" "+t+"px "+i},i.longestText=function(t,e,i){t.font=e;var o=0;return n(i,function(e){var i=t.measureText(e).width;o=i>o?i:o}),o},i.drawRoundedRectangle=function(t,e,i,n,o,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.quadraticCurveTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+o-s),t.quadraticCurveTo(e+n,i+o,e+n-s,i+o),t.lineTo(e+s,i+o),t.quadraticCurveTo(e,i+o,e,i+o-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()},i.color=function(t){return window.Color?window.Color(t):(console.log("Color.js not found!"),t)},i.addResizeListener=function(t,e){var i=document.createElement("iframe"),n="chartjs-hidden-iframe";i.classlist?i.classlist.add(n):i.setAttribute("class",n),i.style.width="100%",i.style.display="block",i.style.border=0,i.style.height=0,i.style.margin=0,i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,t.insertBefore(i,t.firstChild);(i.contentWindow||i).onresize=function(){e&&e()}},i.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(arg)},i.isDatasetVisible=function(t){return!t.hidden}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.elements={},e.Element=function(t){i.extend(this,t),this.initialize.apply(this,arguments)},i.extend(e.Element.prototype,{initialize:function(){},pivot:function(){return this._view||(this._view=i.clone(this._model)),this._start=i.clone(this._view),this},transition:function(t){return this._view||(this._view=i.clone(this._model)),this._start||this.pivot(),i.each(this._model,function(e,n){if("_"!==n[0]&&this._model.hasOwnProperty(n))if(this._view[n])if(this._model[n]===this._view[n]);else if("string"==typeof e)try{var o=i.color(this._start[n]).mix(i.color(this._model[n]),t);this._view[n]=o.rgbString()}catch(s){this._view[n]=e}else if("number"==typeof e){var a=void 0!==this._start[n]?this._start[n]:0;this._view[n]=(this._model[n]-a)*t+a}else this._view[n]=e;else"number"==typeof e?this._view[n]=e*t:this._view[n]=e||null;else;},this),1===t&&delete this._start,this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return i.isNumber(this._model.x)&&i.isNumber(this._model.y)}}),e.Element.extend=i.inherits}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:function(){},onComplete:function(){}},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(t,e,n,o){o||(t.animating=!0);for(var s=0;s<this.animations.length;++s)if(this.animations[s].chartInstance===t)return void(this.animations[s].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1==this.animations.length&&i.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(t){var e=i.findNextWhere(this.animations,function(e){return e.chartInstance===t});e&&(this.animations.splice(e,1),t.animating=!1)},digestWrapper:function(){e.animationService.startDigest.call(e.animationService)},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var n=0;n<this.animations.length;n++)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+e,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.currentStep==this.animations[n].animationObject.numSteps&&(this.animations[n].chartInstance.animating=!1,this.animations.splice(n,1),n--);var o=Date.now(),s=(o-t)/this.frameDuration;this.dropFrames+=s,this.animations.length>0&&i.requestAnimFrame.call(window,this.digestWrapper)}}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(t){return this.chart=t,this.config=t.config,this.data=this.config.data,this.options=this.config.options=i.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=i.uid(),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize.call(this),this},i.extend(e.Controller.prototype,{initialize:function(){return this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.resetElements(),this.initToolTip(),this.update(),this},clear:function(){return i.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(t){this.stop();var e=this.chart.canvas,n=i.getMaximumWidth(this.chart.canvas),o=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?n/this.chart.aspectRatio:i.getMaximumHeight(this.chart.canvas);return e.width=this.chart.width=n,e.height=this.chart.height=o,i.retinaScale(this.chart),t||this.update(this.options.responsiveAnimationDuration),this},ensureScalesHaveIDs:function(){var t="x-axis-",e="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&i.each(this.options.scales.xAxes,function(e,i){e.id=e.id||t+i},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&i.each(this.options.scales.yAxes,function(t,i){t.id=t.id||e+i},this))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&i.each(this.options.scales.xAxes,function(t,i){var n=e.scaleService.getScaleConstructor(t.type),o=new n({ctx:this.chart.ctx,options:t,data:this.data,id:t.id});this.scales[o.id]=o},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&i.each(this.options.scales.yAxes,function(t,i){var n=e.scaleService.getScaleConstructor(t.type),o=new n({ctx:this.chart.ctx,options:t,data:this.data,id:t.id});this.scales[o.id]=o},this)),this.options.scale){var t=e.scaleService.getScaleConstructor(this.options.scale.type),n=new t({ctx:this.chart.ctx,options:this.options.scale,data:this.data,chart:this.chart});this.scale=n,this.scales.radialScale=n}e.scaleService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(t){var n=[];if(i.each(this.data.datasets,function(i,o){i.type||(i.type=this.config.type);var s=i.type;return n.push(s),i.controller?void i.controller.updateIndex(o):(i.controller=new e.controllers[s](this,o),void(t&&i.controller.reset()))},this),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!=n[o-1]){this.isCombo=!0;break}},resetElements:function(){i.each(this.data.datasets,function(t,e){t.controller.reset()},this)},update:function(t,n){e.scaleService.update(this,this.chart.width,this.chart.height),this.buildOrUpdateControllers(!0),i.each(this.data.datasets,function(t,e){t.controller.buildOrUpdateElements()},this),i.each(this.data.datasets,function(t,e){t.controller.update()},this),this.render(t,n)},render:function(t,n){if("undefined"!=typeof t&&0!==t||"undefined"==typeof t&&0!==this.options.animation.duration){var o=new e.Animation;o.numSteps=(t||this.options.animation.duration)/16.66,o.easing=this.options.animation.easing,o.render=function(t,e){var n=i.easingEffects[e.easing],o=e.currentStep/e.numSteps,s=n(o);t.draw(s,o,e.currentStep)},o.onAnimationProgress=this.options.onAnimationProgress,o.onAnimationComplete=this.options.onAnimationComplete,e.animationService.addAnimation(this,o,t,n)}else this.draw(),this.options.onAnimationComplete&&this.options.onAnimationComplete.call&&this.options.onAnimationComplete.call(this);return this},draw:function(t){var e=t||1;this.clear(),i.each(this.scales,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw(),i.each(this.data.datasets,function(e,n){i.isDatasetVisible(e)&&e.controller.draw(t)},this),this.tooltip.transition(e).draw()},getElementAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),n=[];return i.each(this.data.datasets,function(t,o){i.isDatasetVisible(t)&&i.each(t.metaData,function(t,i){return t.inRange(e.x,e.y)?(n.push(t),n):void 0},this)},this),n},getElementsAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),n=[];return i.each(this.data.datasets,function(t,o){i.isDatasetVisible(t)&&i.each(t.metaData,function(t,i){t.inLabelRange(e.x,e.y)&&n.push(t)},this)},this),n},getDatasetAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),n=[];return i.each(this.data.datasets,function(t,o){i.isDatasetVisible(t)&&i.each(t.metaData,function(o,s){o.inLabelRange(e.x,e.y)&&i.each(t.metaData,function(t,e){n.push(t)},this)},this)},this),n.length?n:[]},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),i.unbindEvents(this,this.events),i.removeResizeListener(this.chart.canvas.parentNode);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),t.style.width=this.chart.originalCanvasStyleWidth,t.style.height=this.chart.originalCanvasStyleHeight,delete e.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this.chart,_data:this.data,_options:this.options},this)},bindEvents:function(){i.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},eventHandler:function(t){this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"==t.type?this.active=this.tooltipActive=[]:(this.active=function(){switch(this.options.hover.mode){case"single":return this.getElementAtEvent(t);case"label":return this.getElementsAtEvent(t);case"dataset":return this.getDatasetAtEvent(t);default:return t}}.call(this),this.tooltipActive=function(){switch(this.options.tooltips.mode){case"single":return this.getElementAtEvent(t);case"label":return this.getElementsAtEvent(t);case"dataset":return this.getDatasetAtEvent(t);default:return t}}.call(this)),this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),("mouseup"==t.type||"click"==t.type)&&this.options.onClick&&this.options.onClick.call(this,t,this.active);if(this.lastActive.length)switch(this.options.hover.mode){case"single":this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var e=0;e<this.lastActive.length;e++)this.data.datasets[this.lastActive[e]._datasetIndex].controller.removeHoverStyle(this.lastActive[e],this.lastActive[e]._datasetIndex,this.lastActive[e]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var n=0;n<this.active.length;n++)this.data.datasets[this.active[n]._datasetIndex].controller.setHoverStyle(this.active[n])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltipActive.length?(this.tooltip._model.opacity=1,i.extend(this.tooltip,{_active:this.tooltipActive}),this.tooltip.update()):this.tooltip._model.opacity=0),this.tooltip.pivot(),!this.animating){var o;i.each(this.active,function(t,e){t!==this.lastActive[e]&&(o=!0)},this),i.each(this.tooltipActive,function(t,e){t!==this.lastTooltipActive[e]&&(o=!0)},this),(!this.lastActive.length&&this.active.length||this.lastActive.length&&!this.active.length||this.lastActive.length&&this.active.length&&o||!this.lastTooltipActive.length&&this.tooltipActive.length||this.lastTooltipActive.length&&!this.tooltipActive.length||this.lastTooltipActive.length&&this.tooltipActive.length&&o)&&(this.stop(),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.scale={display:!0,gridLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{fontColor:"#666",fontFamily:"Helvetica Neue",fontSize:12,fontStyle:"normal",labelString:"",show:!1},ticks:{beginAtZero:!1,fontSize:12,fontStyle:"normal",fontColor:"#666",fontFamily:"Helvetica Neue",maxRotation:90,minRotation:20,mirror:!1,padding:10,reverse:!1,show:!0,callback:function(t){return""+t}}},e.Scale=e.Element.extend({beforeUpdate:i.noop,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i.noop,beforeSetDimensions:i.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:i.noop,beforeBuildTicks:i.noop,buildTicks:i.noop,afterBuildTicks:i.noop,beforeTickToLabelConversion:i.noop,convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,i):this.options.ticks.callback(t,e,i);
},this)},afterTickToLabelConversion:i.noop,beforeCalculateTickRotation:i.noop,calculateTickRotation:function(){var t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);this.ctx.font=t;var e,n,o=this.ctx.measureText(this.ticks[0]).width,s=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.paddingRight=s/2+3,this.paddingLeft=o/2+3,this.labelRotation=0,this.options.display&&this.isHorizontal()){var a,r,l=i.longestText(this.ctx,t,this.ticks);this.labelWidth=l;for(var c=this.getPixelForTick(1)-this.getPixelForTick(0)-6;this.labelWidth>c&&this.labelRotation<=this.options.ticks.maxRotation;){if(a=Math.cos(i.toRadians(this.labelRotation)),r=Math.sin(i.toRadians(this.labelRotation)),e=a*o,n=a*s,e+this.options.ticks.fontSize/2>this.yLabelWidth&&(this.paddingLeft=e+this.options.ticks.fontSize/2),this.paddingRight=this.options.ticks.fontSize/2,r*l>this.maxHeight){this.labelRotation--;break}this.labelRotation++,this.labelWidth=a*l}}else this.labelWidth=0,this.paddingRight=0,this.paddingLeft=0;this.margins&&(this.paddingLeft-=this.margins.left,this.paddingRight-=this.margins.right,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingRight=Math.max(this.paddingRight,0))},afterCalculateTickRotation:i.noop,beforeFit:i.noop,fit:function(){if(this.minSize={width:0,height:0},this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=this.options.gridLines.show&&this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.gridLines.show&&this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.scaleLabel.show&&(this.isHorizontal()?this.minSize.height+=1.5*this.options.scaleLabel.fontSize:this.minSize.width+=1.5*this.options.scaleLabel.fontSize),this.options.ticks.show&&this.options.display){var t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){var e=(this.maxHeight-this.minSize.height,i.longestText(this.ctx,t,this.ticks)),n=Math.sin(i.toRadians(this.labelRotation))*e+1.5*this.options.ticks.fontSize;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+n),t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.ctx.font=t;var o=this.ctx.measureText(this.ticks[0]).width,s=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,a=Math.cos(i.toRadians(this.labelRotation)),r=Math.sin(i.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?a*o+3:o/2+3,this.paddingRight=0!==this.labelRotation?r*(this.options.ticks.fontSize/2)+3:s/2+3}else{var l=this.maxWidth-this.minSize.width,c=i.longestText(this.ctx,t,this.ticks);l>c?this.minSize.width+=c:this.minSize.width=this.maxWidth,this.paddingTop=this.options.ticks.fontSize/2,this.paddingBottom=this.options.ticks.fontSize/2}}this.margins&&(this.paddingLeft-=this.margins.left,this.paddingTop-=this.margins.top,this.paddingRight-=this.margins.right,this.paddingBottom-=this.margins.bottom,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingTop=Math.max(this.paddingTop,0),this.paddingRight=Math.max(this.paddingRight,0),this.paddingBottom=Math.max(this.paddingBottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:i.noop,isHorizontal:function(){return"top"==this.options.position||"bottom"==this.options.position},getRightValue:function n(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?n(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:i.noop,getPixelForValue:i.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),n=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),o=n*t+this.paddingLeft;return e&&(o+=n/2),this.left+Math.round(o)}var s=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(s/(this.ticks.length-1))},getPixelForDecimal:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),n=i*t+this.paddingLeft;return this.left+Math.round(n)}return this.top+t*this.height},draw:function(t){if(this.options.display){var e,n,o,s,a=0!==this.labelRotation;this.ctx.fillStyle=this.options.ticks.fontColor;var r=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){e=!0;var l="bottom"==this.options.position?this.top:this.bottom-10,c="bottom"==this.options.position?this.top+10:this.bottom;n=!1,(this.options.ticks.fontSize+4)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(n=1+Math.floor((this.options.ticks.fontSize+4)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),i.each(this.ticks,function(o,s){if(!(n>1&&s%n>0||void 0===o||null===o)){var u=this.getPixelForTick(s),h=this.getPixelForTick(s,this.options.gridLines.offsetGridLines);this.options.gridLines.show&&(s===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,e=!0):e&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,e=!1),u+=i.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(u,l),this.ctx.lineTo(u,c)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(u,t.top),this.ctx.lineTo(u,t.bottom)),this.ctx.stroke()),this.options.ticks.show&&(this.ctx.save(),this.ctx.translate(h,a?this.top+12:"top"===this.options.position?this.bottom-10:this.top+10),this.ctx.rotate(-1*i.toRadians(this.labelRotation)),this.ctx.font=r,this.ctx.textAlign=a?"right":"center",this.ctx.textBaseline=a?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(o,0,0),this.ctx.restore())}},this),this.options.scaleLabel.show&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=i.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),o=this.left+(this.right-this.left)/2,s="bottom"==this.options.position?this.bottom-this.options.scaleLabel.fontSize/2:this.top+this.options.scaleLabel.fontSize/2,this.ctx.fillText(this.options.scaleLabel.labelString,o,s))}else{e=!0;var u="right"==this.options.position?this.left:this.right-5,h="right"==this.options.position?this.left+5:this.right;if(i.each(this.ticks,function(n,o){var s=this.getPixelForTick(o);if(this.options.gridLines.show&&(o===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,e=!0):e&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,e=!1),s+=i.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(u,s),this.ctx.lineTo(h,s)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(t.left,s),this.ctx.lineTo(t.right,s)),this.ctx.stroke()),this.options.ticks.show){var a,l=this.getPixelForTick(o,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"==this.options.position?this.options.ticks.mirror?(a=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(a=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(a=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(a=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(a,l),this.ctx.rotate(-1*i.toRadians(this.labelRotation)),this.ctx.font=r,this.ctx.textBaseline="middle",this.ctx.fillText(n,0,0),this.ctx.restore()}},this),this.options.scaleLabel.show){o="left"==this.options.position?this.left+this.options.scaleLabel.fontSize/2:this.right-this.options.scaleLabel.fontSize/2,s=this.top+(this.bottom-this.top)/2;var d="left"==this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(o,s),this.ctx.rotate(d),this.ctx.textAlign="center",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=i.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}}}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.scaleMerge(e.defaults.scale,this.defaults[t]):{}},update:function(t,e,n){var o=e>30?5:2,s=n>30?5:2;if(t){var a=i.where(t.scales,function(t){return"left"==t.options.position}),r=i.where(t.scales,function(t){return"right"==t.options.position}),l=i.where(t.scales,function(t){return"top"==t.options.position}),c=i.where(t.scales,function(t){return"bottom"==t.options.position}),u=i.where(t.scales,function(t){return"chartArea"==t.options.position}),h=e/2,d=n/2;h-=2*o,d-=2*s;var p=(e-h)/(a.length+r.length),f=(n-d)/(l.length+c.length),m=[],g=function(t){var e=t.update(p,d);m.push({horizontal:!1,minSize:e,scale:t})},v=function(t){var e=t.update(h,f);m.push({horizontal:!0,minSize:e,scale:t})};i.each(a,g),i.each(r,g),i.each(l,v),i.each(c,v);var b=n-2*s,y=e-2*o;i.each(m,function(t){t.horizontal?b-=t.minSize.height:y-=t.minSize.width});var w=function(t){var e=i.findNextWhere(m,function(e){return e.scale===t});e&&t.update(e.minSize.width,b)},x=function(t){var e=i.findNextWhere(m,function(e){return e.scale===t}),n={left:C,right:_,top:0,bottom:0};e&&t.update(y,e.minSize.height,n)},C=o,_=o,k=s,S=s;i.each(a,w),i.each(r,w),i.each(a,function(t){C+=t.width}),i.each(r,function(t){_+=t.width}),i.each(l,x),i.each(c,x),i.each(l,function(t){k+=t.height}),i.each(c,function(t){S+=t.height}),i.each(a,function(t){var e=i.findNextWhere(m,function(e){return e.scale===t}),n={left:0,right:0,top:k,bottom:S};e&&t.update(e.minSize.width,b,n)}),i.each(r,function(t){var e=i.findNextWhere(m,function(e){return e.scale===t}),n={left:0,right:0,top:k,bottom:S};e&&t.update(e.minSize.width,b,n)}),C=o,_=o,k=s,S=s,i.each(a,function(t){C+=t.width}),i.each(r,function(t){_+=t.width}),i.each(l,function(t){k+=t.height}),i.each(c,function(t){S+=t.height});var T=n-k-S,D=e-C-_;(D!==y||T!==b)&&(i.each(a,function(t){t.height=T}),i.each(r,function(t){t.height=T}),i.each(l,function(t){t.width=D}),i.each(c,function(t){t.width=D}),b=T,y=D);var A=o,I=s,E=function(t){t.left=A,t.right=A+t.width,t.top=k,t.bottom=k+b,A=t.right},O=function(t){t.left=C,t.right=C+y,t.top=I,t.bottom=I+t.height,I=t.bottom};i.each(a,E),i.each(l,O),A+=y,I+=b,i.each(r,E),i.each(c,O),t.chartArea={left:C,top:k,right:C+y,bottom:k+b},i.each(u,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(y,b)})}}}}.call(this),function(){"use strict";function t(t,e){return e&&(n.isArray(e)?t=t.concat(e):t.push(e)),t}var e=this,i=e.Chart,n=i.helpers;i.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",titleFontSize:12,titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodyFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",bodyFontSize:12,bodyFontStyle:"normal",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",footerFontSize:12,footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,xOffset:10,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e,i,o,s){return n.isArray(t)?t[0]:t},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e,i,n,o){return this._data.datasets[n].label+": "+e},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},i.Tooltip=i.Element.extend({initialize:function(){var t=this._options;n.extend(this,{_model:{xPadding:t.tooltips.xPadding,yPadding:t.tooltips.yPadding,xOffset:t.tooltips.xOffset,bodyColor:t.tooltips.bodyColor,_bodyFontFamily:t.tooltips.bodyFontFamily,_bodyFontStyle:t.tooltips.bodyFontStyle,bodyFontSize:t.tooltips.bodyFontSize,bodySpacing:t.tooltips.bodySpacing,_bodposition:t.tooltips.bodposition,titleColor:t.tooltips.titleColor,_titleFontFamily:t.tooltips.titleFontFamily,_titleFontStyle:t.tooltips.titleFontStyle,titleFontSize:t.tooltips.titleFontSize,_titleAlign:t.tooltips.titleAlign,titleSpacing:t.tooltips.titleSpacing,titleMarginBottom:t.tooltips.titleMarginBottom,footerColor:t.tooltips.footerColor,_footerFontFamily:t.tooltips.footerFontFamily,_footerFontStyle:t.tooltips.footerFontStyle,footerFontSize:t.tooltips.footerFontSize,_footerAlign:t.tooltips.footerAlign,footerSpacing:t.tooltips.footerSpacing,footerMarginTop:t.tooltips.footerMarginTop,caretSize:t.tooltips.caretSize,cornerRadius:t.tooltips.cornerRadius,backgroundColor:t.tooltips.backgroundColor,opacity:0,legendColorBackground:t.tooltips.multiKeyBackground}})},getTitle:function(){var e=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),n=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),o=[];return o=t(o,e),o=t(o,i),o=t(o,n)},getBeforeBody:function(t,e,i,o,s){var a=this._options.tooltips.callbacks.beforeBody.call(this,t,e,i,o,s);return n.isArray(a)?a:[a]},getBody:function(t,e,i,o){var s,a,r,l=[];if(n.isArray(t)){for(var c=[],u=0;u<t.length;u++)s=this._options.tooltips.callbacks.beforeLabel.call(this,t[u],e[u],i,o),a=this._options.tooltips.callbacks.afterLabel.call(this,t[u],e[u],i,o),c.push((s?s:"")+this._options.tooltips.callbacks.label.call(this,t[u],e[u],i,o)+(a?a:""));c.length&&(l=l.concat(c))}else s=this._options.tooltips.callbacks.beforeLabel.apply(this,arguments),r=this._options.tooltips.callbacks.label.apply(this,arguments),a=this._options.tooltips.callbacks.afterLabel.apply(this,arguments),(s||r||a)&&l.push((s?a:"")+r+(a?a:""));return l},getAfterBody:function(t,e,i,o,s){var a=this._options.tooltips.callbacks.afterBody.call(this,t,e,i,o,s);return n.isArray(a)?a:[a]},getFooter:function(){var e=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),n=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),o=[];return o=t(o,e),o=t(o,i),o=t(o,n)},update:function(){var t,e,i,o=(this._chart.ctx,this._active[0]),s=[];return"single"==this._options.tooltips.mode?(t=o._xScale.getLabelForIndex(o._index,o._datasetIndex),e=o._yScale.getLabelForIndex(o._index,o._datasetIndex),i=this._active[0].tooltipPosition()):(t=[],e=[],n.each(this._data.datasets,function(i,s){n.isDatasetVisible(i)&&(t.push(o._xScale.getLabelForIndex(o._index,s)),e.push(o._yScale.getLabelForIndex(o._index,s)))}),n.each(this._active,function(t,e){s.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},this),i=this._active[0].tooltipPosition(),i.y=this._active[0]._yScale.getPixelForDecimal(.5)),n.extend(this._model,{title:this.getTitle(t,e,o._index,o._datasetIndex,this._data),beforeBody:this.getBeforeBody(t,e,o._index,o._datasetIndex,this._data),body:this.getBody(t,e,o._index,o._datasetIndex,this._data),afterBody:this.getAfterBody(t,e,o._index,o._datasetIndex,this._data),footer:this.getFooter(t,e,o._index,o._datasetIndex,this._data)}),n.extend(this._model,{x:Math.round(i.x),y:Math.round(i.y),caretPadding:i.padding,labelColors:s}),this},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==this._view.opacity){e.position="top";var i=e.caretPadding||2,o=e.body.length+e.beforeBody.length+e.afterBody.length,s=2*e.yPadding;s+=e.title.length*e.titleFontSize,s+=(e.title.length-1)*e.titleSpacing,s+=e.title.length?e.titleMarginBottom:0,s+=o*e.bodyFontSize,s+=(o-1)*e.bodySpacing,s+=e.footer.length?e.footerMarginTop:0,s+=e.footer.length*e.footerFontSize,s+=(e.footer.length-1)*e.footerSpacing;var a=0;n.each(e.title,function(i,o){t.font=n.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),a=Math.max(a,t.measureText(i).width)}),n.each(e.body,function(i,o){t.font=n.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),a=Math.max(a,t.measureText(i).width+("single"!=this._options.tooltips.mode?e.bodyFontSize+2:0))},this),n.each(e.footer,function(i,o){t.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),a=Math.max(a,t.measureText(i).width)}),a+=2*e.xPadding;var r=a+e.caretSize+i;e.yAlign="center",e.y-s/2<0?e.yAlign="top":e.y+s/2>this._chart.height&&(e.yAlign="bottom"),e.xAlign="right",e.x+r>this._chart.width&&(e.xAlign="left");var l=e.x,c=e.y;if(c="top"==e.yAlign?e.y-e.caretSize-e.cornerRadius:"bottom"==e.yAlign?e.y-s+e.caretSize+e.cornerRadius:e.y-s/2,l="left"==e.xAlign?e.x-r:"right"==e.xAlign?e.x+i+e.caretSize:e.x+r/2,this._options.tooltips.enabled&&(t.fillStyle=n.color(e.backgroundColor).alpha(e.opacity).rgbString(),n.drawRoundedRectangle(t,l,c,a,s,e.cornerRadius),t.fill()),this._options.tooltips.enabled&&(t.fillStyle=n.color(e.backgroundColor).alpha(e.opacity).rgbString(),"left"==e.xAlign?(t.beginPath(),t.moveTo(e.x-i,e.y),t.lineTo(e.x-i-e.caretSize,e.y-e.caretSize),t.lineTo(e.x-i-e.caretSize,e.y+e.caretSize),t.closePath(),t.fill()):(t.beginPath(),t.moveTo(e.x+i,e.y),t.lineTo(e.x+i+e.caretSize,e.y-e.caretSize),t.lineTo(e.x+i+e.caretSize,e.y+e.caretSize),t.closePath(),t.fill())),this._options.tooltips.enabled){var u=c+e.yPadding,h=l+e.xPadding;e.title.length&&(t.textAlign=e._titleAlign,t.textBaseline="top",t.fillStyle=n.color(e.titleColor).alpha(e.opacity).rgbString(),t.font=n.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),n.each(e.title,function(i,n){t.fillText(i,h,u),u+=e.titleFontSize+e.titleSpacing,n+1==e.title.length&&(u+=e.titleMarginBottom-e.titleSpacing)},this)),t.textAlign=e._bodyAlign,t.textBaseline="top",t.fillStyle=n.color(e.bodyColor).alpha(e.opacity).rgbString(),t.font=n.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),n.each(e.beforeBody,function(i,n){t.fillText(e.beforeBody,h,u),u+=e.bodyFontSize+e.bodySpacing}),n.each(e.body,function(i,o){"single"!=this._options.tooltips.mode&&(t.fillStyle=n.color(e.labelColors[o].borderColor).alpha(e.opacity).rgbString(),t.fillRect(h,u,e.bodyFontSize,e.bodyFontSize),t.fillStyle=n.color(e.labelColors[o].backgroundColor).alpha(e.opacity).rgbString(),t.fillRect(h+1,u+1,e.bodyFontSize-2,e.bodyFontSize-2),t.fillStyle=n.color(e.bodyColor).alpha(e.opacity).rgbString()),t.fillText(i,h+("single"!=this._options.tooltips.mode?e.bodyFontSize+2:0),u),u+=e.bodyFontSize+e.bodySpacing},this),n.each(e.afterBody,function(i,n){t.fillText(e.afterBody,h,u),u+=e.bodyFontSize}),u-=e.bodySpacing,e.footer.length&&(u+=e.footerMarginTop,t.textAlign=e._footerAlign,t.textBaseline="top",t.fillStyle=n.color(e.footerColor).alpha(e.opacity).rgbString(),t.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(e.footer,function(i,n){t.fillText(i,h,u),u+=e.footerFontSize+e.footerSpacing},this))}}}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.bar.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForID:function(t){return this.chart.scales[t]},getBarCount:function(){var t=0;return i.each(this.chart.data.datasets,function(e){i.isDatasetVisible(e)&&("bar"===e.type?++t:void 0===e.type&&"bar"===this.chart.config.type&&++t)},this),t},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:t}),n=this.getBarCount();this.updateElement(i,t,!0,n),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e=this.getBarCount();i.each(this.getDataset().metaData,function(i,n){this.updateElement(i,n,t,e)},this)},updateElement:function(t,e,n,o){var s,a=this.getScaleForID(this.getDataset().xAxisID),r=this.getScaleForID(this.getDataset().yAxisID);s=r.min<0&&r.max<0?r.getPixelForValue(r.max):r.min>0&&r.max>0?r.getPixelForValue(r.min):r.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:a,_yScale:r,_datasetIndex:this.index,_index:e,_model:{x:this.calculateBarX(e,this.index),y:n?s:this.calculateBarY(e,this.index),label:this.chart.data.labels[e],datasetLabel:this.getDataset().label,base:this.calculateBarBase(this.index,e),width:this.calculateBarWidth(o),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var n=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),o=0;if(n.options.stacked){var s=this.chart.data.datasets[t].data[e];if(0>s)for(var a=0;t>a;a++){var r=this.chart.data.datasets[a];i.isDatasetVisible(r)&&r.yAxisID===n.id&&(o+=r.data[e]<0?r.data[e]:0)}else for(var l=0;t>l;l++){var c=this.chart.data.datasets[l];i.isDatasetVisible(c)&&c.yAxisID===n.id&&(o+=c.data[e]>0?c.data[e]:0)}return n.getPixelForValue(o)}return o=n.getPixelForValue(n.min),n.beginAtZero||n.min<=0&&n.max>=0||n.min>=0&&n.max<=0?o=n.getPixelForValue(0,0):n.min<0&&n.max<0&&(o=n.getPixelForValue(n.max)),o},getRuler:function(){var t=this.getScaleForID(this.getDataset().xAxisID),e=(this.getScaleForID(this.getDataset().yAxisID),this.getBarCount()),i=function(){for(var e=t.getPixelForValue(null,1)-t.getPixelForValue(null,0),i=2;i<this.getDataset().data.length;i++)e=Math.min(t.getPixelForValue(null,i)-t.getPixelForValue(null,i-1),e);return e}.call(this),n=i*t.options.categoryPercentage,o=(i-i*t.options.categoryPercentage)/2,s=n/e,a=s*t.options.barPercentage,r=s-s*t.options.barPercentage;return{datasetCount:e,tickWidth:i,categoryWidth:n,categorySpacing:o,fullBarWidth:s,barWidth:a,barSpacing:r}},calculateBarWidth:function(){var t=this.getScaleForID(this.getDataset().xAxisID),e=this.getRuler();return t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(t){for(var e=0,n=0;t>n;++n)i.isDatasetVisible(this.chart.data.datasets[n])&&("bar"===this.chart.data.datasets[n].type||void 0===this.chart.data.datasets[n].type&&"bar"===this.chart.config.type)&&++e;return e},calculateBarX:function(t,e){var i=this.getScaleForID(this.getDataset().yAxisID),n=this.getScaleForID(this.getDataset().xAxisID),o=this.getBarIndex(e),s=this.getRuler(),a=n.getPixelForValue(null,t,o,this.chart.isCombo);return a-=this.chart.isCombo?s.tickWidth/2:0,i.options.stacked?a+s.categoryWidth/2+s.categorySpacing:a+s.barWidth/2+s.categorySpacing+s.barWidth*o+s.barSpacing/2+s.barSpacing*o},calculateBarY:function(t,e){var n=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),o=this.getDataset().data[t];if(n.options.stacked){for(var s=0,a=0,r=0;e>r;r++){var l=this.chart.data.datasets[r];i.isDatasetVisible(l)&&(l.data[t]<0?a+=l.data[t]||0:s+=l.data[t]||0)}return 0>o?n.getPixelForValue(a+o):n.getPixelForValue(s+o)}return n.getPixelForValue(o)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>, <%= value.r %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>, <%= value.r %>)"}},e.controllers.bubble=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.bubble.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,n=this.getDataset().metaData,o=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);e=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),i.each(n,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,n){var o,s=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);o=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:a,_yScale:s,_datasetIndex:this.index,_index:e,_model:{x:n?a.getPixelForDecimal(.5):a.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:n?o:s.getPixelForValue(this.getDataset().data[e],e,this.index),radius:n?0:t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[e]),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e),t.draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:i.getValueAtIndexOrDefault(e.hoverRadius,n,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},cutoutPercentage:50},e.defaults.pie=i.clone(e.defaults.doughnut),i.extend(e.defaults.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=function(t,e){this.initialize.call(this,t,e);
},i.extend(e.controllers.doughnut.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t,n){this.getDataset().metaData=this.getDataset().metaData||[];var o=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});n&&i.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(t,0,n),this.updateElement(o,t,!0),this.getDataset().metaData.splice(t,0,o)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},getVisibleDatasetCount:function(){return i.where(this.chart.data.datasets,function(t){return i.isDatasetVisible(t)}).length},getRingIndex:function(t){for(var e=0,n=0;t>n;++n)i.isDatasetVisible(this.chart.data.datasets[n])&&++e;return e},update:function(t){this.chart.outerRadius=Math.max(i.min([this.chart.chart.width,this.chart.chart.height])/2-this.chart.options.elements.arc.borderWidth/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,i.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,i.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,n){var o={x:this.chart.chart.width/2,y:this.chart.chart.height/2,startAngle:Math.PI*-.5,circumference:this.chart.options.animation.animateRotate?0:this.calculateCircumference(this.getDataset().data[e]),outerRadius:this.chart.options.animation.animateScale?0:this.outerRadius,innerRadius:this.chart.options.animation.animateScale?0:this.innerRadius};i.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_model:n?o:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,circumference:this.calculateCircumference(this.getDataset().data[e]),outerRadius:this.outerRadius,innerRadius:this.innerRadius,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.getDataset().label,e,this.chart.data.labels[e])}}),n||(0===e?t._model.startAngle=Math.PI*-.5:t._model.startAngle=this.getDataset().metaData[e-1]._model.endAngle,t._model.endAngle=t._model.startAngle+t._model.circumference,e<this.getDataset().data.length-1&&(this.getDataset().metaData[e+1]._model.startAngle=t._model.endAngle)),t.pivot()},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){return this.getDataset().total>0?1.999999*Math.PI*(t/this.getDataset().total):0}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.line={hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.line.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData}),i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i),this.updateBezierControlPoints()},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,n=this.getDataset().metaDataset,o=this.getDataset().metaData,s=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);e=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),i.extend(n,{_scale:s,_datasetIndex:this.index,_children:o,_model:{tension:n.custom&&n.custom.tension?n.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:n.custom&&n.custom.backgroundColor?n.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:n.custom&&n.custom.borderWidth?n.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:n.custom&&n.custom.borderColor?n.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:n.custom&&n.custom.borderCapStyle?n.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:n.custom&&n.custom.borderDash?n.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:n.custom&&n.custom.borderDashOffset?n.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:n.custom&&n.custom.borderJoinStyle?n.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:n.custom&&n.custom.fill?n.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:e}}),n.pivot(),i.each(o,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,e,n){var o,s=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);o=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:a,_yScale:s,_datasetIndex:this.index,_index:e,_model:{x:a.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:n?o:s.getPixelForValue(this.getDataset().data[e],e,this.index),tension:t.custom&&t.custom.tension?t.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,radius:t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){i.each(this.getDataset().metaData,function(t,e){var n=i.splineCurve(i.previousItem(this.getDataset().metaData,e)._model,t._model,i.nextItem(this.getDataset().metaData,e)._model,t._model.tension);t._model.controlPointPreviousX=n.previous.x,t._model.controlPointNextX=n.next.x,n.next.y>this.chart.chartArea.bottom?t._model.controlPointNextY=this.chart.chartArea.bottom:n.next.y<this.chart.chartArea.top?t._model.controlPointNextY=this.chart.chartArea.top:t._model.controlPointNextY=n.next.y,n.previous.y>this.chart.chartArea.bottom?t._model.controlPointPreviousY=this.chart.chartArea.bottom:n.previous.y<this.chart.chartArea.top?t._model.controlPointPreviousY=this.chart.chartArea.top:t._model.controlPointPreviousY=n.previous.y,t.pivot()},this)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e)},this),this.getDataset().metaDataset.transition(e).draw(),i.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:i.getValueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.pointHoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.pointHoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animateRotate:!0,animateScale:!0},e.controllers.polarArea=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.polarArea.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},getVisibleDatasetCount:function(){return i.where(this.chart.data.datasets,function(t){return i.isDatasetVisible(t)}).length},update:function(t){this.chart.outerRadius=Math.max((i.min([this.chart.chart.width,this.chart.chart.height])-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,i.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,i.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,n){var o=1/this.getDataset().data.length*2,s=-.5*Math.PI+Math.PI*o*e,a=s+o*Math.PI,r={x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.options.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:this.chart.options.animateRotate?Math.PI*-.5:s,endAngle:this.chart.options.animateRotate?Math.PI*-.5:a,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])};i.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_model:n?r:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:s,endAngle:a,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])}}),t.pivot()},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.borderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){return this.getDataset().total>0?2*Math.PI*(t/this.getDataset().total):0},updateScaleRange:function(){i.extend(this.chart.scale,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.radar.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData,_loop:!0}),i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:0,y:0}})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i),this.updateBezierControlPoints()},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,n=(this.getDataset().metaDataset,this.getDataset().metaData),o=this.chart.scale;e=o.min<0&&o.max<0?o.getPointPositionForValue(0,o.max):o.min>0&&o.max>0?o.getPointPositionForValue(0,o.min):o.getPointPositionForValue(0,0),i.extend(this.getDataset().metaDataset,{_datasetIndex:this.index,_children:this.getDataset().metaData,_model:{tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:o.top,scaleBottom:o.bottom,scaleZero:e}}),this.getDataset().metaDataset.pivot(),i.each(n,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,e,n){var o=this.chart.scale.getPointPositionForValue(e,this.getDataset().data[e]);i.extend(t,{_datasetIndex:this.index,_index:e,_model:{x:n?this.chart.scale.xCenter:o.x,y:n?this.chart.scale.yCenter:o.y,tension:t.custom&&t.custom.tension?t.custom.tension:this.chart.options.elements.line.tension,radius:t.custom&&t.custom.radius?t.custom.pointRadius:i.getValueAtIndexOrDefault(this.getDataset().pointRadius,e,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){i.each(this.getDataset().metaData,function(t,e){var n=i.splineCurve(i.previousItem(this.getDataset().metaData,e,!0)._model,t._model,i.nextItem(this.getDataset().metaData,e,!0)._model,t._model.tension);t._model.controlPointPreviousX=n.previous.x,t._model.controlPointNextX=n.next.x,n.next.y>this.chart.chartArea.bottom?t._model.controlPointNextY=this.chart.chartArea.bottom:n.next.y<this.chart.chartArea.top?t._model.controlPointNextY=this.chart.chartArea.top:t._model.controlPointNextY=n.next.y,n.previous.y>this.chart.chartArea.bottom?t._model.controlPointPreviousY=this.chart.chartArea.bottom:n.previous.y<this.chart.chartArea.top?t._model.controlPointPreviousY=this.chart.chartArea.top:t._model.controlPointPreviousY=n.previous.y,t.pivot()},this)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e)},this),this.getDataset().metaDataset.transition(e).draw(),i.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,n,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.pointHoverBorderColor,n,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.pointBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=(e.helpers,{position:"bottom"}),n=e.Scale.extend({buildTicks:function(t){this.ticks=this.data.labels},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,i,n){if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight),s=o/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),a=s*e+this.paddingLeft;return this.options.gridLines.offsetGridLines&&n&&(a+=s/2),this.left+Math.round(a)}var r=this.height-(this.paddingTop+this.paddingBottom),l=r/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),c=l*e+this.paddingTop;return this.options.gridLines.offsetGridLines&&n&&(c+=l/2),this.top+Math.round(c)}});e.scaleService.registerScaleType("category",n,i)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={position:"left",ticks:{callback:function(t,e,n){var o=n[1]-n[0];Math.abs(o)>1&&t!==Math.floor(t)&&(o=t-Math.floor(t));var s=i.log10(Math.abs(o)),a="";if(0!==t){var r=-1*Math.floor(s);r=Math.max(Math.min(r,20),0),a=t.toFixed(r)}else a="0";return a}}},o=e.Scale.extend({buildTicks:function(){this.min=null,this.max=null;var t=[],e=[];if(this.options.stacked){i.each(this.data.datasets,function(n){i.isDatasetVisible(n)&&(this.isHorizontal()?n.xAxisID===this.id:n.yAxisID===this.id)&&i.each(n.data,function(i,n){var o=this.getRightValue(i);isNaN(o)||(t[n]=t[n]||0,e[n]=e[n]||0,this.options.relativePoints?t[n]=100:0>o?e[n]+=o:t[n]+=o)},this)},this);var n=t.concat(e);this.min=i.min(n),this.max=i.max(n)}else i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.min===this.max&&(this.min--,this.max++),this.ticks=[];var o;if(o=this.isHorizontal()?Math.min(11,Math.ceil(this.width/50)):Math.min(11,Math.ceil(this.height/(2*this.options.ticks.fontSize))),o=Math.max(2,o),this.options.ticks.beginAtZero){var s=i.sign(this.min),a=i.sign(this.max);0>s&&0>a?this.max=0:s>0&&a>0&&(this.min=0)}for(var r=i.niceNum(this.max-this.min,!1),l=i.niceNum(r/(o-1),!0),c=Math.floor(this.min/l)*l,u=Math.ceil(this.max/l)*l,h=Math.ceil((u-c)/l),d=0;h>=d;++d)this.ticks.push(c+d*l);("left"==this.options.position||"right"==this.options.position)&&this.ticks.reverse(),this.max=i.max(this.ticks),this.min=i.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getLabelForIndex:function(t,e){return this.getRightValue(this.data.datasets[e].data[t])},getPixelForValue:function(t,e,i,n){var o,s=this.getRightValue(t),a=this.end-this.start;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight);return o=this.left+r/a*(s-this.start),Math.round(o+this.paddingLeft)}var l=this.height-(this.paddingTop+this.paddingBottom);return o=this.bottom-this.paddingBottom-l/a*(s-this.start),Math.round(o)}});e.scaleService.registerScaleType("linear",o,n)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={position:"left",ticks:{callback:function(t){var i=t/Math.pow(10,Math.floor(e.helpers.log10(t)));return 1===i||2===i||5===i?t.toExponential():""}}},o=e.Scale.extend({buildTicks:function(){this.min=null,this.max=null;var t=[];this.options.stacked?(i.each(this.data.datasets,function(e){i.isDatasetVisible(e)&&(this.isHorizontal()?e.xAxisID===this.id:e.yAxisID===this.id)&&i.each(e.data,function(e,i){var n=this.getRightValue(e);isNaN(n)||(t[i]=t[i]||0,this.options.relativePoints?t[i]=100:t[i]+=n)},this)},this),this.min=i.min(t),this.max=i.max(t)):i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this),this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(i.log10(this.min))-1),this.max=Math.pow(10,Math.floor(i.log10(this.max))+1)):(this.min=1,this.max=10)),this.tickValues=[];for(var e=Math.floor(i.log10(this.min)),n=Math.ceil(i.log10(this.max)),o=e;n>o;++o)for(var s=1;10>s;++s)this.tickValues.push(s*Math.pow(10,o));this.tickValues.push(1*Math.pow(10,n)),("left"==this.options.position||"right"==this.options.position)&&this.tickValues.reverse(),this.max=i.max(this.tickValues),this.min=i.min(this.tickValues),this.options.ticks.reverse?(this.tickValues.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.ticks=this.tickValues.slice()},getLabelForIndex:function(t,e){return this.getRightValue(this.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,e,n,o){var s,a=this.getRightValue(t),r=i.log10(this.end)-i.log10(this.start);if(this.isHorizontal()){if(0!==a){var l=this.width-(this.paddingLeft+this.paddingRight);return s=this.left+l/r*(i.log10(a)-i.log10(this.start)),s+this.paddingLeft}s=this.left+this.paddingLeft}else{if(0!==a){var c=this.height-(this.paddingTop+this.paddingBottom);return this.bottom-this.paddingBottom-c/r*(i.log10(a)-i.log10(this.start))}s=this.top+this.paddingTop}}});e.scaleService.registerScaleType("logarithmic",o,n)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontFamily:"'Arial'",fontStyle:"normal",fontSize:10,fontColor:"#666"}},o=e.Scale.extend({getValueCount:function(){return this.data.labels.length},setDimensions:function(){this.width=this.maxWidth,
this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var t=i.min([this.height,this.width]);this.drawingArea=this.options.display?t/2-(this.options.ticks.fontSize/2+this.options.ticks.backdropPaddingY):t/2},buildTicks:function(){this.min=null,this.max=null,i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this),this.min===this.max&&(this.min--,this.max++),this.ticks=[];var t=Math.min(11,Math.ceil(this.drawingArea/(1.5*this.options.ticks.fontSize)));if(t=Math.max(2,t),this.options.ticks.beginAtZero){var e=i.sign(this.min),n=i.sign(this.max);0>e&&0>n?this.max=0:e>0&&n>0&&(this.min=0)}for(var o=i.niceNum(this.max-this.min,!1),s=i.niceNum(o/(t-1),!0),a=Math.floor(this.min/s)*s,r=Math.ceil(this.max/s)*s,l=a;r>=l;l+=s)this.ticks.push(l);this.max=i.max(this.ticks),this.min=i.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getCircumference:function(){return 2*Math.PI/this.getValueCount()},fit:function(){var t,e,n,o,s,a,r,l,c,u,h,d,p=i.min([this.height/2-this.options.pointLabels.fontSize-5,this.width/2]),f=this.width,m=0;for(this.ctx.font=i.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),e=0;e<this.getValueCount();e++)t=this.getPointPosition(e,p),n=this.ctx.measureText(this.options.ticks.callback(this.data.labels[e])).width+5,0===e||e===this.getValueCount()/2?(o=n/2,t.x+o>f&&(f=t.x+o,s=e),t.x-o<m&&(m=t.x-o,r=e)):e<this.getValueCount()/2?t.x+n>f&&(f=t.x+n,s=e):e>this.getValueCount()/2&&t.x-n<m&&(m=t.x-n,r=e);c=m,u=Math.ceil(f-this.width),a=this.getIndexAngle(s),l=this.getIndexAngle(r),h=u/Math.sin(a+Math.PI/2),d=c/Math.sin(l+Math.PI/2),h=i.isNumber(h)?h:0,d=i.isNumber(d)?d:0,this.drawingArea=Math.round(p-(d+h)/2),this.setCenterPoint(d,h)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,n=t+this.drawingArea;this.xCenter=Math.round((n+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},draw:function(){if(this.options.display){var t=this.ctx;if(i.each(this.ticks,function(e,n){if(n>0||this.options.reverse){var o=this.getDistanceFromCenterForValue(this.ticks[n]),s=this.yCenter-o;if(this.options.gridLines.show)if(t.strokeStyle=this.options.gridLines.color,t.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.getValueCount();a++){var r=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.ticks[n]));0===a?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y)}t.closePath(),t.stroke()}if(this.options.ticks.show){if(t.font=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.options.ticks.showLabelBackdrop){var l=t.measureText(e).width;t.fillStyle=this.options.ticks.backdropColor,t.fillRect(this.xCenter-l/2-this.options.ticks.backdropPaddingX,s-this.options.ticks.fontSize/2-this.options.ticks.backdropPaddingY,l+2*this.options.ticks.backdropPaddingX,this.options.ticks.fontSize+2*this.options.ticks.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.options.ticks.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.options.lineArc){t.lineWidth=this.options.angleLines.lineWidth,t.strokeStyle=this.options.angleLines.color;for(var e=this.getValueCount()-1;e>=0;e--){if(this.options.angleLines.show){var n=this.getPointPosition(e,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(n.x,n.y),t.stroke(),t.closePath()}var o=this.getPointPosition(e,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5);t.font=i.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),t.fillStyle=this.options.pointLabels.fontColor;var s=this.data.labels.length,a=this.data.labels.length/2,r=a/2,l=r>e||e>s-r,c=e===r||e===s-r;0===e?t.textAlign="center":e===a?t.textAlign="center":a>e?t.textAlign="left":t.textAlign="right",c?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.data.labels[e],o.x,o.y)}}}}});e.scaleService.registerScaleType("radialLinear",o,n)}.call(this),function(){"use strict";if(!window.moment)return void console.warn("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at http://momentjs.com/");var t=this,e=t.Chart,i=e.helpers,n={units:["millisecond","second","minute","hour","day","week","month","quarter","year"],unit:{millisecond:{display:"SSS [ms]",maxStep:1e3},second:{display:"h:mm:ss a",maxStep:60},minute:{display:"h:mm:ss a",maxStep:60},hour:{display:"MMM D, hA",maxStep:24},day:{display:"ll",maxStep:7},week:{display:"ll",maxStep:4.3333},month:{display:"MMM YYYY",maxStep:12},quarter:{display:"[Q]Q - YYYY",maxStep:4},year:{display:"YYYY",maxStep:!1}}},o={position:"bottom",time:{format:!1,unit:!1,round:!1,displayFormat:!1}},s=e.Scale.extend({getLabelMoment:function(t,e){return this.labelMoments[t][e]},buildLabelMoments:function(){var t=[];this.data.labels&&this.data.labels.length>0?(i.each(this.data.labels,function(e,i){var n=this.parseTime(e);this.options.time.round&&n.startOf(this.options.time.round),t.push(n)},this),this.options.time.min?this.firstTick=this.parseTime(this.options.time.min):this.firstTick=moment.min.call(this,t),this.options.time.max?this.lastTick=this.parseTime(this.options.time.max):this.lastTick=moment.max.call(this,t)):(this.firstTick=null,this.lastTick=null),i.each(this.data.datasets,function(e,n){var o=[];"object"==typeof e.data[0]?i.each(e.data,function(t,e){var i=this.parseTime(this.getRightValue(t));this.options.time.round&&i.startOf(this.options.time.round),o.push(i),this.firstTick=null!==this.firstTick?moment.min(this.firstTick,i):i,this.lastTick=null!==this.lastTick?moment.max(this.lastTick,i):i},this):o=t,this.labelMoments.push(o)},this),this.firstTick=this.firstTick.clone(),this.lastTick=this.lastTick.clone()},buildTicks:function(t){if(this.ticks=[],this.labelMoments=[],this.buildLabelMoments(),this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=n.unit[this.tickUnit].display,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0));else{var e=this.width-(this.paddingLeft+this.paddingRight),o=e/this.options.ticks.fontSize+4,s=this.options.time.round?0:2;this.tickUnit="millisecond",this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0)+s),this.displayFormat=n.unit[this.tickUnit].display,i.each(n.units,function(t){this.tickRange<=o||(this.tickUnit=t,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit)+s),this.displayFormat=n.unit[t].display)},this)}this.firstTick.startOf(this.tickUnit),this.lastTick.endOf(this.tickUnit),this.smallestLabelSeparation=this.width,i.each(this.data.datasets,function(t,e){for(var i=1;i<this.labelMoments[e].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][i].diff(this.labelMoments[e][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat);for(var a=0;a<=this.tickRange;++a)this.ticks.push(this.firstTick.clone().add(a,this.tickUnit))},getLabelForIndex:function(t,e){var i=this.data.labels&&t<this.data.labels.length?this.data.labels[t]:"";return"object"==typeof this.data.datasets[e].data[0]&&(i=this.getRightValue(this.data.datasets[e].data[t])),i},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){var o=t.format(this.options.time.displayFormat?this.options.time.displayFormat:n.unit[this.tickUnit].display);return this.options.ticks.userCallback?this.options.ticks.userCallback(o,e,i):o},this)},getPixelForValue:function(t,e,i,n){var o=this.getLabelMoment(i,e),s=o.diff(this.firstTick,this.tickUnit,!0),a=s/this.tickRange;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight),l=(r/Math.max(this.ticks.length-1,1),r*a+this.paddingLeft);return this.left+Math.round(l)}var c=this.height-(this.paddingTop+this.paddingBottom),u=(c/Math.max(this.ticks.length-1,1),c*a+this.paddingTop);return this.top+Math.round(u)},parseTime:function(t){return"function"==typeof t.getMonth||"number"==typeof t?moment(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?this.options.time.format(t):moment(t,this.options.time.format)}});e.scaleService.registerScaleType("time",s,o)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.elements.arc={backgroundColor:e.defaults.global.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,e){var n=this._view;if(n){var o=i.getAngleFromPoint(n,{x:t,y:e}),s=n.startAngle<-.5*Math.PI?n.startAngle+2*Math.PI:n.startAngle>1.5*Math.PI?n.startAngle-2*Math.PI:n.startAngle,a=n.endAngle<-.5*Math.PI?n.endAngle+2*Math.PI:n.endAngle>1.5*Math.PI?n.endAngle-2*Math.PI:n.endAngle,r=o.angle>=s&&o.angle<=a,l=o.distance>=n.innerRadius&&o.distance<=n.outerRadius;return r&&l}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,e.startAngle,e.endAngle),t.arc(e.x,e.y,e.innerRadius,e.endAngle,e.startAngle,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.elements.line={tension:.4,backgroundColor:e.defaults.global.defaultColor,borderWidth:3,borderColor:e.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({draw:function(){var t=this._view,n=this._chart.ctx,o=this._children[0],s=this._children[this._children.length-1];if(n.save(),i.each(this._children,function(e,o){var s=i.previousItem(this._children,o),a=i.nextItem(this._children,o);return o||n.moveTo(e._view.x,t.scaleZero),e._view.skip&&!this.loop?(n.lineTo(s._view.x,t.scaleZero),void n.moveTo(a._view.x,t.scaleZero)):s._view.skip?void n.lineTo(e._view.x,e._view.y):t.tension>0&&o?void n.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y):void n.lineTo(e._view.x,e._view.y)},this),this._loop){if(t.tension>0&&!o._view.skip)return void n.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,o._view.controlPointPreviousX,o._view.controlPointPreviousY,o._view.x,o._view.y);n.lineTo(o._view.x,o._view.y)}if(this._children.length>0&&t.fill&&(n.lineTo(this._children[this._children.length-1]._view.x,t.scaleZero),n.lineTo(this._children[0]._view.x,t.scaleZero),n.fillStyle=t.backgroundColor||e.defaults.global.defaultColor,n.closePath(),n.fill()),n.lineCap=t.borderCapStyle||e.defaults.global.elements.line.borderCapStyle,n.setLineDash&&n.setLineDash(t.borderDash||e.defaults.global.elements.line.borderDash),n.lineDashOffset=t.borderDashOffset||e.defaults.global.elements.line.borderDashOffset,n.lineJoin=t.borderJoinStyle||e.defaults.global.elements.line.borderJoinStyle,n.lineWidth=t.borderWidth||e.defaults.global.elements.line.borderWidth,n.strokeStyle=t.borderColor||e.defaults.global.defaultColor,n.beginPath(),i.each(this._children,function(e,o){var s=i.previousItem(this._children,o),a=i.nextItem(this._children,o);return o||n.moveTo(e._view.x,t.scaleZero),e._view.skip&&!this.loop?void n.moveTo(a._view.x,t.scaleZero):s._view.skip?void n.moveTo(e._view.x,e._view.y):t.tension>0&&o?void n.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y):void n.lineTo(e._view.x,e._view.y)},this),this._loop&&!o._view.skip){if(t.tension>0)return void n.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,o._view.controlPointPreviousX,o._view.controlPointPreviousY,o._view.x,o._view.y);n.lineTo(o._view.x,o._view.y)}n.stroke(),n.restore()}})}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.defaults.global.elements.point={radius:3,backgroundColor:e.defaults.global.defaultColor,borderWidth:1,borderColor:e.defaults.global.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(t,e){var i=this._view;if(i){var n=i.hitRadius+i.radius;return Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(n,2)}return!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t=this._view,i=this._chart.ctx;t.skip||(t.radius>0||t.borderWidth>0)&&(i.beginPath(),i.arc(t.x,t.y,t.radius||e.defaults.global.elements.point.radius,0,2*Math.PI),i.closePath(),i.strokeStyle=t.borderColor||e.defaults.global.defaultColor,i.lineWidth=t.borderWidth||e.defaults.global.elements.point.borderWidth,i.fillStyle=t.backgroundColor||e.defaults.global.defaultColor,i.fill(),i.stroke())}})}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.defaults.global.elements.rectangle={backgroundColor:e.defaults.global.defaultColor,borderWidth:0,borderColor:e.defaults.global.defaultColor},e.elements.Rectangle=e.Element.extend({draw:function(){var t=this._chart.ctx,e=this._view,i=e.width/2,n=e.x-i,o=e.x+i,s=e.base-(e.base-e.y),a=e.borderWidth/2;e.borderWidth&&(n+=a,o-=a,s+=a),t.beginPath(),t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.moveTo(n,e.base),t.lineTo(n,s),t.lineTo(o,s),t.lineTo(o,e.base),t.fill(),e.borderWidth&&t.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=this._view,n=!1;return i&&(n=i.y<i.base?t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.y&&e<=i.base:t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.base&&e<=i.y),n},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return t.y<t.base?{x:t.x,y:t.y}:{x:t.x,y:t.base}}})}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.Bar=function(t,i){return i.type="bar",new e(t,i)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};e.Bubble=function(t,o){return o.options=i.configMerge(n,o.options),o.type="bubble",new e(t,o)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};e.Doughnut=function(t,o){return o.options=i.configMerge(n,o.options),o.type="doughnut",new e(t,o)}}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.Line=function(t,i){return i.type="line",new e(t,i)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};e.PolarArea=function(t,o){return o.options=i.configMerge(n,o.options),o.type="polarArea",new e(t,o)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={aspectRatio:1};e.Radar=function(t,o){return o.options=i.configMerge(n,o.options),o.type="radar",new e(t,o)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};e.Scatter=function(t,o){return o.options=i.configMerge(n,o.options),o.type="line",new e(t,o)}}.call(this),define("text!app/components/userProfile/userProfile.tmpl.html",[],function(){return'<div data-bind="if: readyToRender"\n     id="userProfileModal"\n     class="notification modal modal-lg fade"\n     role="dialog"\n     aria-labelledby="userProfileModalLabel"\n     aria-hidden="true"\n     style="top:40px; margin: auto">\n\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <!-- Header -->\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="userProfileModalLabel">\n                    <span data-bind="text: userProfile._id"></span></h4>\n            </div>\n\n            <!-- Body -->\n            <div class="modal-body">\n                <div class="container-fluid">\n                    <form class="form-horizontal">\n                        <fieldset>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-2 col-sm-4 col-xs-4">\n                                    <div class="pull-right">\n                                        <i class="fa fa-user fa-4x"></i>\n                                    </div>\n                                </div>\n                                <div class="col-md-10 col-sm-8 col-xs-8">\n                                    <div data-bind="text: userProfile.contactInfo.businessName"></div>\n                                    <div data-bind="text: userProfile.contactInfo.streetAddress"></div>\n                                    <div data-bind="text: userProfile.contactInfo.city() + \' \' + userProfile.contactInfo.zip()"></div>\n                                </div>\n                            </div>\n                        </fieldset>\n                        <fieldset>\n                            <legend>Billing Profile</legend>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-8"><span class="pull-right">Tax rate</span></div>\n                                <div class="col-md-8 col-sm-6 col-xs-4" data-bind="text: userProfile.billingProfile.taxRate"></div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-8"><span class="pull-right">Track time in</span></div>\n                                <div class="col-md-8 col-sm-6 col-xs-4" data-bind="text: userProfile.billingProfile.timeUnit"></div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-8">\n                                    <span class="pull-right"\n                                          data-bind="text: \'Rate/\' + userProfile.billingProfile.timeUnit()"></span>\n                                </div>\n                                <div class="col-md-8 col-sm-6 col-xs-4"\n                                     data-bind="text: \'$ \' + userProfile.billingProfile.timeRate()"></div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-8">\n                                    <span class="pull-right">Track distance in</span>\n                                </div>\n                                <div class="col-md-8 col-sm-6 col-xs-4" data-bind="text: userProfile.billingProfile.distanceUnit"></div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-8">\n                                    <span class="pull-right"\n                                          data-bind="text: \'Rate/\' + userProfile.billingProfile.distanceUnit()"></span>\n                                </div>\n                                <div class="col-md-8 col-sm-6 col-xs-4"\n                                     data-bind="text: \'$ \' + userProfile.billingProfile.distanceRate()"></div>\n                            </div>\n\n                        </fieldset>\n                    </form>\n\n                    <!--<div class="row">\n                        <div class="col-sm-9">\n                            Level 1: .col-sm-9\n                            <div class="row">\n                                <div class="col-xs-8 col-sm-6">\n                                    Level 2: .col-xs-8 .col-sm-6\n                                </div>\n                                <div class="col-xs-4 col-sm-6">\n                                    Level 2: .col-xs-4 .col-sm-6\n                                </div>\n                            </div>\n                        </div>\n                    </div>-->\n                </div>\n            </div>\n\n            <!-- Footer -->\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                <button type="button" class="btn btn-default" data-dismiss="modal" data-bind="click: onLogoff">Logoff\n                </button>\n            </div>\n\n        </div>\n        <!-- modal-content -->\n    </div>\n    <!-- modal-dialog -->\n</div>'}),define("model/contact",[],function(){function t(){this._id=void 0,this.isBusiness=void 0,this.role=void 0,this.name=void 0,this.businessName=void 0,this.streetAddress=void 0,this.city=void 0,this.state=void 0,this.zip=void 0,this.email=void 0,this.phone=void 0,this.ext=void 0,this.cell=void 0,this.notes=void 0}return t}),define("model/billingProfile",[],function(){function t(){this._id,this.timeUnit=void 0,this.distanceUnit=void 0,this.timeRate=void 0,this.distanceRate=void 0,this.taxRate=void 0,this.billingTypes={}}return t}),define("model/profiles",["./contact","./billingProfile"],function(t,e){function i(){this._id=void 0,this.contactInfo=new t,this.billingProfile=new e}return i}),define("app/components/userProfile/userProfileComponent",["jquery","knockout","KOMap","amplify","app/utils/events","app/utils/session","app/utils/responsive","text!app/components/userProfile/userProfile.tmpl.html","model/profiles","app/utils/audit","app/utils/consts"],function(t,e,i,n,o,s,a,r,l,c,u){"use strict";function h(t){console.log("Init UserProfile"),this.readyToRender=e.observable(!1),this.userProfile=i.fromJS(new l),this.setupEvListeners(),this.login()}return h.prototype.setupEvListeners=function(){n.subscribe(o.SHOW_USER_PROFILE,this,this.onShowUserProfile),n.subscribe(o.SHOW_LOGIN,this,this.login)},h.prototype.onShowUserProfile=function(e){console.log("UserProfileComponent - SHOW_USER_PROFILE ev "+JSON.stringify(e)),this.readyToRender(!0),t("#userProfileModal").modal()},h.prototype.getCurrentUserId=function(){return n.store.sessionStorage(SessionKeys.USER_ID)},h.prototype.login=function(){var t=this.loadUserProfile.bind(this);this.checkAndSetUserAuthProfile(t)},h.prototype.loadUserProfile=function(){var e=s.getCurrentUserId(),a=this;return t.getJSON("/userProfile/"+e).done(function(t){console.debug("Loaded UserProfile "+JSON.stringify(t.data).substr(0,100)),i.fromJS(t.data,{},this.userProfile);var e=t.data;s.setCurrentUserProfile(e),e.hasOwnProperty[u.CLAIMS_TOUR_PROFILE_KEY]&&0!=e[u.CLAIMS_TOUR_PROFILE_KEY]||n.publish(o.SHOW_WELCOME_MSG),n.publish(o.LOGGED_IN),n.publish(o.LOADED_USER_PROFILE)}.bind(this)).fail(function(t){console.error("Failed to load UserProfile "+JSON.stringify(t)),c.error("ProfileLoadingError",{resp:JSON.stringify(t)}),(t.status="TokenExpiredError"===t.statusText)&&(console.log("Token expired - resetting"),a.login(),a.onLogoff())})},h.prototype.checkAndSetUserAuthProfile=function(e){s.getCurrentUserAuthProfile()?(n.publish(o.LOGGED_IN),c.info("LoggedIn",{deviceInfo:a.deviceInfo()}),e()):t.getJSON("/config").then(function(t){return t.data.Auth0}).then(function(t){var i=new Auth0Lock(t.id,t.domain);i.show(function(t,i,n){t?(alert("There was an error logging you in"),s.setCurrentUserAuthProfile(null),s.setCurrentUserAuthToken(null),s.setCurrentUserId(null),s.setCurrentUserProfile(null),c.warn("LoginError",t)):(s.setCurrentUserAuthProfile(i),s.setCurrentUserAuthToken(n),s.setCurrentUserId(i.nickname),c.info("LoggedIn",{deviceInfo:a.deviceInfo()}),e())})}).fail(function(t){console.error("Failed to load Config"+JSON.stringify(t))})},h.prototype.onLogoff=function(){console.log("Logoff"),s.setCurrentUserAuthProfile(null),s.setCurrentUserAuthToken(null),s.setCurrentUserId(null),s.setCurrentUserProfile(null),n.publish(o.LOGOFF)},{viewModel:h,template:r}}),!function(t){"function"==typeof define&&define.amd?define("maskedInput",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e,i=navigator.userAgent,n=/iphone/i.test(i),o=/chrome/i.test(i),s=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,a){var r,l,c,u,h,d,p,f;if(!i&&this.length>0){r=t(this[0]);var m=r.data(t.mask.dataName);return m?m():void 0}return a=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},a),l=t.mask.definitions,c=[],u=p=i.length,h=null,t.each(i.split(""),function(t,e){"?"==e?(p--,u=t):l[e]?(c.push(new RegExp(l[e])),null===h&&(h=c.length-1),u>t&&(d=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(){if(a.completed){for(var t=h;d>=t;t++)if(c[t]&&A[t]===m(t))return;a.completed.call(D)}}function m(t){return a.placeholder.charAt(t<a.placeholder.length?t:0)}function g(t){for(;++t<p&&!c[t];);return t}function v(t){for(;--t>=0&&!c[t];);return t}function b(t,e){var i,n;if(!(0>t)){for(i=t,n=g(e);p>i;i++)if(c[i]){if(!(p>n&&c[i].test(A[n])))break;A[i]=A[n],A[n]=m(n),n=g(n)}S(),D.caret(Math.max(h,t))}}function y(t){var e,i,n,o;for(e=t,i=m(t);p>e;e++)if(c[e]){if(n=g(e),o=A[e],A[e]=i,!(p>n&&c[n].test(o)))break;i=o}}function w(){var t=D.val(),e=D.caret();if(f&&f.length&&f.length>t.length){for(T(!0);e.begin>0&&!c[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<h&&!c[e.begin];)e.begin++;D.caret(e.begin,e.begin)}else{for(T(!0);e.begin<p&&!c[e.begin];)e.begin++;D.caret(e.begin,e.begin)}r()}function x(){T(),D.val()!=E&&D.change()}function C(t){if(!D.prop("readonly")){var e,i,o,s=t.which||t.keyCode;f=D.val(),8===s||46===s||n&&127===s?(e=D.caret(),i=e.begin,o=e.end,o-i===0&&(i=46!==s?v(i):o=g(i-1),o=46===s?g(o):o),k(i,o),b(i,o-1),t.preventDefault()):13===s?x.call(this,t):27===s&&(D.val(E),D.caret(0,T()),t.preventDefault())}}function _(e){if(!D.prop("readonly")){var i,n,o,a=e.which||e.keyCode,l=D.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||32>a)&&a&&13!==a){if(l.end-l.begin!==0&&(k(l.begin,l.end),b(l.begin,l.end-1)),i=g(l.begin-1),p>i&&(n=String.fromCharCode(a),c[i].test(n))){if(y(i),A[i]=n,S(),o=g(i),s){var u=function(){t.proxy(t.fn.caret,D,o)()};setTimeout(u,0)}else D.caret(o);l.begin<=d&&r()}e.preventDefault()}}}function k(t,e){var i;for(i=t;e>i&&p>i;i++)c[i]&&(A[i]=m(i))}function S(){D.val(A.join(""))}function T(t){var e,i,n,o=D.val(),s=-1;for(e=0,n=0;p>e;e++)if(c[e]){for(A[e]=m(e);n++<o.length;)if(i=o.charAt(n-1),c[e].test(i)){A[e]=i,s=e;break}if(n>o.length){k(e+1,p);break}}else A[e]===o.charAt(n)&&n++,u>e&&(s=e);return t?S():u>s+1?a.autoclear||A.join("")===I?(D.val()&&D.val(""),k(0,p)):S():(S(),D.val(D.val().substring(0,s+1))),u?e:h}var D=t(this),A=t.map(i.split(""),function(t,e){return"?"!=t?l[t]?m(e):t:void 0}),I=A.join(""),E=D.val();D.data(t.mask.dataName,function(){return t.map(A,function(t,e){return c[e]&&t!=m(e)?t:null}).join("")}),D.one("unmask",function(){D.off(".mask").removeData(t.mask.dataName)}).on("focus.mask",function(){if(!D.prop("readonly")){clearTimeout(e);var t;E=D.val(),t=T(),e=setTimeout(function(){D.get(0)===document.activeElement&&(S(),t==i.replace("?","").length?D.caret(0,t):D.caret(t))},10)}}).on("blur.mask",x).on("keydown.mask",C).on("keypress.mask",_).on("input.mask paste.mask",function(){D.prop("readonly")||setTimeout(function(){var t=T(!0);D.caret(t),r()},0)}),o&&s&&D.off("input.mask").on("input.mask",w),T()})}})}),define("text!app/components/contact/contactComponent.tmpl.html",[],function(){return'<div class="ui-front">\n\n    <!--Is a Business?-->\n    <div class="inline wide bottomMargin" data-bind="visible: isBusinessOptionApplicable">\n        <div class="inline">\n            <input type="radio"\n                   value=true\n                   data-bind="attr: {id: 1 + idSuffix(), name: 3 + idSuffix()},\n                              checked: contact().isBusiness"/>\n            <label data-bind="attr: {for: 1 + idSuffix()}">Business</label>\n        </div>\n\n        <div class="inline" style="min-width: 5px"></div>\n\n        <div class="inline">\n            <input type="radio"\n                   value=false\n                   data-bind="attr: {id: 2 + idSuffix(), name: 3 + idSuffix()},\n                              checked: contact().isBusiness"/>\n            <label data-bind="attr: {for: 2 + idSuffix()}">Individual</label>\n        </div>\n    </div>\n    <div class="clear"></div>\n\n    <!--Name-->\n    <div class="inline bottomMargin">\n\n        <!--Individual-->\n        <div class="inline bottomMargin" data-bind="if: contact().isBusiness() != \'true\'">\n            <div class="inline">\n                <!-- Auto complete -->\n                <input type="text"\n                       class="form-control wide input-sm"\n                       data-bind="autoComplete: contact,\n                                  value: contact().name,\n                                  attr: {\'placeholder\': placeholder}"/>\n            </div>\n        </div>\n\n        <!--Business-->\n        <div class="inline bottomMargin" data-bind="if: contact().isBusiness() == \'true\'">\n            <div class="inline">\n                <input type="text" class="form-control normal input-sm" placeholder="Business name"\n                       data-bind="value: contact().businessName"/>\n            </div>\n        </div>\n\n        <div class="inline">\n            <strong><a href="#" data-bind="click: onDetailsClick">...</a></strong>\n        </div>\n\n    </div>\n\n    <!-- **** Details form - allow editing **** -->\n    <div data-bind="visible: showDetails() && allowEdits()">\n\n        <!--Address-->\n        <div>\n            <div class="inline bottomMargin">\n                <input type="text" class="form-control wider input-sm" placeholder="Address"\n                       data-bind="value: contact().streetAddress"/>\n            </div>\n        </div>\n\n        <!--City/State/Zip-->\n        <div>\n            <div class="inline bottomMargin">\n                <input type="text" class="form-control normal input-sm" placeholder="City"\n                       data-bind="value: contact().city"/>\n            </div>\n            <div class="inline bottomMargin">\n                <select class="form-control narrow input-sm"\n                        data-bind="value: contact().state,\n                                   options: states,\n                                   optionsCaption: \'...\'">\n                </select>\n            </div>\n            <div class="inline bottomMargin">\n                <input type="text" class="form-control narrow input-sm" placeholder="Zip"\n                       data-bind="value: contact().zip"/>\n            </div>\n        </div>\n\n        <!--Phone-->\n        <div>\n            <div class="inline bottomMargin">\n                <div class="inline bottomMargin">\n                    <input type="tel" class="form-control normal input-sm" placeholder="Phone"\n                           data-bind="value: contact().phone"/>\n                </div>\n                <div class="inline narrow bottomMargin">\n                    <input class="form-control narrower input-sm" placeholder="Ext"\n                           data-bind="value: contact().ext"/>\n                </div>\n            </div>\n        </div>\n\n        <!--Cell-->\n        <div>\n            <div class="inline bottomMargin">\n                <input type="tel" class="form-control normal input-sm" placeholder="Cell"\n                       data-bind="value: contact().cell"/>\n            </div>\n        </div>\n\n        <!--Email-->\n        <div>\n            <div class="inline bottomMargin">\n                <input type="email" class="form-control wide input-sm" placeholder="Email"\n                       data-bind="value: contact().email"/>\n            </div>\n        </div>\n\n        <!--Notes-->\n        <div class="bottomMargin">\n            <textarea class="form-control" placeholder="Notes"\n                      data-bind="value: contact().notes"/>\n        </div>\n    </div>\n\n    <!-- **** Details view only **** -->\n    <div data-bind="visible: showDetails() && !allowEdits()">\n        <div data-bind="if: contact()">\n            <span data-bind="text: contact().streetAddress"></span><br>\n            <span data-bind="text: contact().city"></span>\n            <span data-bind="text: contact().zip"></span><br>\n            <a>\n                <span data-bind="text: contact().phone"></span>\n            </a>\n        </div>\n    </div>\n\n</div>';
}),define("app/components/contact/contactComponent",["knockout","maskedInput","text!app/components/contact/contactComponent.tmpl.html","model/contact"],function(t,e,i,n){"use strict";function o(e){if(console.log("Init Contact Widget"),!e.hasOwnProperty("contact"))throw"Expecting Contact obj as a param";if(!e.hasOwnProperty("isBusinessOptionApplicable"))throw"Expecting `isBusinessOptionApplicable` as a param";this.placeholder=t.observable(e.hasOwnProperty("placeholder")?e.placeholder:"Name"),this.showDetails=t.observable(e.hasOwnProperty("showDetails")?e.showDetails:!1),this.allowEdits=t.observable(e.hasOwnProperty("allowEdits")?e.allowEdits:!0),this.contact=e.contact,this.idSuffix=t.observable(e.idSuffix),this.states=t.observable(["NY","NJ","NH","CT","PA","AL","AK","AZ","AR","CA","CO","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NM","NC","ND","OH","OK","OR","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]),this.isBusinessOptionApplicable=t.observable(),this.setupBusinessTypeOption(e.isBusinessOptionApplicable),$().ready(function(){$("input[type=tel]").mask("999-999-9999")})}return o.prototype.setupBusinessTypeOption=function(t){t?this.isBusinessOptionApplicable(!0):(this.isBusinessOptionApplicable(!1),this.contact().isBusiness(!1))},o.prototype.onDetailsClick=function(){this.showDetails(!this.showDetails())},{viewModel:o,template:i}}),define("text!app/components/contact/addContactComponent.tmpl.html",[],function(){return'<!-- Contact from modal -->\n<div data-bind="if: readyToRender"\n     class="modal modal-lg fade"\n     id="addContactModal" tabindex="-1" role="dialog"\n     aria-labelledby="myModalLabel"\n     aria-hidden="true"\n     style="margin: auto; top:20%">\n\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                    &times;\n                </button>\n                <h4 class="modal-title" id="myModalLabel"\n                    data-bind="text: popupTitle"></h4>\n            </div>\n\n            <div class="modal-body">\n                <contact-component params="contact : contact,\n                                           idSuffix: \'newContact\',\n                                           isBusinessOptionApplicable: true,\n                                           showDetails: true"></contact-component>\n            </div>\n\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" data-bind="click: onSave">\n                    Save\n                </button>\n                <button type="button" class="btn btn-default" data-dismiss="modal">\n                    Cancel\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("app/components/contact/addContactComponent",["knockout","KOMap","text!app/components/contact/addContactComponent.tmpl.html","model/contact","app/utils/ajaxUtils","amplify","app/utils/events","app/components/contact/contactClient","app/utils/audit"],function(t,e,i,n,o,s,a,r,l){"use strict";function c(i){console.log("Init Add Contact Widget"),this.readyToRender=t.observable(!1);var o=new n;o.isBusiness=!1,this.contact=t.observable(e.fromJS(o)),this.popupTitle=t.observable(""),this.setupEvListeners()}return c.prototype.setupEvListeners=function(){s.subscribe(a.SHOW_CONTACT,this,this.onShowContact),s.subscribe(a.ADD_CONTACT,this,this.onAddContact)},c.prototype.onShowContact=function(t){console.log("AddContactComponentVM - SHOW_CONTACT ev "+JSON.stringify(t)),this.readyToRender(!0),this.popupTitle("Contact details"),this.loadContact(t.contactId),l.info("ViewContact",{_id:t.contactId})},c.prototype.onAddContact=function(){console.log("AddContactComponentVM - ADD_CONTACT ev "),this.readyToRender(!0),this.popupTitle("Add new contact"),this.addContact(),l.info("AddContact")},c.prototype.addContact=function(){console.log("Adding contact");for(var e in this.contact())t.isObservable(this.contact()[e])&&(console.log("Clearing contact attr: "+e),this.contact()[e](null));$("#addContactModal").modal("show")},c.prototype.onSave=function(){o.post("/contact",e.toJSON(this.contact()),function(t){console.log("Saved Contact: "+JSON.stringify(t)),this.contact()._id(t.data._id),s.publish(a.SUCCESS_NOTIFICATION,{msg:"Contact <b>"+t.data.name+"</b> saved"});var i=e.toJS(this.contact());r.updateInSession(i),s.publish(a.ADDED_CONTACT,i),$("#addContactModal").modal("hide")}.bind(this),function(t){console.log("Failure: "+JSON.stringify(t)),s.publish(a.FAILURE_NOTIFICATION,{msg:t.message})})},c.prototype.loadContact=function(t){o.getJSON("/contact/"+t).done(function(t){console.log("Loaded contact "+JSON.stringify(t.data)),this.contact(e.fromJS(t.data,{},new n)),$("#addContactModal").modal("show")}.bind(this)).fail(function(t){console.error("Failed to load contact "+JSON.stringify(t)),s.publish(a.FAILURE_NOTIFICATION,{msg:"<strong>Server Error</strong> Problem while accessing contact information. Please retry."})})},{viewModel:c,template:i}}),define("text!app/components/contact/contactWidget.tmpl.html",[],function(){return'<div class="container container-fluid">\n    <div class="panel panel-default">\n\n        <div class="panel-body">\n\n            <div class="row bottomMargin5">\n                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">\n                    <button type="button"\n                            class="btn btn-default btn-info"\n                            style="margin-bottom: 1px"\n                            data-bind="click: onAddContact">\n                        <span class="fa fa-plus"></span>\n                        New Contact\n                    </button>\n                    <div class="inline hidden-xs" data-bind="component: \'contact-sync-component\'"></div>\n                </div>\n                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">\n                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10 fake-search-box pull-right">\n                        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">\n                                <span class="glyphicon glyphicon-search"\n                                      style="font-size: initial; margin-top: 2px;"\n                                      aria-hidden="true"></span>\n                        </div>\n                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">\n                            <input class="form-control no-border"\n                                   style="position: relative; top: -5px"\n                                   id="contacts-search"\n                                   placeholder="Search" type="text"\n                                   data-bind="textInput: filterText">\n                        </div>\n                        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">\n                            <a href="#" data-bind="click: onClearFilterClick">\n                                <i class="fa fa-times-circle clearSearchIcon"></i></a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row hidden-xs">\n                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                    <table class="table table-responsive table-hover bottomMargin0">\n                        <thead>\n                        <tr>\n                            <th colspan="4"><i class="fa fa-user text-info"></i></th>\n                        </tr>\n                        </thead>\n                    </table>\n                </div>\n            </div>\n\n            <!-- Contacts listing -->\n            <div class="row">\n                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                    <div data-bind="style: {\'max-height\': panelContentHeight + \'px\', \'overflow-y\': \'auto\'}">\n\n                        <table class="table table-responsive table-hover">\n                            <tbody data-bind="foreach: { data: filteredContacts , as: \'contact\' }">\n                            <tr data-bind="click: $parent.onShowContact">\n                                <td><a data-bind="text: contact.name, click: $parent.onShowContact"></a></td>\n                                <td class="hidden-xs" nowrap><span data-bind="text: contact.phone"></span></td>\n                                <td class="hidden-xs" nowrap><span data-bind="text: contact.cell"></span></td>\n                                <td class="hidden-xs"><span data-bind="text: contact.email"></span></td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>'}),define("app/components/contact/contactWidgetVM",["knockout","underscore","text!app/components/contact/contactWidget.tmpl.html","app/utils/session","app/components/contact/contactClient","amplify","app/utils/events"],function(t,e,i,n,o,s,a){function r(){console.log("Init Contacts Widget"),this.contacts=t.observableArray([]),this.filteredContacts=t.observableArray([]),this.filterText=t.observable(),this.initFilter(),this.panelContentHeight=$(window).height()-(100+$(".navbar-brand").height()),0===n.getContacts().length?o.loadContactsAndStoreInSession().done(this.initContacts.bind(this)):this.initContacts(),s.subscribe(a.ADDED_CONTACT,this,this.onAddedContactEv)}return r.prototype.initFilter=function(){this.filterText.subscribe(function(t){this.filteredContacts($.grep(this.contacts(),function(e){return e.name.toUpperCase().indexOf(t.toUpperCase())>=0}))},this)},r.prototype.onClearFilterClick=function(){this.filterText("")},r.prototype.onAddedContactEv=function(t){this.initContacts()},r.prototype.onShowContact=function(t){s.publish(a.SHOW_CONTACT,{contactId:t._id})},r.prototype.onAddContact=function(t){s.publish(a.ADD_CONTACT)},r.prototype.initContacts=function(){this.contacts(e.sortBy(n.getContacts(),"name")),this.filteredContacts(e.sortBy(n.getContacts(),"name"))},{viewModel:r,template:i}}),define("shared/objectUtils",[],function(){"use strict";function nullsafe(expr,defaultVal){defaultVal=defaultVal||"";try{return eval(expr)||defaultVal}catch(e){return defaultVal}}function capitalize(t){return t=t||"",t=String(t),t.charAt(0).toUpperCase()+t.substr(1)}function defaultValue(t,e){return void 0==t||null==t?e:t}function isBlank(t){return!t||""===String(t).trim()}return{nullSafe:nullsafe,capitalize:capitalize,defaultValue:defaultValue,isBlank:isBlank}}),define("text!app/components/fileUpload/fileUploadComponent.tmpl.html",[],function(){return'<div class="fileDropBox"\n     data-bind="event: {\'dragenter\': dragenter,\n                        \'dragover\': dragover,\n                        \'drop\': drop}">\n\n    Drag n drop files here or\n    <label class="btn btn-info btn-md">\n        <input type="file" class="topMargin leftMargin" multiple\n               id="fileUpload-input"\n               data-bind="event: {\'change\': handleFilesSelection}">\n        Choose file ...\n    </label>\n\n    <div style="position: relative; left: 40%"\n         class="txt-color-red"\n         data-bind="visible: showUploadingSpinner">\n        <i class="fa fa-spinner fa-spin"></i> Uploading ...\n    </div>\n\n    <!-- List attachments -->\n    <ol class="topMargin5" data-bind="foreach: {data: claimEntry().attachments, as: \'file\'}">\n        <li>\n            <span class="leftMargin">\n                <a data-bind="attr: {href: \'/download?id=\' + file.id()}">\n                    <span data-bind="text: file.name"></span></a>\n            </span>\n            <span data-bind="text: Math.round(file.size()/1024, 2) + \'K\'" style="padding-left: 5px"></span>\n            <span data-bind="click: $parent.onRemoveClick.bind($parent)" style="padding-left: 5px">\n                <i class="fa fa-times-circle clearSearchIcon"></i>\n            </span>\n        </li>\n    </ol>\n</div>'}),define("app/components/fileUpload/fileUploadComponent",["knockout","KOMap","jquery","underscore","bootbox","amplify","app/utils/events","shared/objectUtils","text!app/components/fileUpload/fileUploadComponent.tmpl.html"],function(t,e,i,n,o,s,a,r,l){"use strict";function c(e){console.log("Init File upload Widget"),console.assert(e.claimEntry,"Expecting claimEntry param"),this.claimEntry=e.claimEntry,this.showUploadingSpinner=t.observable(!1)}return c.prototype.dragenter=function(t,e){e.stopPropagation(),e.preventDefault()},c.prototype.dragover=function(t,e){e.stopPropagation(),e.preventDefault()},c.prototype.drop=function(t,e){e.stopPropagation(),e.preventDefault(),this.handleFilesDrop(e)},c.prototype.handleFilesSelection=function(t){console.log("Handle files selection");var e=document.getElementById("fileUpload-input").files;this._upload(e)},c.prototype.handleFilesDrop=function(t){var e=t.originalEvent.dataTransfer||t.currentTarget,i=e.files;this._upload(i)},c.prototype._upload=function(t){try{console.log("Uploading "+t);var n=this;if(!t.length)return void console.log("No files selected");for(var o=0;o<t.length;o++)this.showUploadingSpinner(!0),this.uploadFile(t[o]).done(function(t){var o=JSON.parse(t);console.log(o),n.claimEntry().attachments.push(e.fromJS(o)),n.showUploadingSpinner(!1),setTimeout(function(){i("#fileUpload-input").val("")},500)}).fail(function(t){s.publish(a.FAILURE_NOTIFICATION,{msg:"<strong>Error </strong> while uploading files. Please retry.<br>Techinal details: "+t})})}catch(r){s.publish(a.FAILURE_NOTIFICATION,{msg:"<strong>Error</strong> while processing your request. Please retry.<br>Techinal details: "+r})}},c.prototype.createThumbnail=function(t){var e=i('<div class="inline"></div>'),n=i("<img>");return n.attr("src",window.URL.createObjectURL(t)),n.attr("height",30),n.bind("onload",function(t){window.URL.revokeObjectURL(this.src)}),e.append(n),e},c.prototype.uploadFile=function(t){var e="/upload",n=new XMLHttpRequest,o=new FormData;n.open("POST",e,!0);var s=i.Deferred();return n.onreadystatechange=function(){4===n.readyState&&200===n.status?s.resolve(n.responseText):500===n.status&&s.reject("Error "+n.responseText)},o.append("uploadedFile",t),o.append("fileName",this.enrichedFileName(t)),n.send(o),s},c.prototype.enrichedFileName=function(t){var e=r.nullSafe.bind(this,"this.claimEntry().fileNum()","")();return r.isBlank(e)||"-"==e||-1!=t.name.indexOf(e)?t.name:e+"-"+t.name},c.prototype.onRemoveClick=function(t){function e(){var e=s.claimEntry().attachments(),i=n.filter(e,function(e){return e.id()!=t.id()});s.claimEntry().attachments(i)}o.dialog({size:"medium",backdrop:"true",title:"Confirm",message:"Delete attachment <br/><br/><i>"+t.name()+"</i> ?",buttons:{yes:{label:"Yes, delete",className:"btn-danger",callback:e},no:{label:"No",className:"btn-info",callback:i.noop}}});var s=this},{viewModel:c,template:l}}),define("text!app/components/summary/summary.tmpl.html",[],function(){return'<div class="panel">\n\n    <div class="summary panel-heading">\n        <div class="row">\n            <form class="form-inline">\n                <div class="col-xs-12 col-md-12 col-lg-12">\n                    <div class="form-group">\n                        <button type="button"\n                                class="btn btn-default btn-info"\n                                data-bind="click: onNewTask">\n                            <span class="fa fa-plus"></span>\n                            New Task\n                        </button>\n                    </div>\n\n                    <!-- Due date group filter -->\n                    <div class="form-group dropdown-container paddingRight5">\n                        <label class="leftMargin5 topMargin5 text-between-dropdown">Due </label>\n                        <select class="input dropdown"\n                                data-bind="value: dueDateFilter,\n                                           options: dueDateFilters,\n                                           optionsText: \'description\'"></select>\n\n                        <div data-bind="if: showDueDateDaysFilter" style="display: inline;">\n                            <!-- Due date - day group filter -->\n                            <label class="leftMargin5 text-between-dropdown">days</label>\n                            <input class="input dropdown"\n                                   style="width: 50px"\n                                   type="number" min="0"\n                                   data-bind="value: dueDateDaysFilterValue">\n                        </div>\n                    </div>\n\n                    <!-- Status filter -->\n                    <div class="form-group dropdown-container">\n                        <label class="leftMargin5 text-between-dropdown topMargin5">Status</label>\n                        <select class="input dropdown"\n                                data-bind="value: statusFilter,\n                                                       options: statusFilters,\n                                                       optionsText: \'description\'"></select>\n\n                        <!-- Group selection -->\n                        <label class="leftMargin5 topMargin5 text-between-dropdown">Sort by</label>\n                        <select class="input dropdown"\n                                data-bind="value: groupBy,\n                                                       options: groupByOptions,\n                                                       optionsText: \'description\'"></select>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <div class="panel-body">\n        <div>\n            <table class="table table-hover summaryTable" id="summaryTable">\n                <thead class="hidden-xs" id="summaryTableHeader">\n                    <th>&nbsp;</th>\n                    <th>File num.</th>\n                    <th>Insured</th>\n                    <th id="summaryTableHeader3">Claimant</th>\n                    <th>Task</th>\n                    <th>Due Date</th>\n                    <th>Status</th>\n                </thead>\n\n                <tbody data-bind="foreach : {data: arrangeByKeys, as: \'groupKey\'}"\n                       class="summaryGroupTableBody"\n                       id="summaryTableBody">\n\n                <!-- Header row -->\n                <tr class="summaryGroupHeaderRow">\n                    <td colspan="7" data-bind="click: $parent.onSummaryHeaderClick">\n                        <span data-bind="css: \'fa fa-caret-down summaryRow\' + groupKey.replace(\' \', \'\') + \'Arrow\'"\n                              style="font-size: 1.4em; padding-right: 3px"></span>\n                        <span class="summaryGroupHeader"\n                              data-bind="text: $parent.groupBy().description"></span>\n                        <span class="paddingRight5"></span>\n                        <span class="summaryGroupSubHeader"\n                              data-bind="text: $parent.groupBy().groupDisplayNameFn(groupKey),\n                                         css: {\'summaryGroupSubHeaderOverDue\': groupKey == 0}"></span>\n                        <span class="summaryGroupSubHeader"\n                              data-bind="text: \'(\' + ($parent.claimEntriesGrouped()[groupKey].length) + \')\'"></span>\n                    </td>\n                </tr>\n\n                <!-- ko foreach: {data: $parent.claimEntriesGrouped()[groupKey], afterRender: $parent.onAfterRender} -->\n                <tr draggable="true" class="summaryRow"\n                    data-bind="event: {dragstart: $parents[1].onSummaryRowDragStart.bind($parents[1]),\n                                       dragend  : $parents[1].onSummaryRowDragEnd.bind($parents[1]),\n                                       dragenter: $parents[1].onSummaryRowDragEnter.bind($parents[1]),\n                                       dragover:  $parents[1].onSummaryRowDragOver.bind($parents[1]),\n                                       dragleave: $parents[1].onSummaryRowDragLeave.bind($parents[1])},\n\n                                       css: \'summaryRow\' + groupKey.replace(\' \', \'\'),\n                                       attr: {\'data-entryId\': $data._id,\n                                              \'data-group\': groupKey,\n                                              \'data-displayOrder\': $data.displayOrder},\n                                       click: $parents[1].onClaimEntrySelect">\n\n                    <!-- XS view -->\n                    <td nowrap style="vertical-align: middle" class="visible-xs">\n                        <status-editor-component params="\'statusValue\': $data.state,\n                                                         \'entryId\': $data._id"></status-editor-component></td>\n                    <td class="visible-xs">\n                        <span class="rightMargin">\n                            <i data-bind="taskEntryTag: $data.tag"></i>\n                        </span>\n                        <span class="taskTitle" data-bind="text: $data.fileNum"></span>\n                        <br/>\n                        <span data-bind="textTruncate: $data.summary, maxLength: 100"></span>\n                        <br/>\n                        <span class="taskSecondaryText"\n                              data-bind="textTruncate: $data.insuredContact.name || \'-\', maxLength: 50"></span>\n                        <span class="taskSecondaryText"> / </span>\n                        <span class="taskSecondaryText"\n                              data-bind="textTruncate: $data.claimantContact.name || \'-\', maxLength: 50"></span>\n                        <br/>\n                    </td>\n                    <!-- End - XS view -->\n\n                    <td class="summaryGroupDrag hidden-xs" title="Click and Drag to reorder">\n                        <div class="inline" style="width: 15px">\n                            <div class="inline"><span class="fa fa-ellipsis-v"></span></div>\n                            <div class="inline"><span class="fa fa-ellipsis-v"></span></div>\n                        </div>\n                    </td>\n                    <td class="hidden-xs">\n                        <span class="rightMargin">\n                            <i data-bind="taskEntryTag: $data.tag"></i>\n                        </span>\n                        <span data-bind="text: $data.fileNum"></span>\n                    </td>\n                    <td class="hidden-xs">\n                        <span data-bind="textTruncate: $data.insuredContact.name || \'-\', maxLength: 10"></span>\n                    </td>\n                    <td class="hidden-xs">\n                        <span data-bind="textTruncate: $data.claimantContact.name || \'-\', maxLength: 10"></span>\n                    </td>\n                    <td class="hidden-xs">\n                        <span data-bind="textTruncate: $data.summary, maxLength: 20"></span>\n                    </td>\n                    <td class="summaryGroupCell hidden-xs" nowrap="">\n                        <span data-bind="text: $parents[1].DateUtils.niceDate($data.dueDate ? $data.dueDate() : \'\')"></span>\n                        <!--<span class="fa fa-pencil"></span>-->\n                        <span></span>\n                    </td>\n                    <td class="summaryGroupCell hidden-xs">\n                        <status-editor-component params="\'statusValue\': $data.state,\n                                                                     \'entryId\': $data._id"></status-editor-component>\n                    </td>\n                </tr>\n                <!-- /ko -->\n                </tbody>\n            </table>\n        </div>\n\n    </div>\n    <!-- End panel body -->\n\n</div><!-- End panel -->\n\n\n<div data-bind="template: {afterRender: componentLoaded()}"></div>\n'}),define("app/components/summary/summaryVM",["jquery","knockout","underscore","KOMap","amplify","model/claim","model/claimEntry","model/states","app/utils/events","app/utils/router","shared/dateUtils","app/utils/ajaxUtils","app/utils/sessionKeys","text!app/components/summary/summary.tmpl.html"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p){"use strict";function f(){console.log("Init SummaryVM"),this.DateUtils=u,this.claimEntries=e.observableArray([]),this.tagFilter={$nin:["dummyClauseToIncludeAllTags"]},this.setupFiltering(),this.setupDragDrop(),this.setupClaimEntryListener(),this.searchClaimEntries(),o.subscribe(l.SELECTED_CLAIM,this,this.onNewTaskClaimSelection)}return f.prototype.setupFiltering=function(){this.setupGroupingOptions(),this.groupBy=e.observable(this.groupByOptions()[0]),this.setupDueDateFilters(),this.setupStatusFilters(),this.setupFilterVisibility(),this.setupGroupByListener(),this.setupGrouping()},f.prototype.setupDragDrop=function(){this.summaryDropTargetEntryId=e.observable(),this.summaryDropSourceEntryId=e.observable(),this.summaryDropSourceGroup=e.observable(),this.summaryDropTargetGroup=e.observable(),this.summaryDropSourceDOMElement=void 0,this.summaryDropTargetDOMElement=void 0},f.prototype.componentLoaded=function(){},f.prototype.setupGroupingOptions=function(){this.groupByOptions=e.observableArray([{description:"Date Due",group:"dueDate",groupingFn:this.getDueDateGroupName,groupDisplayNameFn:this.getDueDateGroupDisplayName},{description:"Task Status",group:"state",groupingFn:this.getStatusGroupName,groupDisplayNameFn:this.getStatusGroupDisplayName}])},f.prototype.setupGrouping=function(){this.claimEntriesGrouped=e.computed(function(){var e=this.groupBy(),i=e.group,n=e.groupingFn,o={};return t.each(this.claimEntries(),function(t,e){var s=e[i]?e[i]():"",a=n(s,e);a in o||(o[a]=[]),o[a].push(e)}.bind(this)),console.log(o),o},this),this.arrangeByKeys=e.computed(function(){var e=this.groupBy(),i=(e.groupDisplayNameFn,[]);return t.each(this.claimEntriesGrouped(),function(t){i.push(t)}),console.log(i),i.sort()},this)},f.prototype.getDueDateGroupDisplayName=function(t){return 0==Number(t)?"Over Due":u.niceDate(new Date(Number(t)),!1)},f.prototype.getDueDateGroupName=function(t,e){return t instanceof Date&&(!u.isYesterdayOrBefore(t)||e.state()!==r.TODO&&e.state()!==r.PENDING)?u.stripTime(t).getTime():0},f.prototype.getStatusGroupDisplayName=function(t){return t},f.prototype.getStatusGroupName=function(e){return t.trim(String(e||""))},f.prototype.setupDueDateFilters=function(){this.dueDateDaysFilterValue=e.observable(3),this.dueDateFilters=e.observableArray([{description:"today",query:{$gte:u.startOfToday().getTime(),$lte:u.endOfToday().getTime()}},{description:"this week",query:{$gte:u.startOfWeekInMillis(),$lte:u.endOfWeekInMillis()}},{description:"within next",query:{$gte:u.startOfToday().getTime(),$lte:u.daysFromNowInMillis(this.dueDateDaysFilterValue())}}]),this.dueDateFilter=e.observable(this.dueDateFilters()[2])},f.prototype.setupStatusFilters=function(){this.statusFilters=e.observableArray([{description:"Any",query:{$in:[r.TODO,r.Pending,r.Complete,r.None]}},{description:r.TODO,query:r.TODO},{description:r.Pending,query:r.Pending},{description:r.Complete,query:r.Complete},{description:r.None,query:r.None}]),this.statusFilter=e.observable(this.statusFilters()[1])},f.prototype.setupFilterVisibility=function(){this.showDueDateDaysFilter=e.computed(function(){return"within next"===this.dueDateFilter().description},this)},f.prototype.onNewTask=function(t){o.publish(l.SELECT_CLAIM,{title:"Select Claim to add the new task to",requestSource:"SummaryVM"})},f.prototype.onNewTaskClaimSelection=function(t){"SummaryVM"==t.requestSource&&(o.publish(l.SHOW_CLAIM,{claimId:t.claim.claimId}),setTimeout(c.routeToNewClaimEntry,100))},f.prototype.onClaimEntrySelect=function(t){c.routeToClaimEntry(t.claimId(),t._id())},f.prototype.setupGroupByListener=function(){this.groupBy.subscribe(function(t){console.log("Summary group changed "+JSON.stringify(t)),this.searchClaimEntries()},this),this.dueDateFilter.subscribe(function(t){console.log("Due date changed "+JSON.stringify(t)),this.searchClaimEntries()},this),this.statusFilter.subscribe(function(t){console.log("Status changed "+JSON.stringify(t)),this.searchClaimEntries()},this),this.dueDateDaysFilterValue.subscribe(function(t){console.log("Due date changed "+JSON.stringify(t)),this.dueDateFilter().query={$gte:u.startOfToday().getTime(),$lte:u.daysFromNowInMillis(t)},this.searchClaimEntries()},this)},f.prototype.setupClaimEntryListener=function(){o.subscribe(l.SAVED_CLAIM,this,this.searchClaimEntries),o.subscribe(l.SAVED_CLAIM_ENTRY,this,this.searchClaimEntries),o.subscribe(l.UPDATE_CLAIM_ENTRY_STATUS,this,this.searchClaimEntries)},f.prototype.searchClaimEntries=function(){var e={query:{isClosed:!1,tag:this.tagFilter,$or:[{$and:[{dueDate:this.dueDateFilter().query},{state:this.statusFilter().query}]},{$and:[{dueDate:{$lte:u.startOfToday().getTime()}},{$or:[{state:{$eq:r.TODO}},{state:{$eq:r.Pending}}]}]}]},options:{sort:[["displayOrder","asc"]]}};console.log("Searching for claim entries: "+JSON.stringify(e)),h.post("/claimEntry/search",JSON.stringify(e),function(e){console.log(JSON.prettyPrint(e.data));var i=t.map(e.data,function(t){return n.fromJS(t,{},new a)});this.claimEntries(i)}.bind(this))},f.prototype.onAfterRender=function(){var e=o.store.sessionStorage("SUMMARY_GROUPS_VISIBILITY")||{};i.mapObject(e,function(e,i){e?(t(i).fadeOut(1),t(i+"Arrow").addClass("rotate90")):t(i).fadeIn(1)})},f.prototype.onSummaryHeaderClick=function(e,i){var n=".summaryRow"+e.replace(" ",""),s=t(i.currentTarget.childNodes[1]);t(n).fadeToggle(500),s.toggleClass("rotate90");var a=o.store.sessionStorage("SUMMARY_GROUPS_VISIBILITY")||{};a[n]=s.hasClass("rotate90"),o.store.sessionStorage("SUMMARY_GROUPS_VISIBILITY",a)},f.prototype.onSummaryRowDragOver=function(t,e){},f.prototype.onSummaryRowDragStart=function(t,e){return this.summaryDropSourceEntryId(e.currentTarget.dataset.entryid),this.summaryDropSourceGroup(e.currentTarget.dataset.group),this.summaryDropSourceDOMElement=e.currentTarget,console.log("Drag start: "+this.summaryDropSourceEntryId()+" ,"+this.summaryDropSourceGroup()),!0},f.prototype.onSummaryRowDragEnter=function(e,i){console.log("Drag enter. Entry Id: "+i.currentTarget.dataset.entryid),this.summaryDropTargetEntryId(i.currentTarget.dataset.entryid),this.summaryDropTargetGroup(i.currentTarget.dataset.group),this.summaryDropTargetDOMElement=i.currentTarget,t(i.currentTarget).addClass("summaryRowDragOver")},f.prototype.onSummaryRowDragLeave=function(e,i){t(i.currentTarget).removeClass("summaryRowDragOver")},f.prototype.onSummaryRowDragEnd=function(e,i){console.log("Drag end, Source: "+JSON.stringify(n.toJS(e)));var o=t(this.summaryDropSourceDOMElement).fadeOut("slow").detach();t(this.summaryDropTargetDOMElement).after(o),o.fadeIn("slow"),t(".summaryRow").removeClass("summaryRowDragOver"),this.updateSrcDimensionWithDropTargetValue()},f.prototype.updateSrcDimensionWithDropTargetValue=function(){var e=t.grep(this.claimEntries(),function(t){return t._id()===this.summaryDropTargetEntryId()}.bind(this))[0],i=t.grep(this.claimEntries(),function(t){return t._id()===this.summaryDropSourceEntryId()}.bind(this))[0],n=i._id(),s=this.groupBy().group,a=e[s]?e[s]():void 0,r=i.displayOrder(),c=e.displayOrder(),u=t(this.summaryDropSourceDOMElement).next()[0],d=u?u.dataset.displayorder:c+100;if(console.log("summaryDropSourceGroup: "+this.summaryDropSourceGroup()),console.log("summaryDropTargetGroup: "+this.summaryDropTargetGroup()),console.log("sourceEntryDisplayOrder: "+r),console.log("targetEntryDisplayOrder: "+c),console.log("targetPlus1EntryDisplayOrder: "+d),this.summaryDropTargetGroup()===this.summaryDropSourceGroup()){console.log("Drop within same group. Update display order");var p="Re-ordered",f={},m=Number;
f.displayOrder=(m(c)+m(d))/2}else{var g=this.groupBy().description,p="Updated "+g+" to "+this.DateUtils.niceDate(a),f={};f[s]=a}console.log("Updating: "+JSON.stringify(f)),h.post("/claimEntry/modify",JSON.stringify({_id:n,attrsAsJson:f}),function(t){console.log("Saved ClaimEntry: "+JSON.stringify(t)),o.publish(l.SUCCESS_NOTIFICATION,{msg:p}),this.searchClaimEntries()}.bind(this))},{viewModel:f,template:p}}),define("text!app/components/claimsList/claimsList.tmpl.html",[],function(){return'<div class="panel panel-default">\n    <div id="claims-list-toolbar">\n        <button type="button"\n                id="claims-list-new-claim"\n                class="btn btn-default btn-info"\n                style="padding-top: 4px; top: -3px; position: relative;"\n                data-bind="click: router.routeToNewClaim">\n            <span class="fa fa-plus" style="font-size: .8em"></span>\n            New Claim\n        </button>\n        <div class="inline dropdown-container" style="padding-right: 10px; padding-left: 10px;">\n            <div class="inline text-between-dropdown">Status</div>\n            <div class="inline">\n                <select class="form-control input dropdown"\n                        data-bind="value: groupBy, options: groupByOptions"></select></div>\n        </div>\n    </div>\n\n    <!-- Claims --->\n    <div data-bind=\'template: { name: "claimsListTemplate",\n                                afterRender: onclaimsListTmplRender.bind($data) }\'></div>\n\n    <span id="claimListTableFooter">.</span>\n</div>\n\n\n<script type="text/html" id="claimsListTemplate">\n    <div class="panel-body" style="padding-top: 0">\n\n        <table id="claimListTable"\n               data-classes="table table-hover"\n               data-search="true"\n               data-sort-name="date1"\n               data-sort-order="desc"\n               data-maintain-selected="true"\n               data-export-types="[\'excel\']"\n               data-bind=\'event: {"click-row.bs.table": onClaimSelect}\'\n               data-toolbar="#claims-list-toolbar"\n               data-buttons-align="left">\n\n            <thead>\n            <th data-field="fileNo" data-sortable="true" data-visible="true">File No.</th>\n            <th data-field="insured" data-sortable="true" data-sort-name="insuredSort">Insured</th>\n            <th data-field="claimant" data-sortable="true" data-sort-name="claimantSort">Claimant</th>\n            <th data-field="desc" data-sortable="true">Description</th>\n            <th data-field="dateDue" data-sortable="true" data-sort-name="dueTime">Due</th>\n            <th data-field="insuranceCo" data-sortable="true" data-visible="true">Insurance Co.</th>\n            <!-- See client/lib/bootstrap.table.customization.js for CSS override -->\n            <th data-field="ageText" data-sort-name="age" data-sortable="true">Age</th>\n            <th data-field="claimId" data-sortable="true" data-visible="false">Id</th>\n            </thead>\n\n            <!-- Rows appended by Bootstrap table in VM -->\n        </table>\n    </div>\n</script>'}),define("app/components/claimsList/claimsListVM",["jquery","knockout","KOMap","amplify","underscore","model/claim","model/claimEntry","app/utils/events","app/utils/router","shared/dateUtils","app/utils/ajaxUtils","shared/objectUtils","app/utils/responsive","text!app/components/claimsList/claimsList.tmpl.html"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p){"use strict";function f(){console.log("Init ClaimsListVM"),this.Responsive=d,this.init()}return f.prototype.init=function(){this.groupBy=e.observable(),this.groupBy.subscribe(function(){this.loadClaims()},this),this.groupBy("Open"),this.groupByOptions=e.observableArray(["Open","Closed"]),this.claims=e.observableArray([]),this.claims.subscribe(function(e){t("#claimListTable").bootstrapTable("load",e),t("#claimListTable").bootstrapTable("hideLoading")}),this.DateUtils=c,this.router=l,this.init=!1,n.subscribe(r.SAVED_CLAIM,this,this.loadClaims)},f.prototype.onClaimSelect=function(t,e,i){l.routeToClaim(i.claimId)},f.prototype.loadClaims=function(){var e=this,i="Open"===e.groupBy()?{query:{isClosed:!1}}:{query:{isClosed:!0}};u.post("/claim/search",JSON.stringify(i),function(i){var n=i.data;console.log("Loaded Claims "+JSON.stringify(n).substring(1,25)+"...");var s=[];t.each(n,function(t,e){var i=e.description||"",n=e.insuranceCompanyName||"",n=n.length>40?n.substr(0,40)+"...":n,a=e.insuranceCompanyFileNum||"",r=Math.floor(((new Date).getTime()-e.dateReceived)/864e5),l=r+" days",u=h.nullSafe.bind(e,"this.claimantContact.name","None")(),d=Number(h.nullSafe.bind(e,"this.claimantContact._id","")()),p=o.isNumber(d)&&d>0?"<a onclick=\"var event = arguments[0] || window.event; event.stopPropagation(); amplify.publish('SHOW_CONTACT', {contactId:"+d+'});">'+u+"</a>":u,f=h.nullSafe.bind(e,"this.insuredContact.name","None")(),m=Number(h.nullSafe.bind(e,"this.insuredContact._id","")()),g=o.isNumber(m)&&m>0?"<a onclick=\"var event = arguments[0] || window.event; event.stopPropagation(); amplify.publish('SHOW_CONTACT', {contactId:"+m+'});">'+f+"</a>":f,v="<span>"+a+"</span><span class='secondary'>"+n+"</span>";s.push({claimId:e._id,fileNo:e.fileNum,desc:i.length>40?i.substr(0,40)+"...":i,insuranceCo:v,dateDue:c.niceDate(e.dateDue,!1),dueTime:e.dateDue.getTime(),claimant:p,claimantSort:u,insured:g,insuredSort:f,ageText:l,age:r})}),e.claims(s)},function(){n.publish(r.FAILURE_NOTIFICATION,{msg:"Error while refreshing Claims"}),defer.reject()})},f.prototype.onclaimsListTmplRender=function(){var e=this;e.panelContentHeight=t(window).height(),t("#claimListTable").bootstrapTable({height:e.panelContentHeight,cardView:e.Responsive.onXSDevice(),showExport:!e.Responsive.onXSDevice()}),t("#claimListTable").bootstrapTable("showLoading")},{viewModel:f,template:p}}),define("text!app/components/notifier/notifier.tmpl.html",[],function(){return'<div role="alert"\n     class="alert-fixed-top"\n     data-bind="visible: isVisible, css: bootstrapCSS"\n     id="notifier-container">\n\n    <button type="button" class="close" data-bind="click: onDismiss">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n\n    <span data-bind="html: msg"></span>\n\n</div>'}),define("app/components/notifier/notifierVM",["knockout","amplify","app/utils/events","text!app/components/notifier/notifier.tmpl.html"],function(t,e,i,n){function o(){console.log("Init Notifier"),this.isVisible=t.observable(!1),this.msg=t.observable(""),this.bootstrapCSS=t.observable(""),this.setupEventListeners()}return o.prototype.onDismiss=function(){this.msg(""),this.isVisible(!1),$("#notifier-container").hide(),$("#notifier-container").velocity("stop")},o.prototype.setupEventListeners=function(){function t(t){this.bootstrapCSS("alert alert-success alert-dismissible"),this.display(t.msg)}function n(t){this.bootstrapCSS("alert alert-danger alert-dismissible"),this.display(t.msg)}function o(t){this.bootstrapCSS("alert alert-info alert-dismissible"),this.display(t.msg)}e.subscribe(i.SUCCESS_NOTIFICATION,this,t),e.subscribe(i.FAILURE_NOTIFICATION,this,n),e.subscribe(i.INFO_NOTIFICATION,this,o)},o.prototype.display=function(t){this.msg(t),this.isVisible(!0);var e=$("#notifier-container");e.velocity("slideDown",{duration:300}),e.velocity("slideUp",{delay:5e3,duration:300})},{viewModel:o,template:n}}),define("text!app/components/maps/mapsComponent.tmpl.html",[],function(){return'<div id="maps">\n\n    <input id="pac-input" class="form-control bottomMargin" type="text"\n           style="width: 80%;"\n           placeholder="Start typing business name or address"\n           data-bind="disable: claimEntryObserv().isClosed(),\n                      value: claimEntryObserv().location() && claimEntryObserv().location().formatted_address\n                                ? claimEntryObserv().location().formatted_address\n                                : \'\'">\n\n    <a id="map-new-tab"\n       style="cursor:pointer;"\n       class="leftMargin5"\n       data-bind="click: onShowMap">\n        <i class="fa fa-map"></i> Show map</a>\n\n    <div id="dialog-message" title="Map">\n        <div class="hr hr-12 hr-double"></div>\n        <div id="map-canvas" class="maps" style="width: 100%; height: 100%"></div>\n    </div>\n</div>'}),define("async",[],function(){function t(t){var e,i;e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src=t,i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(e,i)}function e(t,e){var i=/!(.+)/,o=t.replace(i,""),s=i.test(t)?t.replace(/.+!/,""):n;return o+=o.indexOf("?")<0?"?":"&",o+s+"="+e}function i(){return o+=1,"__async_req_"+o+"__"}var n="callback",o=0;return{load:function(n,o,s,a){if(a.isBuild)s(null);else{var r=i();window[r]=s,t(e(o.toUrl(n),r))}}}}),define("app/components/maps/mapsComponent",["knockout","KOMap","app/utils/audit","text!app/components/maps/mapsComponent.tmpl.html","async!https://maps.googleapis.com/maps/api/js?key=AIzaSyBB-Qincf0sNQcsu5PzZh7znG3GiB98GRU&libraries=places&signed_in=true&v=3.exp"],function(t,e,i,n){"use strict";function o(e){console.assert(e.claimEntry,"Expecting claimEntry param"),this.claimEntryObserv=e.claimEntry,this.displayLocation=t.observable(),this.mapOptions={zoom:9,panControl:!0,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,overviewMapControl:!0},this.markers=[];var i=document.getElementById("pac-input"),n={componentRestrictions:{country:"us"}};this.autocomplete=new google.maps.places.Autocomplete(i,n),this.setupAutocompleteChangeListener(),this.geolocate();$("#dialog-message").dialog({autoOpen:!1,modal:!0,title:"",width:.8*$(window).width(),height:.8*$(window).height(),buttons:[{html:"Close","class":"btn btn-default",click:function(){$(this).dialog("close")}}]})}return console.log("Maps Widget"),o.prototype.onShowMap=function(t,e){return $("#dialog-message").dialog("open"),t.dropMarkeAndRepositionMap(),!1},o.prototype.setupAutocompleteChangeListener=function(){var t=this;google.maps.event.addListener(this.autocomplete,"place_changed",function(){t.autocompletePlacePopulated=!0,t.claimEntryObserv().location({formatted_address:t.autocomplete.getPlace().formatted_address,name:t.autocomplete.getPlace().name,geometry:{location:{lat:t.autocomplete.getPlace().geometry.location.lat(),lng:t.autocomplete.getPlace().geometry.location.lng()}}}),i.info("AddedLocationToTask",{_id:t.claimEntryObserv()._id(),loca:t.claimEntryObserv().location()})}),t.claimEntryObserv.subscribe(function(){t.autocompletePlacePopulated=!1})},o.prototype.dropMarkeAndRepositionMap=function(){console.log("Mas autocomplete > Place changed ev");var t=this;if(t.mapDiv=document.getElementById("map-canvas"),t.map=new google.maps.Map(t.mapDiv,t.mapOptions),t.autocompletePlacePopulated)var i=t.autocomplete.getPlace();else var i=e.toJS(t.claimEntryObserv().location);i&&i.geometry&&(i.geometry.viewport?t.map.fitBounds(i.geometry.viewport):t.map.setZoom(15),t.map.setCenter(i.geometry.location),t.markers.push(t.createMarker(i)))},o.prototype.createMarker=function(t){console.log("Mas autocomplete > Creating markers");var e=new google.maps.Marker({map:this.map,title:t.name||t.address_components[0].long_name,place:{location:t.geometry.location,query:t.name||t.address_components[0].long_name},attribution:{source:"Agent 007"}}),i=new google.maps.InfoWindow({content:t.name});return e.addListener("click",function(){i.open(this.map,e)}),e},o.prototype.setAllMarkersOnMap=function(){console.log("Mas autocomplete > Seting all markers");var t=this;$.each(this.markers,function(e,i){i.setMap(t.map)})},o.prototype.geolocate=function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var i=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),n=new google.maps.Circle({center:i,radius:e.coords.accuracy});t.autocomplete.setBounds(n.getBounds())})},o.prototype.showMultiLocations=function(t,e,i,n){for(var o=0;o<t.length;o++)e.geocode({address:t[o]},function(t,e){e==google.maps.GeocoderStatus.OK?(console.log(t[0]),self.createMarker(t[0],i,n)):console.log("geocoder error: "+e)})},o.prototype.routePlanner=function(t,e,i,n,o){void 0==i&&(i=[]),n.route({origin:t,waypoints:i,destination:e,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},function(t,e){console.log(e),o.setDirections(t)})},{viewModel:o,template:n}}),define("text!app/components/maps/travelComponent.tmpl.html",[],function(){return'<div class="panel panel-default">\n    <div class="panel-body">\n\n        <!-- **** Buttons row **** -->\n        <div class="row">\n\n            <div class="col-xs-11 col-sm-6 col-md-6 col-lg-6">\n                <div class="pull-left">\n                    <!-- Form -->\n                    <form class="form-inline bottomMargin5 inline" role="form">\n\n                        <!-- Due date group filter -->\n                        <div class="form-group dropdown-container paddingRight5">\n                            <span class="leftMargin5 text-between-dropdown topMargin5">Travel</span>\n                            <select class="input dropdown"\n                                    data-bind="value: dueDateFilter,\n                                                     options: dueDateFilters,\n                                                     optionsText: \'description\'"></select>\n\n                            <!-- Due date - day group filter -->\n                            <div data-bind="if: showDueDateDaysFilter" style="display: inline;">\n                                <!-- Due date - day group filter -->\n                                <label class="leftMargin5 text-between-dropdown">days</label>\n                                <input class="input dropdown"\n                                       style="width: 50px"\n                                       type="number" min="0"\n                                       data-bind="value: dueDateDaysFilterValue">\n                            </div>\n                        </div>\n                    </form>\n\n                    <!-- Slide handle -->\n                    <div id="map-nav-handle" class="inline">\n                        <button type="button" class="btn btn-default ghost-button"\n                                data-bind="click: collapseNav">\n                            <span class="fa fa-navicon"></span>\n                            <span data-bind="if: navCollapsed" class="hidden-xs">Show list</span>\n                            <span data-bind="ifnot: navCollapsed" class="hidden-xs">Hide list</span>\n                        </button>\n                    </div>\n                </div>\n                <!-- End of form -->\n            </div>\n\n            <div class="col-xs-1 col-sm-6 col-md-6 col-lg-6">\n                <!-- Print/Directions -->\n                <div id="travel-toolbar" class="pull-right">\n                    <button type="button" class="btn btn-default ghost-button hidden-xs"\n                            data-bind="click: onPrint">\n                        <span class="fa fa-print"></span>\n                        <span class="hidden-xs">Print</span>\n                    </button>\n                    <button type="button" class="btn btn-default ghost-button"\n                            data-bind="click: onDirections">\n                        <span class="fa fa-car"></span>\n                        <span class="hidden-xs">Directions</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n\n                <!-- **** Nav panel **** -->\n                <div data-bind="style: {width: navWidth}"\n                     id="map-nav-container" class="inline pull-top noOverflow">\n                    <!-- Entries -->\n                    <div>\n                        <table class="table table-hover table-responsive summaryTable">\n                            <tbody data-bind="foreach : {data: arrangeByKeys, as: \'groupKey\'}"\n                                   class="summaryGroupTableBody">\n\n                            <!-- Header row -->\n                            <tr class="summaryGroupHeaderRow">\n                                <td colspan="7" data-bind="click: $parent.onSummaryHeaderClick">\n                                    <span data-bind="css: \'fa fa-caret-down summaryRow\' + groupKey.replace(\' \', \'\') + \'Arrow\'"\n                                          style="font-size: 1.4em"></span>\n                                    <span class="paddingRight5"></span>\n                                            <span class="summaryGroupSubHeader"\n                                                  data-bind="text: $parent.groupBy().groupDisplayNameFn(groupKey),\n                                                             css: {\'summaryGroupSubHeaderOverDue\': groupKey == 0}"></span>\n                                            <span class="summaryGroupSubHeader"\n                                                  data-bind="text: \'(\' + ($parent.claimEntriesGrouped()[groupKey].length) + \')\'"></span>\n                                </td>\n                            </tr>\n\n                            <!-- ko foreach: {data: $parent.claimEntriesGrouped()[groupKey], afterRender: $parent.onAfterRender} -->\n                            <tr draggable="true" class="summaryRow"\n                                data-bind="event: {dragstart: $parents[1].onSummaryRowDragStart.bind($parents[1]),\n                                               dragend  : $parents[1].onSummaryRowDragEnd.bind($parents[1]),\n                                               dragenter: $parents[1].onSummaryRowDragEnter.bind($parents[1]),\n                                               dragover:  $parents[1].onSummaryRowDragOver.bind($parents[1]),\n                                               dragleave: $parents[1].onSummaryRowDragLeave.bind($parents[1]),\n                                               mouseover: $parents[1].onSummaryRowMouseOver.bind($parents[1]),\n                                               mouseout: $parents[1].onSummaryRowMouseOut.bind($parents[1])},\n                                               css: \'summaryRow\' + groupKey.replace(\' \', \'\'),\n                                               attr: {\'data-entryId\': $data._id,\n                                                      \'data-group\': groupKey,\n                                                      \'data-displayOrder\': $data.displayOrder},\n                                               click: $parents[1].onClaimEntrySelect">\n\n                                <td>\n                                    <p>\n                                        <img data-bind="attr: {src: $parents[1].markerIconFor.bind($parents[1], $data)()}"\n                                             style="zoom:.4;"/>\n                                        <strong>\n                                            <span data-bind="text: $data.fileNum"></span>\n                                            <span>/</span>\n                                            <span data-bind="text: $data.insuranceCompanyFileNum"></span>\n                                        </strong>\n                                    </p>\n                                    <span data-bind="textTruncate: $data.summary, maxLength: 50"></span>\n                                    <p data-bind="ifnot: $data.location">\n                                        <span class="text-danger">No location</span>\n                                    </p>\n                                </td>\n                            </tr>\n                            <!-- /ko -->\n                            </tbody>\n                        </table>\n                    </div>\n                    <!-- End of entries -->\n                </div>\n\n                <!-- **** Maps panel **** -->\n                <div data-bind="style: {width: mapsWidth}"\n                     id="map-map-container" class="inline">\n\n                    <!-- Google maps -->\n                    <div id="map-container" data-bind="ifnot: showLocationError" style="position: relative">\n                        <!--Map-->\n                        <div id="map-dash" style="width:100%; height:100%"></div>\n\n                        <!--Loading spinner-->\n                        <div id="mapLoadingPanel"\n                             style="width:100%; height 100%; position: absolute; top: 40%; left: 40%;"\n                             data-bind="visible: showMapLoading">\n                            <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>\n                            <span class="sr-only">Loading...</span>\n                            Preparing map\n                        </div>\n\n                        <!--Directions panel-->\n                        <div id="directionsPanel" style="width:100%;height 100%"\n                             data-bind="visible: showDirections"></div>\n                    </div>\n                    <div id="map-dash-error" data-bind="if: showLocationError" class="bg-warning">\n                        <div style="width:100%; padding-top:100px" class="text-center">\n                            <h4>\n                                <small>Please allow the browser to use your location. Its needed to display\n                                    the\n                                    Travel\n                                    map\n                                </small>\n                            </h4>\n                            <a href="https://support.google.com/chrome/answer/142065?hl=en" target="_blank">How\n                                to\n                                enable location sharing?</a>\n                        </div>\n                    </div>\n                </div><!--End map-map-container -->\n            </div><!-- End col -->\n        </div><!-- End row -->\n\n    </div><!-- end panel-body -->\n</div><!-- end panel -->\n'}),define("model/tags",[],function(){return{VISIT:"visit",EMAIL:"email",PHOTOS:"photos",PHONE:"phone"}}),define("app/components/maps/travelComponent",["jquery","knockout","KOMap","amplify","underscore","app/components/summary/summaryVM","text!app/components/maps/travelComponent.tmpl.html","model/tags","model/claimEntry","shared/dateUtils","app/utils/ajaxUtils","app/utils/events","app/utils/audit","app/utils/responsive","async!https://maps.googleapis.com/maps/api/js?key=AIzaSyBB-Qincf0sNQcsu5PzZh7znG3GiB98GRU&libraries=places&signed_in=true&v=3.exp"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p){"use strict";function f(i){console.log("Init Travel VM"),this.DateUtils=c,this.claimEntries=e.observableArray([]),this.showMapLoading=e.observable(!0),this.claimEntries.subscribe(function(){this.clearMarkerState()},this),this.claimEntriesThrottled=e.computed(function(){return this.claimEntries()},this).extend({throttle:200}),this.claimEntriesThrottled.subscribe(function(t){t&&t.length>0&&(console.log("TravelVM - re-render routes"),this.showMapLoading(!0),this.loadAndShowRoutes(t),this.createMarker(t),google.maps.event.trigger(this.map,"resize"))},this),this.showDirections=e.observable(!1),this.showLocationError=e.observable(!1),this.entryIdToMarkerData={},this.entryIdToMarkerIcon={},this.initMapControl(),t.extend(this,s.viewModel.prototype),this.tagFilter={$in:["visit"]},this.navCollapsed=e.observable(p.onXSDevice()),this.navWidth=e.computed(function(){return this.navCollapsed()?"0":p.onXSDevice()?"99%":"29%"},this),this.mapsWidth=e.computed(function(){return this.navCollapsed()?"99%":p.onXSDevice()?"99%":"70%"},this),this.setupFiltering(),this.setupDragDrop(),this.setupClaimEntryListener(),this.searchClaimEntries(),this.initMapControl(),this.setupNavListener()}return f.prototype.setupNavListener=function(){var t=this;n.subscribe(h.SHOW_TRAVEL,this,function(){console.log("TravelVM - SHOW_TRAVEL ev"),this.showMapLoading(!0),google.maps.event.trigger(t.map,"resize")})},f.prototype.collapseNav=function(){this.navCollapsed(!this.navCollapsed()),google.maps.event.trigger(this.map,"resize")},f.prototype.initMapControl=function(){this.mapOptions={zoom:9,panControl:!0,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,overviewMapControl:!0},this.mapDiv=document.getElementById("map-dash"),this.map=new google.maps.Map(this.mapDiv,this.mapOptions),this.dirService=new google.maps.DirectionsService,this.dirDisplay=new google.maps.DirectionsRenderer({suppressMarkers:!0});var t=this;google.maps.event.addListener(this.map,"idle",function(){setTimeout(function(){t.showMapLoading(!1)},3e3)})},f.prototype.loadAndShowRoutes=function(e){console.log("LoadAndShowRoutes");var i=t("#navbar-container").height()+t("#travel-panel-heading").height()+t("#travel-toolbar").height();t("#map-dash").css("height",window.innerHeight-i-100+"px");var n=this;t.when(n.getStartPos.bind(n)()).then(function(i){console.log(e.length+" stops on itenary");var o=t.map(e,function(t){if(t.location&&t.location.geometry&&t.location.geometry.location){var e=t.location.geometry.location;return{location:new google.maps.LatLng(e.lat(),e.lng()),stopover:!0}}}),s=new google.maps.LatLng(i.lat,i.lng),a=o.length>0?o[o.length-1].location:s,r=o.length>1?o.slice(0,o.length-1):[];n.showRoutes(s,a,r)}).fail(function(e){t("#map-dash-error").css("height",screen.height-500+"px"),n.showLocationError(!0)})},f.prototype.showRoutes=function(t,e,i){var n=this;n.dirDisplay.setMap(null),n.dirDisplay.setMap(this.map);var o=document.getElementById("directionsPanel");o.innerHTML="",n.dirDisplay.setPanel(o),i=i||[],n.dirService.route({origin:t,waypoints:i,destination:e,optimizeWaypoints:!0,provideRouteAlternatives:!1,travelMode:google.maps.TravelMode.DRIVING},function(t,e){e==google.maps.DirectionsStatus.OK?(n.dirDisplay.setDirections(t),d.info("TravelShowRoutes")):(console.error("Error fetching directions. "+e),console.error(t),d.error("TravelShowRoutes"))})},f.prototype.clearMarkerState=function(e){o.each(o.values(this.entryIdToMarkerData),function(e){var i=e[0],n=e[1];n?n.close():t.noop(),i?i.setMap(null):t.noop()}),this.entryIdToMarkerData={},this.entryIdToMarkerIcon={}},f.prototype.markerIconFor=function(t){var e=c.stripTime(t.dueDate()).getTime(),i=["/img/markerA.png","/img/markerB.png","/img/markerC.png","/img/markerD.png","/img/markerE.png","/img/markerF.png","/img/markerG.png","/img/markerH.png"],n=this.entryIdToMarkerIcon[e];if(n)return n;var s=o.values(this.entryIdToMarkerIcon),a=o.difference(i,s);return a.length>0?(this.entryIdToMarkerIcon[e]=a[0],a[0]):i[i.length-1]},f.prototype.createMarker=function(e){var i=this;t.each(e,function(t,e){var n=null;if(e.location&&e.location.geometry&&e.location.geometry.location){var s=e.location.geometry.location;n=new google.maps.LatLng(s.lat(),s.lng())}if(n){var a=new google.maps.Marker({map:i.map,title:o.isFunction(e.summary)?e.summary():"",position:n,icon:i.markerIconFor(e)}),r=new google.maps.InfoWindow({content:"<b>"+e.fileNum()+"/"+e.insuranceCompanyFileNum()+"</b></br>"+e.summary()+"</br>"+c.niceDate(e.dueDate())+" @ "+(e.location?e.location.name():"")});a.addListener("click",function(){r.open(i.map,a)}),i.entryIdToMarkerData[e._id()]=[a,r]}})},f.prototype.getStartPos=function(){var e,i=this,n=(new google.maps.Geocoder,t.Deferred());return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e={lat:t.coords.latitude,lng:t.coords.longitude};var o=new google.maps.InfoWindow({disableAutoPan:!0,map:i.map,position:e,content:"You are here"});i.entryIdToMarkerData.startPos=[null,o],n.resolve(e)},function(t){n.reject(t)}):n.reject(),n},f.prototype.onSummaryRowMouseOver=function(t,e){var i=this.entryIdToMarkerData[t._id()];if(i){var n=i[0],o=i[1];o.open(this.map,n)}else console.log("Didn't find marker for entry")},f.prototype.onSummaryRowMouseOut=function(t,e){var i=this.entryIdToMarkerData[t._id()];if(i){var n=i[1];n.close()}else console.log("Didn't find marker for entry")},f.prototype.onPrint=function(){var t=this,e=t.showDirections();e||t.showDirections(!0);var i=document.getElementById("map-container"),n=document.createElement("iframe");document.body.appendChild(n);var o=n.contentWindow;return o.document.open(),o.document.write("<html><head>"),o.document.write("</head><body >"),o.document.write(i.innerHTML),o.document.write("</body></html>"),o.document.close(),o.focus(),o.print(),document.body.removeChild(n),e||t.showDirections(!1),d.info("TravelMapPrint"),!1},f.prototype.onDirections=function(){function e(e,i){t("html,body").animate({scrollTop:t(i).scrollTop()+t(e).offset().top},{duration:"slow",easing:"easeInQuart"})}var i=this;i.showDirections(!i.showDirections()),e("#directionsPanel","#map-container"),d.info("TravelDirections")},{viewModel:f,template:a}}),define("text!app/components/statusEditor/statusEditorComponent.tmpl.html",[],function(){return'<!-- Current state -->\n<a href="#"\n   title="Click to edit"\n   data-bind="event: { mouseover: onMouseOver,\n                       mouseout: onMouseOut},\n                       click: onClick">\n        <span class="glyphicon"\n              data-bind="css: {\'glyphicon-unchecked\': state() === undefined || state == States.None,\n                               \'glyphicon-inbox\'    : state() === States.TODO,\n                               \'glyphicon-time\'     : state() === States.Pending,\n                               \'glyphicon-ok\'       : state() === States.Complete}"></span>\n        <span class="fa fa-angle-down" style="font-size: 1.3em"></span>\n</a>\n\n<!-- Pick new State -->\n<div style="z-index: 9999; width: 135px; position: absolute"\n     class="list-group"\n     data-bind="visible: inEditMode">\n\n    <a href="#" class="list-group-item active"\n       data-bind="click: onDismissEditor">\n        <span class="glyphicon glyphicon-remove alignRight"></span>\n        <span>&nbsp;</span>\n    </a>\n\n    <a data-bind="click: onUpdate.bind($data, States.Complete)"\n       href="#" class="list-group-item glyphicon glyphicon-ok">\n        Complete\n    </a>\n    <a data-bind="click: onUpdate.bind($data, States.Pending)"\n       href="#" class="list-group-item glyphicon glyphicon-time">\n        Pending\n    </a>\n    <a data-bind="click: onUpdate.bind($data, States.TODO)"\n       class="list-group-item glyphicon glyphicon-inbox" href="#">\n        To Do\n    </a>\n    <a data-bind="click: onUpdate.bind($data, States.None)"\n       href="#" class="list-group-item glyphicon glyphicon-unchecked">\n        Clear\n    </a>\n</div>'}),define("app/components/statusEditor/statusEditorComponent",["jquery","knockout","KOMap","amplify","text!app/components/statusEditor/statusEditorComponent.tmpl.html","model/states","app/utils/events"],function(t,e,i,n,o,s,a){"use strict";function r(t){console.log("Init Date editor widget"),this.States=s,console.assert(t.statusValue,"Expecting status observable to bind to"),console.assert(t.entryId,"Expecting Entry Id"),this.state=t.statusValue,this.entryId=t.entryId,this.inEditMode=e.observable(!1),this.showEditable=e.observable(!1),this.addESCKeyListener()}return r.prototype.addESCKeyListener=function(){t(document).keyup(function(t){27==t.keyCode&&this.inEditMode(!1)}.bind(this)),t(window).click(function(){this.inEditMode(!1)}.bind(this))},r.prototype.onMouseOver=function(t,e){this.showEditable(!0)},r.prototype.onMouseOut=function(t,e){this.showEditable(!1)},r.prototype.onClick=function(t,e){e.stopImmediatePropagation(),this.inEditMode(!0)},r.prototype.onDismissEditor=function(t,e){this.inEditMode(!1),e.stopImmediatePropagation()},r.prototype.onUpdate=function(t,e,i){i.stopImmediatePropagation(),console.log("Raise Claim Entry status update Ev. "+this.entryId()),n.publish(a.UPDATE_CLAIM_ENTRY_STATUS,{claimEntryId:this.entryId(),status:t})},{viewModel:r,template:o
}}),define("shared/NumberUtils",[],function(){"use strict";function t(t){return null==t||void 0==t||isNaN(t)?"":"$"+Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function e(t){return null==t||void 0==t||isNaN(t)?"":Number(t).toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2})}return{niceCCY:t,nice:e}}),define("text!app/components/stats/stats.tmpl.html",[],function(){return'<div>\n\n    <div>\n        <!-- widget content -->\n        <div class="widget-body">\n            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 show-stats">\n                <div class="row">\n                    <!-- Tasks --->\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-3" style="padding-left: 0; padding-right: 1px">\n                        <div data-bind=\'template: { name: "tasksStatsTemplate",\n                                                    afterRender: onTasksStatsTemplRender.bind($data) }\'></div>\n                    </div>\n                    <!-- Billing --->\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-3" style="padding-left: 1px; padding-right: 1px">\n                        <div data-bind=\'template: { name: "billStatsTemplate",\n                                                    afterRender: onBillStatsTemplRender }\'></div>\n                    </div>\n                    <!-- Closed claims --->\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-3" style="padding-left: 1px; padding-right: 0">\n                        <div data-bind=\'template: { name: "closedClaimsStatsTemplate",\n                                                    afterRender: onclosedClaimsStatsTemplRender.bind($data) }\'></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Billing -->\n<script type="text/html" id="billStatsTemplate">\n    <div class="well stats-well text-left">\n        <div class="row">\n            <div class="col-md-12 col-lg-12">\n\n                <!--TODO: add time ranges-->\n                <!--\n                <div class="btn-group">\n                    <button class="btn btn-sm dropdown-toggle btn-link"\n                            data-toggle="dropdown"\n                            data-bind="html: \'Today\'">\n                    </button>\n                    <ul class="dropdown-menu">\n                        <li>\n                            <a data-bind="html: \'Month to date\'"></a>\n                            <a data-bind="html: \'Year to date\'"></a>\n                        </li>\n                    </ul>\n                </div>\n                -->\n                <div class="row">\n                    <div class="col-md-12 col-lg-12">\n                        <p class="stats-counter-header-text text-center">BILLING</p>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-12 col-lg-12">\n                        <p class="stats-counter-primary-text text-nowrap text-center"\n                           data-bind="text: NumberUtils.niceCCY(billByBillingStatus()[\'Paid\'])"></p>\n                    </div>\n                </div>\n                <div class="row bottomMargin">\n                    <div class="col-md-offset-1 col-lg-offset-1 col-md-10 col-lg-10 bottomBorder darkGray">\n                        <p class="stats-counter-accent-text text-center">PAID</p>\n                    </div>\n                </div>\n                <div class="row topMargin">\n                    <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">\n                        <p class="stats-counter-secondary-text text-nowrap text-center"\n                           data-bind="text: NumberUtils.niceCCY(billByBillingStatus()[\'Submitted\'])"></p>\n                    </div>\n                    <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">\n                        <p class="stats-counter-secondary-text text-nowrap text-center"\n                           data-bind="text: NumberUtils.niceCCY(billByBillingStatus()[\'Not Submitted\'])"></p>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">\n                        <p class="stats-counter-accent-text-muted text-center">SUBMITTED</p>\n                    </div>\n                    <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">\n                        <p class="stats-counter-accent-text-muted text-center">NOT SUBMITTED</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n\n<!-- Tasks -->\n<script type="text/html" id="tasksStatsTemplate">\n    <div class="well stats-well text-left">\n        <div class="row">\n            <div class="col-md-12 col-lg-12">\n                <p class="stats-counter-header-text text-center">TODAY\'S TASKS</p>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">\n                <div id="tasksStatsCircliful" style="width: 90px; position: relative; left: 25%;"></div>\n            </div>\n            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" style="opacity: .87;">\n                <!-- ko foreach: tasksByCategory -->\n                <span data-bind="taskEntryTag: $data[0]"></span>\n                <span class="stats-counter-secondary-text text-nowrap text-right" data-bind="text: $data[1]"></span>\n                <br/>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n</script>\n\n<!-- Closed Claims -->\n<script type="text/html" id="closedClaimsStatsTemplate">\n    <div class="well stats-well text-center">\n        <div class="row">\n            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">\n                <span class="stats-counter-header-text">Claims</span>\n                    <span class="stats-counter-primary-text text-center"\n                          style="position: relative; top: 10px;"\n                          data-bind="text: openClaimsCount"></span>\n            </div>\n            <div id="closedClaimsChartDiv" class="col-xs-9 col-sm-9 col-md-9 col-lg-9">\n                <canvas id="closedClaimsChart"></canvas>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 stats-counter-accent-text text-center">\n                OPEN\n            </div>\n            <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 text-center stats-counter-accent-text-muted">\n                CLOSED PER MONTH\n            </div>\n        </div>\n    </div>\n</script>'}),define("app/components/stats/statsVM",["jquery","underscore","knockout","KOMap","amplify","app/utils/events","shared/NumberUtils","app/utils/ajaxUtils","text!app/components/stats/stats.tmpl.html","chartjs"],function($,_,ko,KOMap,amplify,Events,NumberUtils,AjaxUtils,statsView,Chart){function StatsVM(){console.log("Init Stats"),this.loadStats(),this.stats=ko.observable(),this.NumberUtils=NumberUtils,this.tasksDoneToday=ko.computed(function(){return this.nullSafeStats("['TasksDoneToday'][0]['total']")},this),this.tasksDueToday=ko.computed(function(){return this.nullSafeStats("['TasksDueToday'][0]['total']")},this),this.percentTasksDone=ko.computed(function(){return N(this.tasksDueToday())>0?Math.round(N(this.tasksDoneToday())/N(this.tasksDueToday())*100):100},this),this.tasksByCategory=ko.computed(function(){return this.stats()?_.zip(_.map(this.stats().TaskByCategory,function(t){return t._id[0]}),_.map(this.stats().TaskByCategory,function(t){return t.total})):""},this),this.billByBillingStatus=ko.computed(function(){var t={Submitted:0,Paid:0,"Not Submitted":0};return this.stats()&&_.each(this.stats().BillsByBillingStatus,function(e){t[e._id]=e.total}),t},this),this.openClaimsCount=ko.computed(function(){return this.nullSafeStats("['OpenClaims'][0]['total']")},this),this.closedClaimsData=ko.computed(function(){return this.nullSafeStats("['ClosedClaims']")},this),this.showClosedClaimsChart=ko.computed(function(){return!_.isEmpty(this.closedClaimsData())},this),this.setupEvListeners()}function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}var N=Number;return StatsVM.prototype.nullSafeStats=function(fn){try{return this.stats()?eval("this.stats()"+fn):0}catch(e){return 0}},StatsVM.prototype.setupEvListeners=function(){amplify.subscribe(Events.SAVED_CLAIM,this,this.loadStats),amplify.subscribe(Events.SAVED_CLAIM_ENTRY,this,this.loadStats),amplify.subscribe(Events.SAVED_BILL,this,this.loadStats),amplify.subscribe(Events.SAVED_CLAIM_ENTRY,this,this.onTasksStatsTemplRender)},StatsVM.prototype.onTasksStatsTemplRender=function(){console.log("Rendering task Stats"),$("#tasksStatsCircliful").empty().removeData(),$("#tasksStatsCircliful").data("dimension",90).data("width",10).data("fontsize",14).data("fgcolor","#039cdb").data("bgcolor","#bababa").data("percent",this.percentTasksDone()).data("text",this.tasksDueToday()+" Due").data("info",this.tasksDoneToday()+" Done").circliful()},StatsVM.prototype.onclosedClaimsStatsTemplRender=function(){console.log("Rendering closed claims Stats"),$("#closedClaimsChart").remove(),$("#closedClaimsChartDiv").append('<canvas id="closedClaimsChart"></canvas>');var t=$("#closedClaimsChart"),e=_.keys(this.closedClaimsData()),i=_.values(this.closedClaimsData());new Chart(t,{type:"bar",data:{labels:e,datasets:[{label:"Closed",data:i}]},options:{scales:{xAxes:[{display:!1,gridLines:{drawOnChartArea:!1}}],yAxes:[{display:!1,gridLines:{drawOnChartArea:!1}}]}}})},StatsVM.prototype.onBillStatsTemplRender=function(){setTimeout(function(){},2e3)},StatsVM.prototype.loadStats=function(){console.log("Loading All Stats"),AjaxUtils.getJSON("/stats/all").done(function(t){console.debug("Loaded Stats "+JSON.stringify(t.data)),this.stats(t.data),this.onTasksStatsTemplRender(),this.onclosedClaimsStatsTemplRender()}.bind(this)).fail(function(t){console.error("Failed to load Stats "+JSON.stringify(t))})},{viewModel:StatsVM,template:statsView}}),define("model/billingStatus",[],function(){return{NOT_BILLABLE:"Not Billable",NOT_SUBMITTED:"Not Submitted",SUBMITTED:"Submitted",PAID:"Paid"}}),define("model/billingItem",["./billingStatus"],function(t){function e(){this._id=void 0,this.billId=null,this.claimEntryId=null,this.entryDate=null,this.tag=null,this.summary=null,this.timeRate=null,this.distanceRate=null,this.mileageCode=null,this.timeCode=null,this.expenseCode=null,this.mileage=0,this.time=0,this.expenseAmount=0,this.totalAmount=0,this.status=t.NOT_SUBMITTED}return e}),define("text!app/components/taskEntry/taskEntry.tmpl.html",[],function(){return'<div class="panel panel-default" data-bind="if: readyToRender">\n    <div class="panel-heading">\n        <h3>\n            <i data-bind="taskEntryTag: claimEntry().tag()"></i>\n            <div class="inline"\n                 id="taskEntryHeading"\n                 data-bind="text: niceHeader(),\n                            attr: {title: \'Task Id \' + claimEntry()._id()}"></div>\n        </h3>\n    </div>\n\n    <div class="panel-body">\n        <form>\n            <div class="form-group">\n                <label for="claimEntry-dueDate" class="control-label">Due on</label>\n                <div>\n                    <input type="text" class="form-control normal input-sm" id="claimEntry-dueDate"\n                           data-bind="\n                           disable: isClosed,\n                           datetimePicker: {\n                              datepicker: true,\n                              timepicker: false,\n                              dateValue: myDueDate}"/></div>\n            </div>\n\n            <div class="form-group">\n                <label for="claimEntry-summary" class="control-label">Summary</label>\n                <div>\n                    <textarea class="form-control" rows="1" id="claimEntry-summary"\n                              data-bind="value: claimEntry().summary,\n                                        disable: isClosed"\n                              placeholder="Note"></textarea>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="claimEntry-desc" class="control-label">Description</label>\n\n                <div>\n                    <div class="btn-toolbar hidden-xs" data-role="editor-toolbar" data-target="#claimEntry-desc"\n                         data-bind="ifnot: isClosed">\n                        <div class="btn-group">\n                            <a class="btn btn-default dropdown-toggle txt-color-blueDark" data-toggle="dropdown" title="Font Size">\n                                <i class="fa fa-text-height"></i>&nbsp;<b class="caret"></b>\n                            </a>\n                            <ul class="dropdown-menu">\n                                <li><a data-edit="fontSize 5"><font size="5">Huge</font></a></li>\n                                <li><a data-edit="fontSize 3"><font size="3">Normal</font></a></li>\n                                <li><a data-edit="fontSize 1"><font size="1">Small</font></a></li>\n                            </ul>\n                        </div>\n                        <div class="btn-group">\n                            <a class="btn btn-default txt-color-blueDark" data-edit="bold" title="Bold (Ctrl/Cmd+B)"><i\n                                    class="fa fa-bold"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="italic" title="Italic (Ctrl/Cmd+I)"><i\n                                    class="fa fa-italic"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="strikethrough" title="Strikethrough"><i\n                                    class="fa fa-strikethrough"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="underline" title="Underline (Ctrl/Cmd+U)"><i\n                                    class="fa fa-underline"></i></a>\n                        </div>\n                        <div class="btn-group">\n                            <a class="btn btn-default txt-color-blueDark" data-edit="insertunorderedlist" title="Bullet list"><i class="fa fa-list-ul"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="insertorderedlist" title="Number list"><i class="fa fa-list-ol"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="outdent" title="Reduce indent (Shift+Tab)"><i class="fa fa-indent"></i></a>\n                            <a class="btn btn-default txt-color-blueDark" data-edit="indent" title="Indent (Tab)"><i class="fa fa-dedent"></i></a>\n                        </div>\n                        <div class="btn-group">\n                            <a class="btn btn-default" data-edit="undo" title="Undo (Ctrl/Cmd+Z)"><i class="fa fa-undo"></i></a>\n                            <a class="btn btn-default" data-edit="redo" title="Redo (Ctrl/Cmd+Y)"><i class="fa fa-repeat"></i></a>\n                        </div>\n                    </div>\n                    <div class="form-control" id="claimEntry-desc"\n                         data-bind="wysiwygEditor: myDescription,\n                                    disable: isClosed"\n                         placeholder="Note" style="overflow: scroll">\n                    </div>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="claimEntry-dueDate" class="control-label">Location</label>\n                <div>\n                    <!-- Maps component -->\n                    <maps-component params="\'claimEntry\': claimEntry"></maps-component>\n                </div>\n            </div>\n\n            <div class="form-group" id="task-entry-attach">\n                <label for="claimEntry-dueDate" class="control-label">Attachments</label>\n                <div>\n                    <!-- File upload component -->\n                    <file-upload-component params="\'claimEntry\': claimEntry"></file-upload-component>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <!-- Billing status label -->\n                <label class="control-label">\n                    Billing\n                    <span class="color-yellow leftMargin5"\n                          style="font-size: 13px; font-weight: 400;"\n                          data-bind="text: claimEntry().billingItem().status"></span>\n                </label>\n                <div>\n                    <!-- Billing item component -->\n                    <billing-item-component params="\'billingItem\': claimEntry().billingItem,\n                                                    \'disable\'    : claimEntry().isClosed() || isBilled() "></billing-item-component>\n                </div>\n            </div>\n        </form>\n\n        <!-- Buttons -->\n        <footer>\n            <div class="form-actions row">\n                <div class="col-lg-7">\n                    <!-- ko ifnot: isClosed -->\n                        <!-- ko if: isSaved -->\n                        <button type="button"\n                                data-toggle="tooltip" data-placement="top"\n                                data-bind="click: onDelete,\n                                           enable: isNotBilled,\n                                           css: isBilled() ? \'btn btn-link color-dark-grey\' : \'btn btn-link color-red\'">\n                            <i class="fa fa-trash-o"></i>\n                            Delete\n                        </button>\n                        <!-- /ko -->\n                    <!-- /ko -->\n\n                    <!-- ko if: isBilled -->\n                    <div class="inline leftMargin2pc">\n                        <span class="color-dark-grey">Can\'t delete since it has been billed already.</span>\n                    </div>\n                    <!-- /ko -->\n                    <!-- ko if: isNotBilled -->\n                    <div class="inline leftMargin2pc">\n                        <span class="text-fine-print">Last updated</span>\n                        <span class="text-fine-print" data-bind="text : DateUtils.niceDate(claimEntry().updateDate())"></span>\n                    </div>\n                    <!-- /ko -->\n\n                </div>\n                <div class="col-lg-5">\n                    <button id="task-entry-close"\n                            type="button"\n                            class="btn btn-default pull-right"\n                            data-bind="click: onCancel">Close</button>\n\n                    <!-- ko if: isClosed -->\n                    <span class="text-primary leftMargin5">\n                        <i class="fa fa-lock">   Claim is closed</i>\n                    </span>\n                    <!-- /ko -->\n\n                    <!-- ko ifnot: isClosed -->\n                    <button type="button" class="btn pull-right leftMargin2pc rightMargin5"\n                            data-bind="click: onSave,\n                                   css: { \'btn-info\' : stateChange(),\n                                          \'btn-default\' : !stateChange()}">Save\n                    </button>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </footer>\n    </div>\n</div>\n'}),define("app/components/taskEntry/taskEntryVM",["underscore","jquery","knockout","KOMap","amplify","model/claim","model/claimEntry","model/billingItem","model/billingStatus","model/states","app/utils/ajaxUtils","app/utils/events","app/utils/router","app/utils/sessionKeys","app/utils/session","shared/dateUtils","app/utils/audit","text!app/components/taskEntry/taskEntry.tmpl.html","bootbox"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p,f,m,g,v,b){"use strict";function y(){console.log("Init TaskEntryVM"),this.DateUtils=m,this.myDueDate=i.observable(),this.myDescription=i.observable(),this.claimEntry=i.observable(this.newEmptyClaimEntry()),this.readyToRender=i.observable(!1),this.inEditMode=i.observable(!0),this.stateChange=i.observable(!1),this.isClosed=i.computed(function(){return this.claimEntry().isClosed()},this),this.isSaved=i.computed(function(){return Number(this.claimEntry()._id())>0},this),this.isBilled=i.computed(function(){return this.claimEntry().billingItem().status()!=l.NOT_SUBMITTED},this),this.isNotBilled=i.computed(function(){return!this.isBilled()},this),this.setupEvListeners(),this.startStateTracking()}return y.prototype.newEmptyClaimEntry=function(t){var e=new a,o=n.fromJS(e);return o.billingItem&&i.isObservable(o.billingItem)?o.billingItem(n.fromJS(new r)):o.billingItem=i.observable(n.fromJS(new r)),o.tag([t||"other"]),o.dueDate(m.startOfToday()),o.entryDate(new Date),o.updateDate(new Date),o.state(c.TODO),this.myDueDate(o.dueDate()),this.myDescription(o.description()),o},y.prototype.startStateTracking=function(){this.claimEntryState=i.computed(function(){return n.toJSON(this.claimEntry)+n.toJSON(this.myDueDate)+n.toJSON(this.myDescription)},this),this.claimEntryState.extend({rateLimit:{timeout:100,method:"notifyWhenChangesStop"}}),this.stateChangeSubsciption=this.claimEntryState.subscribe(function(t){this.stateChange(!0),console.log("ClaimEntry state change")},this)},y.prototype.stopStateTracking=function(){this.stateChangeSubsciption.dispose(),this.stateChange(!1)},y.prototype.setupEvListeners=function(){o.subscribe(h.SHOW_CLAIM_ENTRY,this,this.onShowClaimEntry),o.subscribe(h.NEW_CLAIM_ENTRY,this,this.onNewClaimEntry),o.subscribe(h.UPDATE_CLAIM_ENTRY_STATUS,this,this.onStatusUpdate)},y.prototype.onShowClaimEntry=function(t){console.log("TaskEntryVM - SHOW_CLAIM_ENTRY ev "+JSON.stringify(t)),this.claimEntry(this.newEmptyClaimEntry()),this.loadClaimEntry(t.claimEntryId),this.readyToRender(!0)},y.prototype.onNewClaimEntry=function(t){console.log("TaskEntryVM - NEW_CLAIM_ENTRY ev "+JSON.stringify(t));var i=Boolean(t.entryType)?t.entryType:"other";this.claimEntry(this.newEmptyClaimEntry(i)),this.readyToRender(!0);var n=e("#claimEntry-desc");n.height(100),console.log("Adding new claim entry. Tag:"+i)},y.prototype.onStatusUpdate=function(t){console.log("TaskEntryVM - UPDATE_CLAIM_ENTRY_STATUS ev "+JSON.stringify(t));var e=t.claimEntryId,i=f.getActiveClaimId();this.stopStateTracking(),u.post("/claimEntry/modify",JSON.stringify({_id:e,attrsAsJson:{state:t.status}}),function(t){console.log("Saved ClaimEntry: "+JSON.stringify(t)),o.publish(h.SUCCESS_NOTIFICATION,{msg:"Saved entry"}),o.publish(h.SAVED_CLAIM_ENTRY,{claimId:i,claimEntryId:e}),this.startStateTracking()}.bind(this))},y.prototype.niceHeader=function(){return void 0===this.claimEntry()._id?"New Entry":this.claimEntry().summary()||""},y.prototype.onDelete=function(){var t=this,e=f.getActiveClaimId(),i=t.claimEntry()._id(),s=t.claimEntry().summary();u.post("/claimEntry/delete",n.toJSON({claimEntryId:i}),function(n){"Success"==n.status?(console.log("Deleted ClaimEntry: "+JSON.stringify(n)),o.publish(h.SUCCESS_NOTIFICATION,{msg:"Deleted <strong>"+s+"</strong> and related billing"}),o.publish(h.SAVED_CLAIM_ENTRY,{claimId:e,claimEntryId:i}),t.startStateTracking(),d.routeToClaim(f.getActiveClaimId())):o.publish(h.FAILURE_NOTIFICATION,{msg:"Could not delete task"})})},y.prototype.onSave=function(){var t=e.Deferred();this.stopStateTracking();var i=f.getActiveClaimId();return this.claimEntry().claimId(i),this.claimEntry().updateDate(new Date),this.claimEntry().dueDate(this.myDueDate()),this.claimEntry().description(this.myDescription()),this.claimEntry().description(e("#claimEntry-desc").cleanHtml()),console.log("Saving ClaimEntry: "+n.toJSON(this.claimEntry)),u.post("/claimEntry",n.toJSON(this.claimEntry),function(e){console.log("Saved ClaimEntry: "+JSON.stringify(e)),this.claimEntry()._id(e.data._id),this.myDescription(e.data.description),this.claimEntry().description(e.data.description),o.publish(h.SUCCESS_NOTIFICATION,{msg:"Saved entry"}),o.publish(h.SAVED_CLAIM_ENTRY,{claimId:i,claimEntryId:e.data._id}),this.startStateTracking(),d.routeToClaim(f.getActiveClaimId()),g.info("SavedTask",{_id:this.claimEntry()._id(),summary:this.claimEntry().claimId()}),t.resolve()}.bind(this)),t},y.prototype.loadClaimEntry=function(t){this.stopStateTracking(),e("#claimEntry-desc").height(100),u.getJSON("/claimEntry/"+t).done(function(t){console.log("Loaded claim entry "+JSON.stringify(t.data).substr(0,100)),n.fromJS(t.data[0],{},this.claimEntry),this.myDueDate(this.claimEntry().dueDate()),this.myDescription(this.claimEntry().description()),this.storeInSession(this.claimEntry()._id()),this.startStateTracking(),window.setTimeout(function(){var t=e("#claimEntry-desc"),i=t[0].scrollHeight;t.height(i>500?500:i)},3),g.info("ViewTask",{_id:this.claimEntry()._id(),summary:this.claimEntry().claimId()})}.bind(this))},y.prototype.storeInSession=function(t){o.store.sessionStorage(p.ACTIVE_CLAIM_ENTRY_ID,t),console.log("Stored CliamEntryId: "+t+" in session storage")},y.prototype.onCancel=function(){function t(){d.routeToClaim(f.getActiveClaimId())}var e=this;this.stateChange()?b.dialog({title:"Unsaved Changes!",message:"Save? ",buttons:{no:{label:"No",className:"btn-danger",callback:function(){t()}},yes:{label:"Yes",className:"btn-info",callback:function(){e.onSave().then(function(){t()})}}}}):t()},{viewModel:y,template:v}}),define("text!app/components/claim/claim.tmpl.html",[],function(){return'<!-- *** Claim Panel -->\n<div class="panel panel-default" data-bind="if: readyToRender">\n\n    <div class="panel-heading">\n        <h3>\n            <span>Claim</span>\n            <span class="color-grey"\n                  data-bind="text: (claim().fileNum() || \'\') + \' / \' + (claim().insuranceCompanyFileNum() || \'\')"></span>\n            <span data-bind="ifnot: isPartiallyCollapsed">\n                <span class="color-grey" style="font-size: .8em"\n                      data-bind="text: (claim().insuranceCompanyName() || \'\')"></span>\n            </span>\n        </h3>\n    </div>\n\n    <div data-bind="css: { \'panel-body\' : !isPartiallyCollapsed() && !inEditMode()}">\n        <!-- ************************************************ -->\n        <!-- Claim top level info -->\n        <!-- ************************************************ -->\n\n        <div data-bind="ifnot: inEditMode" class="container-fluid">\n            <div data-bind="ifnot: isPartiallyCollapsed">\n\n                <!-- Insured/claimant/Description -->\n                <div class="row">\n                    <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12">\n                        <strong>Description</strong>\n\n                        <div data-bind="text: claim().description"></div>\n                    </div>\n                </div>\n\n                <div class="bottomMargin5 bottomBorderDashed"></div>\n\n                <!-- Dates -->\n                <div class="row">\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <strong>Received</strong>\n\n                        <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateReceived() : \'\')"></div>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4  col-xs-4">\n                        <strong>Due</strong>\n\n                        <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateDue() : \'\')"></div>\n                    </div>\n\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <strong>Date of loss</strong>\n\n                        <div data-bind="text: DateUtils.niceDate(claim().dateReceived ? claim().dateOfLoss() : \'\')"></div>\n                    </div>\n                    <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12">\n                        <strong>Insurance co.</strong>\n                        <div class="clear"></div>\n                        <div class="inline"\n                             data-bind="text: claim().insuranceCompanyFileNum ? claim().insuranceCompanyFileNum() : \'\'"></div>\n                        /\n                        <div class="inline"\n                             data-bind="text: claim().insuranceCompanyName ? claim().insuranceCompanyName() : \'\'"></div>\n                    </div>\n                </div>\n\n                <div class="bottomMargin5 bottomBorderDashed"></div>\n\n                <!-- Contacts -->\n                <div class="row">\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <strong>Contacts</strong>\n                    </div>\n                    <!--\n                    <div class="col-lg-2 col-md-2 col-lg-offset-2 col-md-offset-2 col-sm-4 col-xs-4 col-sm-offset-4 col-xs-offset-4">\n                        <div data-bind="text: \'Show all (\' + Number(claim().otherContacts().length) + 2 + \')\'" class="font-sm"></div>\n                    </div>\n                    -->\n                </div>\n\n                <div class="row">\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span>Claimant</span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <a href=""\n                           data-bind="click: function(){onShowContact(claim().claimantContact)},\n                                  text: niceName(claim().claimantContact)">\n                        </a>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span data-bind="text: claim().claimantContact.phone"></span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span>Claimant Attorney</span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <a href=""\n                           data-bind="click: function(){onShowContact(claim().claimantsAttorneyContact)},\n                                  text: niceName(claim().claimantsAttorneyContact)"></a>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span data-bind="text: claim().claimantsAttorneyContact.phone"></span>\n                    </div>\n                </div>\n\n                <div class="row ">\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span>Insured</span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <a href=""\n                           data-bind="click: function(){onShowContact(claim().insuredContact)},\n                                  text: niceName(claim().insuredContact)"></a>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span data-bind="text: claim().insuredContact.phone"></span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span>Insured Attorney</span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <a href=""\n                           data-bind="click: function(){onShowContact(claim().insuredAttorneyContact)},\n                                  text: niceName(claim().insuredAttorneyContact)"></a>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span data-bind="text: claim().insuredAttorneyContact.phone"></span>\n                    </div>\n                </div>\n\n                <div class="row ">\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span>Insurance co. adjuster</span>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <a href=""\n                           data-bind="click: function(){onShowContact(claim().insuranceCoContact)},\n                                  text: niceName(claim().insuranceCoContact)"></a>\n                    </div>\n                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                        <span data-bind="text: claim().insuranceCoContact.phone"></span>\n                    </div>\n                </div>\n\n                <!-- Other contacts -->\n                <div data-bind="foreach: claim().otherContacts()">\n                    <div class="row bottomBorder">\n                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                            &nbsp;\n                        </div>\n                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                            <a><!--data-bind="click: $parent.onShowContact($data._id)">-->\n                                <!--<span data-bind="text: $parent.niceName($data)"></span>-->\n                                Foo\n                            </a>\n                        </div>\n                        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">\n                            <span data-bind="text: \'616 112 9889\'"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="bottomMargin5 bottomBorderDashed"></div>\n    </div>\n\n    <!-- *** Editor *** -->\n    <div data-bind="template: {name: \'app/components/claim/claim.editor\'}"></div>\n\n    <!-- ************************************************ -->\n    <!-- Buttons -->\n    <!-- ************************************************ -->\n\n    <div data-bind="ifnot: inEditMode" class="row">\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n\n            <!-- ko if: isClaimClosed -->\n            <div class="row">\n                <div class="col-lg-offset-2 col-md-offset-2 col-sm-offset-1 col-lg-8 col-md-8 col-sm-10 col-xs-12">\n                    <div class="alert alert-info" role="alert"\n                         data-bind="html: \'<i class=\\\'fa fa-lock fa-2x\\\'></i><b>  Claim closed on \' + DateUtils.niceDate(claim().dateClosed()) + \'</b>. Please re-open the Claim if you wish to make further changes.\'">\n                    </div>\n                </div>\n            </div>\n            <!-- /ko -->\n\n            <!-- New task btn -->\n            <div class="btn-group inline leftMargin5"\n                 data-bind="ifnot: isClaimClosed">\n                <button type="button"\n                        id="claim-newtask-btn"\n                        class="btn btn-default dropdown-toggle btn-info"\n                        data-toggle="dropdown">\n                    <span class="fa fa-plus"></span>\n                    New Task <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu" role="menu">\n                    <li>\n                        <a href="#/claimEntry/new/phone">\n                            <span class="glyphicon glyphicon-earphone"></span>\n                            <span class="leftMargin5">Phone</span>\n                        </a>\n                    </li>\n                    <li>\n                        <a href="#/claimEntry/new/visit">\n                            <span class="glyphicon glyphicon-map-marker"></span>\n                            <span class="leftMargin5">Site visit</span>\n                        </a>\n                    </li>\n                    <li>\n                        <a href="#/claimEntry/new/photos">\n                            <span class="glyphicon glyphicon-camera"></span>\n                            <span class="leftMargin5">Photos</span>\n                        </a>\n                    </li>\n                    <li>\n                        <a href="#/claimEntry/new/other">\n                            <span class="fa fa-tag"></span>\n                            <span class="leftMargin5">Other</span>\n                        </a>\n                    </li>\n                    <li class="divider"></li>\n                    <li>\n                        <a href="#/claimEntry/new/other" data-toggle="modal" data-target="#emailTaskTypeModal">\n                            <span class="fa fa-mail-forward"></span>\n                            <span class="leftMargin5">From Email</span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <!-- Email task btn -->\n            <!-- ko ifnot: inEditMode && isPartiallyCollapsed -->\n            <div class="btn btn-default inline btn-info hidden-xs"\n                 data-toggle="modal" data-target="#emailTaskTypeModal">\n                <span class="fa fa-mail-forward"></span>\n                <span class="leftMargin5">From Email</span>\n            </div>\n            <!-- /ko -->\n\n            <div class="pull-right">\n                <!-- `Close claim` button -->\n                <div data-bind="ifnot: inEditMode && isPartiallyCollapsed" class="inline hidden-xs">\n                    <!-- ko ifnot: isClaimClosed -->\n                    <div class="btn btn-default inline btn-info"\n                         data-bind="click: onCloseClaimClick.bind($data)">\n                        <i class="fa fa-check-square-o"></i>\n                        Close\n                    </div>\n                    <!-- /ko -->\n                    <!-- ko if: isClaimClosed -->\n                    <div class="btn btn-default inline btn-info"\n                         data-bind="click: onReOpenClaimClick.bind($data)">\n                        <i class="fa fa-share-square-o"></i>\n                        Re-open\n                    </div>\n                    <!-- /ko -->\n                </div>\n\n                <!-- Edit claim button -->\n                <div data-bind="ifnot: inEditMode && isPartiallyCollapsed" class="inline">\n                    <!-- ko ifnot: isClaimClosed -->\n                    <div class="btn btn-default inline btn-info"\n                         data-bind="click: onEditModeClick.bind($data)">\n                        <i class="fa fa-pencil"></i>\n                        Edit\n                    </div>\n                    <!-- /ko -->\n                </div>\n\n                <!-- Billing Button -->\n                <div data-bind="ifnot: inEditMode && isPartiallyCollapsed" class="inline">\n                    <div class="btn-group inline">\n                        <button type="button"\n                                id="claim-billing-btn"\n                                class="btn btn-default dropdown-toggle btn-info"\n                                data-toggle="dropdown">\n                            <span class="fa fa-fw fa-credit-card"></span>\n                            Billing <span class="caret"></span>\n                        </button>\n                        <ul class="dropdown-menu" role="menu">\n                            <!-- ko ifnot: isClaimClosed -->\n                            <li>\n                                <a data-bind="attr: {href: \'#/claim/\' + claim()._id() + \'/newbill\'}">\n                                    <span class="fa fa-plus"></span>\n                                    <span class="leftMargin5">New</span>\n                                </a>\n                            </li>\n                            <!-- /ko -->\n                            <li>\n                                <a data-bind="attr: {href: \'#/billing/history/\' + claim()._id()}">\n                                    <span class="fa fa-history"></span>\n                                    <span class="leftMargin5">History</span>\n                                </a>\n                            </li>\n                            <li>\n                                <a data-bind="click: onBillingProfileClick">\n                                    <span class="fa fa-cogs"></span>\n                                    <span class="leftMargin5">Rates</span>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n            <div class="clear"></div>\n            <!-- *** Entries *** -->\n            <div data-bind="ifnot: inEditMode" class="row">\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                    <div data-bind="template: {name: \'app/components/claim/claim.entries\',\n                                               afterRender: initTooltipComponent}"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- *** Claim Panel - end -->\n</div>\n\n<!-- *** Modal with the email instructions *** -->\n<div class="modal modal-lg fade centered" role="dialog" tabindex="-1" id="emailTaskTypeModal" data-bind="if: readyToRender">\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <!-- Header -->\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title">Create Tasks from Emails</h4>\n            </div>\n\n            <!-- Body -->\n            <div class="modal-body">\n\n                <div class="container container-fluid" style="line-height: 275%">\n                    <div class="row bottomMargin5">\n                        <div class="col-md-10">\n                            Tasks can be created automatically from emails sent to <i>MyClaimsHelper</i>.\n                            You can also forward emails you receive from your associates.\n                        </div>\n                    </div>\n                    <div class="row ">\n                        <div class="col-md-10">\n                            <span class="stepBulletPoint">1</span>\n                            Forward or send email to\n                            <a data-bind="attr: {href: \'mailto:\' + Session.getCurrentUserId() + \'@myclaimshelper.com\'}"\n                               target="_blank">\n                                <span data-bind="text: Session.getCurrentUserId() + \'@myclaimshelper.com\'"></span>\n                            </a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-10">\n                            <span class="stepBulletPoint">2</span>\n                            Mention Claim file number or the insurance company file number in the Subject line.\n                            Example:\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-offset-1 col-md-10 topMargin5">\n                            <i><span\n                                    data-bind="text: \'Witness statement \' + (claim().fileNum() || claim().insuranceCompanyFileNum() || \'04-92998\')"/></i>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-10">\n                            <span class="stepBulletPoint">3</span>\n                            You will get a notification in a few seconds!\n                            <img class="topMargin5 boxShadow" src="/img/EmailNotification.png"/><br/>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-10">\n                            <span class="stepBulletPoint" style="visibility: hidden"></span>\n                            The email will appear as a Task under the relevant claim\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div><!-- /.modal -->\n\n';
}),define("app/components/claim/claimVM",["jquery","knockout","KOMap","amplify","underscore","bootbox","model/claim","model/claimEntry","model/contact","model/states","app/utils/ajaxUtils","app/utils/events","app/utils/consts","app/utils/router","app/utils/sessionKeys","app/utils/session","app/components/contact/contactClient","shared/dateUtils","text!app/components/claim/claim.tmpl.html","app/utils/audit"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p,f,m,g,v,b,y){function w(){console.log("Init ClaimVM"),this._=o,this.States=c,this.Consts=d,this.DateUtils=v,this.Router=p,this.Session=m,this.claim=e.observable(this.newEmptyClaim()),this.claimEntries=e.observableArray(),this.sortDir=e.observable("desc"),this.activeTab=e.observable(d.CLAIMS_TAB),this.activeClaimEntryId=e.observable(),this.isPartiallyCollapsed=e.observable(!1),this.readyToRender=e.observable(!1),this.isClaimClosed=e.computed(function(){return this.claim().isClosed()},this),this.screenHeight=e.observable(t(window).height()-215),this.inEditMode=e.observable(!1),this.showStatusForEntryId=e.observable(),this.setupEvListeners()}return w.prototype.newEmptyClaim=function(){var t=new a;t.claimantsAttorneyContact=new l,t.claimantContact=new l,t.insuredAttorneyContact=new l,t.insuredContact=new l,t.insuranceCoContact=new l,t.dateOfLoss=v.startOfToday(),t.dateDue=v.startOfToday(),t.dateReceived=v.startOfToday();var e=i.fromJS(t);return e},w.prototype.setupEvListeners=function(){n.subscribe(h.SHOW_CLAIM,this,this.onShowClaim),n.subscribe(h.NEW_CLAIM,this,this.onNewClaim),n.subscribe(h.SHOW_CLAIM_ENTRY,this,this.onShowClaimEntry),n.subscribe(h.SAVED_CLAIM_ENTRY,this,this.refreshClaimEntriesListing),n.subscribe(h.EXPAND_CLAIM_PANEL,this,function(){this.isPartiallyCollapsed(!1)}),n.subscribe(h.COLLAPSE_CLAIM_PANEL,this,function(){this.isPartiallyCollapsed(!1)}),n.subscribe(h.PARTIALLY_COLlAPSE_CLAIM_PANEL,this,function(){this.isPartiallyCollapsed(!0)}),window.onclick=this.onDismissStatus.bind(this)},w.prototype.onEditModeClick=function(){this.inEditMode(!0)},w.prototype.onCloseClaimClick=function(){console.log("ClaimVM - Closing claim"),this.onClose(!1)},w.prototype.onReOpenClaimClick=function(){console.log("ClaimVM - ReOpen claim"),this.claim().isClosed(!1),this.onSave()},w.prototype.onBillingProfileClick=function(){console.log("ClaimVM - BillingProfile for claim"),this.claim()._id()?this.Router.routeToBillingProfile(this.claim()._id()):n.publish(h.INFO_NOTIFICATION,{msg:"Please save the Claim before modiying Billing rates"})},w.prototype.onShowClaim=function(t){console.log("ClaimVM - SHOW_CLAIM ev"+JSON.stringify(t)),console.assert(t.claimId,"Expecting claim Id on event data"),this.selectClaimTab(),this.claim(this.newEmptyClaim()),this.loadClaim(t.claimId),this.loadEntriesForClaim(t.claimId),this.inEditMode(!1),this.readyToRender(!0)},w.prototype.onNewClaim=function(){console.log("ClaimVM - NEW_CLAIM ev"),this.claim(this.newEmptyClaim()),this.claim().entryDate(new Date),this.claimEntries([]),this.inEditMode(!0),this.selectClaimTab(),this.readyToRender(!0)},w.prototype.onShowClaimEntry=function(t){console.log("ClaimVM - SHOW_CLAIM_ENTRY ev "+JSON.stringify(t)),this.onShowClaim({claimId:t.claimId})},w.prototype.onShowContact=function(t){console.log("ClaimVM - SHOW_CONTACT ev "+JSON.stringify(i.toJS(t))),Boolean(t._id())?n.publish(h.SHOW_CONTACT,{contactId:t._id()}):(this.inEditMode(!0),n.publish(h.INFO_NOTIFICATION,{msg:"Please add contact information"}))},w.prototype.onEntryStatusUpdate=function(t,e,i){console.log("Raise Claim Entry status update Ev. "+e._id),n.publish(h.UPDATE_CLAIM_ENTRY_STATUS,{claimEntryId:e._id,status:t}),i.stopImmediatePropagation(),this.onDismissStatus()},w.prototype.onStatusFocus=function(t,e){this.showStatusForEntryId(t._id),e.stopPropagation()},w.prototype.onDismissStatus=function(t,e){this.showStatusForEntryId(null),e&&e.stopPropagation()},w.prototype.onCancel=function(){this.inEditMode(!1)},w.prototype.onShowClaimTab=function(t,e){this.Router.routeToClaim(this.claim()._id())},w.prototype.selectClaimTab=function(){console.log("Switch to Claim tab"),this.activeTab(d.CLAIMS_TAB)},w.prototype.onClaimEntryClick=function(t,e){this.activeClaimEntryId(t._id),p.routeToClaimEntry(this.claim()._id(),t._id)},w.prototype.onAddContact=function(t){n.publish(h.ADD_CONTACT)},w.prototype.onCloseClaim=function(t){p.routeToHome()},w.prototype.onToggleAtty=function(e){var i=t(e);i.is(":visible")?i.velocity("slideUp",{duration:300}):i.velocity("slideDown",{duration:300})},w.prototype.initTooltipComponent=function(){t('[data-toggle="tooltip"]').tooltip()},w.prototype.showTasksCollapsed=function(){t(window).resize(function(){t(window).width()<768&&n.publish()})},w.prototype.onSortEntries=function(){this.sortDir("desc"===this.sortDir()?"asc":"desc"),this.sortEntries()},w.prototype.sortEntries=function(){function t(t,e){var i=new Date(Date.parse(t.dueDate)),n=new Date(Date.parse(e.dueDate));return i.getTime()-n.getTime()}function e(t,e){var i=new Date(Date.parse(t.dueDate)),n=new Date(Date.parse(e.dueDate));return n.getTime()-i.getTime()}var i=this.claimEntries.removeAll();i.sort("desc"===this.sortDir()?e:t),this.claimEntries(i)},w.prototype.refreshClaimEntriesListing=function(){var t=this.claim()._id();console.log("Refresh entries list. ClaimId "+t),this.loadEntriesForClaim(t)},w.prototype.niceName=function(t){var e=t.name()||"";return e.length>0?e:"None"},w.prototype.onClose=function(e){console.log("Closing Claim: "+i.toJSON(this.claim)),u.post("/claim/close",i.toJSON({claimId:this.claim()._id(),ignoreUnsubmittedBills:e}),function(e){"Success"==e.status?(this.claim().isClosed(!0),this.claim().dateClosed(new Date),n.publish(h.SUCCESS_NOTIFICATION,{msg:"Updated Claim "+this.claim().insuranceCompanyFileNum()}),n.publish(h.SAVED_CLAIM,{claim:i.toJS(this.claim())}),console.log("Closed claim"),this.storeInSession(this.claim()._id(),i.toJS(this.claim())),this.inEditMode(!1)):s.dialog({title:"Claim has an un-submitted bill",message:"Close anyway?",size:"small",buttons:{no:{label:"No",className:"btn-danger",callback:t.noop},yes:{label:"Yes",className:"btn-info",callback:this.onClose.bind(this,!0)}}})}.bind(this))},w.prototype.onSave=function(){console.log("Saving Claim: "+i.toJSON(this.claim)),u.post("/claim",i.toJSON(this.claim),function(t){console.log("Saved claim"),this.claim()._id(t.data._id),this.claim().insuredContact._id(t.data.insuredContactId),this.claim().insuredAttorneyContact._id(t.data.insuredAttorneyContactId),this.claim().claimantContact._id(t.data.claimantContactId),this.claim().claimantsAttorneyContact._id(t.data.claimantsAttorneyContactId),this.claim().insuranceCoContact._id(t.data.insuranceCoContactId),g.updateInSession(i.toJS(this.claim().insuredContact)),g.updateInSession(i.toJS(this.claim().insuredAttorneyContact)),g.updateInSession(i.toJS(this.claim().claimantContact)),g.updateInSession(i.toJS(this.claim().claimantsAttorneyContact)),g.updateInSession(i.toJS(this.claim().insuranceCoContact)),n.publish(h.SUCCESS_NOTIFICATION,{msg:"Updated Claim "+this.claim().insuranceCompanyFileNum()}),n.publish(h.ADDED_CONTACT,i.toJS(this.claim().insuredContact)),n.publish(h.SAVED_CLAIM,{claim:i.toJS(this.claim())}),this.storeInSession(this.claim()._id(),i.toJS(this.claim())),this.inEditMode(!1),y.info("SavedClaim",{_id:this.claim()._id(),fileNum:this.claim().fileNum()})}.bind(this))},w.prototype.loadClaim=function(t){u.getJSON("/claim/"+t).done(function(e){console.log("Loaded claim "+JSON.stringify(e.data).substr(0,100)),i.fromJS(e.data,{},this.claim),this.storeInSession(t,e.data),y.info("ViewClaim",{_id:this.claim()._id(),fileNum:this.claim().fileNum()})}.bind(this))},w.prototype.loadEntriesForClaim=function(t){u.getJSON("/claim/"+t+"/entries").done(function(t){console.log("Loaded claim entries"+JSON.stringify(t.data.length)),this.claimEntries(t.data),this.activeClaimEntryId(null),this.sortEntries()}.bind(this))},w.prototype.storeInSession=function(t,e){n.store.sessionStorage(f.ACTIVE_CLAIM_ID,t),n.store.sessionStorage(f.ACTIVE_CLAIM_OBJ,e),console.log("Stored ClaimId: "+t+" in session storage")},w.prototype.getActiveClaimEntryId=function(){return n.store.sessionStorage(f.ACTIVE_CLAIM_ENTRY_ID)},w}),define("text!app/components/claim/claim.entries.tmpl.html",[],function(){return'<!-- ************************************************ -->\n<!--List Claim Entries -->\n<!-- ************************************************ -->\n\n<!-- Hide completely on xs devices -->\n<div data-bind="ifnot: inEditMode,\n                style: {\'max-height\': screenHeight()+ \'px\'}"\n     class="rightMargin topMargin5 overflowY">\n\n    <table class="table table-hover" id="claimEntriesList">\n        <thead>\n        <tr>\n            <th>&nbsp;</th>\n\n            <!-- ko ifnot: isPartiallyCollapsed -->\n            <th>Attach.</th>\n            <!-- /ko -->\n\n            <th>Tasks</th>\n\n            <!-- ko ifnot: isPartiallyCollapsed -->\n            <th>\n                <a href="#" data-bind="click: onSortEntries.bind($data)">\n                    Due on\n                    <span data-bind="css: {\'glyphicon-sort-by-attributes\': sortDir() == \'asc\',\n                                           \'glyphicon-sort-by-attributes-alt\': sortDir() == \'desc\'}"\n                          class="glyphicon"></span>\n                </a>\n            </th>\n            <th>Status</th>\n            <th class="hidden-xs">Billing</th>\n            <th class="hidden-xs">&nbsp;</th>\n            <!-- /ko -->\n        </tr>\n        </thead>\n\n        <!-- Claim entry row -->\n        <tbody data-bind="foreach: {data: claimEntries, as: \'entry\' }"\n               id="claimEntriesListBody">\n            <tr\n                data-bind="css: {info: $parent.activeClaimEntryId() === entry._id},\n                           click: $parent.onClaimEntryClick.bind($parent),\n                           event: {mouseover: function(){$(\'#claimEntryArrowCell\' + $index()).css(\'font-size\', \'1.2em\');},\n                                   mouseout : function(){$(\'#claimEntryArrowCell\' + $index()).css(\'font-size\', \'1em\');}}">\n                <td style="min-width: 15px">\n                    <!-- Tag -->\n                    <i class="leftMargin"\n                          data-bind="taskEntryTag: entry.tag.toString()"></i>\n                </td>\n\n                <!-- ko ifnot: $parent.isPartiallyCollapsed -->\n                <td>\n                    <span data-bind="if: Number(entry.attachments.length) > 0">\n                        <i class="fa fa-paperclip" style="font-size: 1.4em"></i>\n                    </span>\n                </td>\n                <!-- /ko -->\n\n                <!-- ko if: $parent.isPartiallyCollapsed -->\n                <td>\n                    <span data-bind="text: $parent.DateUtils.niceDate(entry.dueDate)"></span>\n                </td>\n                <!-- /ko -->\n\n                <td style="min-width: 20%;">\n                    <span data-bind="text: entry.summary,\n                                     attr: {id: \'taskEntrySummary\' + $index()}"></span>\n                </td>\n\n                <!-- ko ifnot: $parent.isPartiallyCollapsed -->\n                <td class="rightMargin">\n                    <span data-bind="text: $parent.DateUtils.niceDate(entry.dueDate)"></span>\n                </td>\n                <td>\n                    <!-- Current state -->\n                    <a href="#" data-bind="event: { mouseover: $parent.onStatusFocus.bind($parent)}">\n                        <span class="glyphicon"\n                              data-bind="css: {\'glyphicon-unchecked\': entry.state == undefined || entry.state == $parent.States.None,\n                                               \'glyphicon-inbox\'    : entry.state == $parent.States.TODO,\n                                               \'glyphicon-time\'     : entry.state == $parent.States.Pending,\n                                               \'glyphicon-ok\'       : entry.state == $parent.States.Complete}"></span>\n                    </a>\n\n                    <!-- Pick new State -->\n                    <div style="z-index: 9999; width: 160px; position: absolute " class="list-group"\n                         data-bind="visible: $parent.showStatusForEntryId() == entry._id">\n                        <li class="list-group-item bg-color-blueLight" style="cursor: default">\n                            <span>\n                                Update status to\n                                <span class="pull-right">\n                                    <span class="glyphicon glyphicon-remove"\n                                          style="cursor: pointer"\n                                          data-bind="click: $parent.onDismissStatus.bind($parent)"></span>\n                                </span>\n                            </span>\n                        </li>\n                        <a data-bind="click: $parent.onEntryStatusUpdate.bind($parent, $parent.States.Complete)"\n                           href="#" class="list-group-item">\n                            <span class="glyphicon glyphicon-ok"></span>\n                            <span class="leftMargin">Complete</span>\n                        </a>\n                        <a data-bind="click: $parent.onEntryStatusUpdate.bind($parent, $parent.States.Pending)"\n                           href="#" class="list-group-item">\n                            <span class="glyphicon glyphicon-time"></span>\n                            <span class="leftMargin">Pending</span>\n                        </a>\n                        <a data-bind="click: $parent.onEntryStatusUpdate.bind($parent, $parent.States.TODO)"\n                           class="list-group-item" href="#">\n                            <span class="glyphicon glyphicon-inbox"></span>\n                            <span class="leftMargin">To Do</span>\n                        </a>\n                        <a data-bind="click: $parent.onEntryStatusUpdate.bind($parent, $parent.States.None)"\n                           href="#" class="list-group-item">\n                            <span class="glyphicon glyphicon-unchecked"></span>\n                            <span class="leftMargin">Clear</span>\n                        </a>\n                    </div>\n                </td>\n                <td class="hidden-xs">\n                    <span data-bind="text: entry.billingItem.status"></span>\n                </td>\n                <!-- /ko -->\n                <td class="rightMargin hidden-xs">\n                    <i class="fa fa-angle-right"\n                       data-bind="attr: {id: \'claimEntryArrowCell\' + $index()}"></i>\n                </td>\n            </tr>\n        </tbody>\n\n    </table>\n</div>\n'}),define("text!app/components/claim/claim.editor.tmpl.html",[],function(){return'<!-- ************************************************ -->\n<!-- Claim entry form -->\n<!-- ************************************************ -->\n\n<div class="fadeIn col-md-11 col-sm-11 col-xs-12"\n     data-bind="if: inEditMode,\n                css: { \'panel-body\' : inEditMode()}">\n\n\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label class="col-sm-2 control-label">File num.</label>\n\n            <div class="col-sm-3">\n                <input type="text" class="form-control input-sm"\n                       data-bind="value: claim().fileNum">\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-sm-2 control-label">Description</label>\n\n            <div class="col-sm-6">\n                <textarea style="display: table-cell;"\n                          class="form-control" rows="4" id="claimEntry-textArea"\n                          data-bind="value: claim().description"\n                          placeholder="Note"></textarea>\n            </div>\n        </div>\n\n        <!-- **** Insurance Co **** -->\n        <form class="form-inline">\n            <div class="form-group">\n                <label class="col-sm-2 control-label">Insurance Co.</label>\n\n                <div class="col-sm-3">\n                    <input type="text" class="form-control input-sm"\n                           data-bind="value: claim().insuranceCompanyName"\n                           placeholder="Name"\n                           autocomplete="on">\n                </div>\n                <div class="col-sm-3">\n                    <input type="text" class="form-control input-sm"\n                           data-bind="value: claim().insuranceCompanyFileNum"\n                           placeholder="Claim number"\n                           autocomplete="on">\n                </div>\n            </div>\n        </form>\n\n        <!-- **** Important Dates **** -->\n        <form class="form-horizontal">\n            <form class="form-inline">\n                <div class=""><h5 class="color-dark-grey"></h5></div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Date Received</label>\n\n                    <div class="col-sm-2">\n                        <input type="text" class="form-control input-sm"\n                               data-bind="datetimePicker: {\n                                              datepicker: true,\n                                              timepicker: false,\n                                              dateValue: claim().dateReceived}"/>\n                    </div>\n\n                    <label class="col-sm-1 control-label">Date Due</label>\n\n                    <div class="col-sm-2">\n                        <input type="text" class="form-control input-sm" id="dateDueInput"\n                               data-bind="datetimePicker: {\n                                              datepicker: true,\n                                              timepicker: false,\n                                              dateValue: claim().dateDue}"/>\n                    </div>\n\n                    <label class="col-sm-1 control-label">Date of Loss</label>\n\n                    <div class="col-sm-2">\n                        <input type="text" class="form-control input-sm" id="dateOfLossInput"\n                               data-bind="datetimePicker: {\n                                              datepicker: true,\n                                              timepicker: false,\n                                              dateValue: claim().dateOfLoss}"/>\n                    </div>\n                </div>\n            </form>\n        </form>\n\n        <!-- **** Insured **** -->\n        <form class="form-horizontal">\n            <form class="form-inline">\n                <div class=""><h5 class="color-dark-grey"></h5></div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Insured</label>\n\n                    <div class="col-sm-4" style="display: table-cell">\n                        <contact-component params="contact : claim().insuredContact,\n                                                   idSuffix: \'claim-insuredContact\',\n                                                   isBusinessOptionApplicable: false"></contact-component>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="bottomMargin5">\n                            <a href=""\n                               data-bind="click: onToggleAtty.bind(this, \'#insuredAttorneyContact\')"\n                               class="bottomMargin5"><strong>+</strong> Insured attorney</a>\n                        </div>\n                        <div id="insuredAttorneyContact"\n                             data-bind="style: { display: Number(claim().insuredAttorneyContactId()) > 0 ? \'\' : \'none\'}">\n                            <contact-component params="contact : claim().insuredAttorneyContact,\n                                                   idSuffix: \'claim-insuredAttny\',\n                                                   isBusinessOptionApplicable: true"></contact-component>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </form>\n\n        <!-- **** Claimant **** -->\n        <form class="form-horizontal">\n            <form class="form-inline">\n                <div class=""><h5 class="color-dark-grey"></h5></div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Claimant</label>\n\n                    <div class="col-sm-4" style="display: table-cell">\n                        <contact-component params="contact : claim().claimantContact,\n                                                   idSuffix: \'claim-claimantContact\',\n                                                   isBusinessOptionApplicable: false"></contact-component>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="bottomMargin5">\n                            <a href=""\n                               data-bind="click: onToggleAtty.bind(this, \'#claimantAttorneyContact\')"\n                               class="bottomMargin5"><strong>+</strong> Claimant attorney</a>\n                        </div>\n                        <div id="claimantAttorneyContact"\n                             data-bind="style: { display: Number(claim().claimantsAttorneyContactId()) > 0 ? \'\' : \'none\'}">\n                            <contact-component params="contact : claim().claimantsAttorneyContact,\n                                                       idSuffix: \'claim-claimantAttny\',\n                                                       isBusinessOptionApplicable: true"></contact-component>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </form>\n\n        <!-- **** Insurance co. contact **** -->\n        <form class="form-horizontal">\n            <form class="form-inline">\n                <div class=""><h5 class="color-dark-grey"></h5></div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Insured co. adjuster</label>\n                    <div class="col-sm-4" style="display: table-cell">\n                        <contact-component params="contact : claim().insuranceCoContact,\n                                                   idSuffix: \'claim-insuranceCoContact\',\n                                                   isBusinessOptionApplicable: false"></contact-component>\n                    </div>\n                </div>\n            </form>\n        </form>\n    </form>\n\n    <div class="topMargin"/>\n\n    <!-- **** Save/cancel buttons **** -->\n    <div class="topMargin5 clear">\n        <div class="col-md-offset-9 col-sm-offset-9 col-xs-offset-6">\n            <button type="button" class="btn btn-info" data-bind="click: onSave">Save</button>\n            <button type="button" class="btn btn-default" data-bind="click: onCancel">Cancel</button>\n        </div>\n    </div>\n\n</div>\n'}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("socketio",[],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.io=t()}}(function(){var t;return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,i){function n(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n=o(t),s=n.source,c=n.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(r("ignoring socket cache for %s",s),i=a(s,e)):(l[c]||(r("new io instance for %s",s),l[c]=a(s,e)),i=l[c]),i.socket(n.path)}var o=t("./url"),s=t("socket.io-parser"),a=t("./manager"),r=t("debug")("socket.io-client");e.exports=i=n;var l=i.managers={};i.protocol=s.protocol,i.connect=n,i.Manager=t("./manager"),i.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(t,e,i){function n(t,e){return this instanceof n?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var o=(t("./url"),t("engine.io-client")),s=t("./socket"),a=t("component-emitter"),r=t("socket.io-parser"),l=t("./on"),c=t("component-bind"),u=(t("object-component"),t("debug")("socket.io-client:manager")),h=t("indexof");e.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this):this._reconnectionDelay},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},n.prototype.open=n.prototype.connect=function(t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var e=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var n=l(e,"open",function(){i.onopen(),t&&t()}),s=l(e,"error",function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}i.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var r=setTimeout(function(){u("connect attempt timed out after %d",a),n.destroy(),e.close(),e.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(r)}})}return this.subs.push(n),this.subs.push(s),this},n.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(l(t,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(t,"error",c(this,"onerror"))),this.subs.push(l(t,"close",c(this,"onclose")))},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},n.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new s(this,t),this.nsps[t]=e;var i=this;e.on("connect",function(){~h(i.connected,e)||i.connected.push(e)})}return e},n.prototype.destroy=function(t){var e=h(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},n.prototype.packet=function(t){u("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var i=0;i<t.length;i++)e.engine.write(t[i]);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){u("close"),this.cleanup(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.attempts*this.reconnectionDelay();e=Math.min(e,this.reconnectionDelayMax()),u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.attempts),t.emitAll("reconnecting",t.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(i)}})}},n.prototype.onreconnect=function(){var t=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:36,"object-component":37,"socket.io-parser":40}],4:[function(t,e,i){function n(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}}e.exports=n},{}],5:[function(t,e,i){function n(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=t("socket.io-parser"),s=t("component-emitter"),a=t("to-array"),r=t("./on"),l=t("component-bind"),c=t("debug")("socket.io-client:socket"),u=t("has-binary");e.exports=i=n;var h={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},d=s.prototype.emit;s(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[r(t,"open",l(this,"onopen")),r(t,"packet",l(this,"onpacket")),r(t,"close",l(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},n.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=a(arguments),i=o.EVENT;u(e)&&(i=o.BINARY_EVENT);var n={type:i,data:e};return"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},n.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data);
}},n.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var n=a(arguments);c("sending ack %j",n);var s=u(n)?o.BINARY_ACK:o.ACK;e.packet({type:s,id:t,data:n})}}},n.prototype.onack=function(t){c("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,"socket.io-parser":40,"to-array":44}],6:[function(t,e,i){(function(i){function n(t,e){var n=t,e=e||i.location;return null==t&&(t=e.protocol+"//"+e.hostname),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(s("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),s("parse %s",t),n=o(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/",n.id=n.protocol+"://"+n.host+":"+n.port,n.href=n.protocol+"://"+n.host+(e&&e.port==n.port?"":":"+n.port),n}var o=t("parseuri"),s=t("debug")("socket.io-client:url");e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(t,e,i){var n=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},{}],8:[function(t,e,i){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;o>n;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],9:[function(t,e,i){function n(t){return n.enabled(t)?function(e){e=o(e);var i=new Date,s=i-(n[t]||i);n[t]=i,e=t+" "+e+" +"+n.humanize(s),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(e){}for(var i=(t||"").split(/[\s,]+/),o=i.length,s=0;o>s;s++)t=i[s].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,i=6e4,n=60*i;return t>=n?(t/n).toFixed(1)+"h":t>=i?(t/i).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(var e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(s){}},{}],10:[function(t,e,i){e.exports=t("./lib/")},{"./lib/":11}],11:[function(t,e,i){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(t,e,i){(function(i){function n(t,e){if(!(this instanceof n))return new n(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=u(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:i.location&&"https:"==location.protocol,e.host){var o=e.host.split(":");e.hostname=o.shift(),o.length&&(e.port=o.pop())}this.agent=e.agent||!1,this.hostname=e.hostname||(i.location?location.hostname:"localhost"),this.port=e.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}function o(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var s=t("./transports"),a=t("component-emitter"),r=t("debug")("engine.io-client:socket"),l=t("indexof"),c=t("engine.io-parser"),u=t("parseuri"),h=t("parsejson"),d=t("parseqs");e.exports=n,n.priorWebsocketSuccess=!1,a(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=t("./transport"),n.transports=t("./transports"),n.parser=t("engine.io-parser"),n.prototype.createTransport=function(t){r('creating transport "%s"',t);var e=o(this.query);e.EIO=c.protocol,e.transport=t,this.id&&(e.sid=this.id);var i=new s[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return i},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){r("setting transport %s",t.name);var e=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;h=h||e}h||(r('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!h)if("pong"==e.type&&"probe"==e.data){if(r('probe transport "%s" pong',t),d.upgrading=!0,d.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"==u.name,r('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){h||"closed"!=d.readyState&&(r("changing transport and sending upgrade packet"),c(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())})}else{r('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=u.name,d.emit("upgradeError",i)}}))}function i(){h||(h=!0,c(),u.close(),u=null)}function o(e){var n=new Error("probe error: "+e);n.transport=u.name,i(),r('probe transport "%s" failed because of error: %s',t,e),d.emit("upgradeError",n)}function s(){o("transport closed")}function a(){o("socket closed")}function l(t){u&&t.name!=u.name&&(r('"%s" works - aborting "%s"',t.name,u.name),i())}function c(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",s),d.removeListener("close",a),d.removeListener("upgrading",l)}r('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,d=this;n.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",s),this.once("close",a),this.once("upgrading",l),u.open()},n.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(h(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else r('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){this.sendPacket("ping")},n.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},n.prototype.sendPacket=function(t,e,i){if("closing"!=this.readyState&&"closed"!=this.readyState){var n={type:t,data:e};this.emit("packetCreate",n),this.writeBuffer.push(n),this.callbackBuffer.push(i),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),r("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function i(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}return this},n.prototype.onError=function(t){r("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){r('socket close with reason: "%s"',t);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){i.writeBuffer=[],i.callbackBuffer=[],i.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},n.prototype.filterUpgrades=function(t){for(var e=[],i=0,n=t.length;n>i;i++)~l(this.transports,t[i])&&e.push(t[i]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(t,e,i){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR}var o=t("engine.io-parser"),s=t("component-emitter");e.exports=n,s(n.prototype),n.timestamps=0,n.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(t,e,i){(function(e){function n(t){var i,n=!1,r=!1,l=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!=location.hostname||u!=t.port,r=t.secure!=c}if(t.xdomain=n,t.xscheme=r,i=new o(t),"open"in i&&!t.forceJSONP)return new s(t);if(!l)throw new Error("JSONP disabled");return new a(t)}var o=t("xmlhttprequest"),s=t("./polling-xhr"),a=t("./polling-jsonp"),r=t("./websocket");i.polling=n,i.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(t,e,i){(function(i){function n(){}function o(t){s.call(this,t),this.query=this.query||{},r||(i.___eio||(i.___eio=[]),r=i.___eio),this.index=r.length;var e=this;r.push(function(t){e.onData(t)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=n)})}var s=t("./polling"),a=t("component-inherit");e.exports=o;var r,l=/\n/g,c=/\\n/g;a(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function i(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(t){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,a=document.createElement("form"),r=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),r.name="d",a.appendChild(r),document.body.appendChild(a),this.form=a,this.area=r}this.form.action=this.uri(),n(),t=t.replace(c,"\\\n"),this.area.value=t.replace(l,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(t,e,i){(function(i){function n(){}function o(t){if(l.call(this,t),i.location){var e="https:"==location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!=i.location.hostname||n!=t.port,this.xs=t.secure!=e}}function s(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.create()}function a(){for(var t in s.requests)s.requests.hasOwnProperty(t)&&s.requests[t].abort()}var r=t("xmlhttprequest"),l=t("./polling"),c=t("component-emitter"),u=t("component-inherit"),h=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=s,u(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,new s(t)},o.prototype.doWrite=function(t,e){var i="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:i}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},c(s.prototype),s.prototype.create=function(){var t=this.xhr=new r({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{if(h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){e.onLoad()},t.onerror=function(){e.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?e.onLoad():setTimeout(function(){e.onError(t.status)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(n){return void setTimeout(function(){e.onError(n)},0)}i.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},s.prototype.onError=function(t){this.emit("error",t),this.cleanup()},s.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n;try{this.xhr.abort()}catch(t){}i.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},s.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},i.document&&(s.requestsCount=0,s.requests={},i.attachEvent?i.attachEvent("onunload",a):i.addEventListener&&i.addEventListener("beforeunload",a))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(t,e,i){function n(t){var e=t&&t.forceBase64;(!c||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),s=t("parseqs"),a=t("engine.io-parser"),r=t("component-inherit"),l=t("debug")("engine.io-client:polling");e.exports=n;var c=function(){var e=t("xmlhttprequest"),i=new e({xdomain:!1});return null!=i.responseType}();r(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){l("paused"),i.readyState="paused",t()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||e()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;l("polling got data %s",t);var i=function(t,i,n){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,i),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")},e=this;a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,i)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=s.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(i=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+i+this.path+t}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(t,e,i){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),s=t("engine.io-parser"),a=t("parseqs"),r=t("component-inherit"),l=t("debug")("engine.io-client:websocket"),c=t("ws");e.exports=n,r(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,i={agent:this.agent};this.ws=new c(t,e,i),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),n.prototype.write=function(t){function e(){i.writable=!0,i.emit("drain")}var i=this;this.writable=!1;for(var n=0,o=t.length;o>n;n++)s.encodePacket(t[n],this.supportsBinary,function(t){try{i.ws.send(t)}catch(e){l("websocket closed before onclose event")}});setTimeout(e,0)},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+i+this.path+t},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(t,e,i){var n=t("has-cors");e.exports=function(t){var e=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(s){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},{"has-cors":34}],20:[function(t,e,i){e.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],21:[function(t,e,i){(function(e){function n(t,e,n){if(!e)return i.encodeBase64Packet(t,n);var o=t.data,s=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=p[t.type];for(var r=0;r<s.length;r++)a[r+1]=s[r];return n(a.buffer)}function o(t,e,n){if(!e)return i.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,i.encodePacket(t,e,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,e,n){if(!e)return i.encodeBase64Packet(t,n);if(d)return o(t,e,n);var s=new Uint8Array(1);s[0]=p[t.type];var a=new g([s.buffer,t.data]);return n(a)}function a(t,e,i){for(var n=new Array(t.length),o=u(t.length,i),s=function(t,i,o){e(i,function(e,i){n[t]=i,o(e,n)})},a=0;a<t.length;a++)s(a,t[a],o)}var r=t("./keys"),l=t("arraybuffer.slice"),c=t("base64-arraybuffer"),u=t("after"),h=t("utf8"),d=navigator.userAgent.match(/Android/i);i.protocol=3;var p=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=r(p),m={type:"error",data:"parser error"},g=t("blob");i.encodePacket=function(t,i,o,a){"function"==typeof i&&(a=i,i=!1),"function"==typeof o&&(a=o,o=null);var r=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&r instanceof ArrayBuffer)return n(t,i,a);if(g&&r instanceof e.Blob)return s(t,i,a);var l=p[t.type];return void 0!==t.data&&(l+=o?h.encode(String(t.data)):String(t.data)),a(""+l)},i.encodeBase64Packet=function(t,n){var o="b"+i.packets[t.type];if(g&&t.data instanceof g){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(o+t)},s.readAsDataURL(t.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(r){for(var l=new Uint8Array(t.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];a=String.fromCharCode.apply(null,c)}return o+=e.btoa(a),n(o)},i.decodePacket=function(t,e,n){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return i.decodeBase64Packet(t.substr(1),e);if(n)try{t=h.decode(t)}catch(o){return m}var s=t.charAt(0);return Number(s)==s&&f[s]?t.length>1?{type:f[s],data:t.substring(1)}:{type:f[s]}:m}var a=new Uint8Array(t),s=a[0],r=l(t,1);return g&&"blob"===e&&(r=new g([r])),{type:f[s],data:r}},i.decodeBase64Packet=function(t,i){var n=f[t.charAt(0)];if(!e.ArrayBuffer)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=c.decode(t.substr(1));return"blob"===i&&g&&(o=new g([o])),{type:n,data:o}},i.encodePayload=function(t,e,n){function o(t){return t.length+":"+t}function s(t,n){i.encodePacket(t,e,!0,function(t){n(null,o(t))})}return"function"==typeof e&&(n=e,e=null),e?g&&!d?i.encodePayloadAsBlob(t,n):i.encodePayloadAsArrayBuffer(t,n):t.length?void a(t,s,function(t,e){return n(e.join(""))}):n("0:")},i.decodePayload=function(t,e,n){if("string"!=typeof t)return i.decodePayloadAsBinary(t,e,n);"function"==typeof e&&(n=e,e=null);var o;if(""==t)return n(m,0,1);for(var s,a,r="",l=0,c=t.length;c>l;l++){var u=t.charAt(l);if(":"!=u)r+=u;else{if(""==r||r!=(s=Number(r)))return n(m,0,1);if(a=t.substr(l+1,s),r!=a.length)return n(m,0,1);if(a.length){if(o=i.decodePacket(a,e,!0),m.type==o.type&&m.data==o.data)return n(m,0,1);var h=n(o,l+s,c);if(!1===h)return}l+=s,r=""}}return""!=r?n(m,0,1):void 0},i.encodePayloadAsArrayBuffer=function(t,e){function n(t,e){i.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void a(t,n,function(t,i){var n=i.reduce(function(t,e){var i;return i="string"==typeof e?e.length:e.byteLength,t+i.toString().length+i+2},0),o=new Uint8Array(n),s=0;return i.forEach(function(t){var e="string"==typeof t,i=t;if(e){for(var n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);i=n.buffer}e?o[s++]=0:o[s++]=1;for(var r=i.byteLength.toString(),a=0;a<r.length;a++)o[s++]=parseInt(r[a]);o[s++]=255;for(var n=new Uint8Array(i),a=0;a<n.length;a++)o[s++]=n[a]}),e(o.buffer)}):e(new ArrayBuffer(0))},i.encodePayloadAsBlob=function(t,e){function n(t,e){i.encodePacket(t,!0,!0,function(t){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,i[0]=0}for(var s=t instanceof ArrayBuffer?t.byteLength:t.size,a=s.toString(),r=new Uint8Array(a.length+1),o=0;o<a.length;o++)r[o]=parseInt(a[o]);if(r[a.length]=255,g){var l=new g([i.buffer,r.buffer,t]);e(null,l)}})}a(t,n,function(t,i){return e(new g(i))})},i.decodePayloadAsBinary=function(t,e,n){"function"==typeof e&&(n=e,e=null);for(var o=t,s=[],a=!1;o.byteLength>0;){for(var r=new Uint8Array(o),c=0===r[0],u="",h=1;255!=r[h];h++){if(u.length>310){a=!0;break}u+=r[h]}if(a)return n(m,0,1);o=l(o,2+u.length),u=parseInt(u);var d=l(o,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(p){var f=new Uint8Array(d);d="";for(var h=0;h<f.length;h++)d+=String.fromCharCode(f[h])}s.push(d),o=l(o,u)}var g=s.length;s.forEach(function(t,o){n(i.decodePacket(t,e,!0),o,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(t,e,i){e.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var n in t)i.call(t,n)&&e.push(n);return e}},{}],23:[function(t,e,i){function n(t,e,i){function n(t,o){if(n.count<=0)throw new Error("after called too many times");--n.count,t?(s=!0,e(t),e=i):0!==n.count||s||e(null,o)}var s=!1;return i=i||o,n.count=t,0===t?e():n}function o(){}e.exports=n},{}],24:[function(t,e,i){e.exports=function(t,e,i){var n=t.byteLength;if(e=e||0,i=i||n,t.slice)return t.slice(e,i);if(0>e&&(e+=n),0>i&&(i+=n),i>n&&(i=n),e>=n||e>=i||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),s=new Uint8Array(i-e),a=e,r=0;i>a;a++,r++)s[r]=o[a];return s.buffer}},{}],25:[function(t,e,i){!function(t){"use strict";i.encode=function(e){var i,n=new Uint8Array(e),o=n.length,s="";for(i=0;o>i;i+=3)s+=t[n[i]>>2],s+=t[(3&n[i])<<4|n[i+1]>>4],s+=t[(15&n[i+1])<<2|n[i+2]>>6],s+=t[63&n[i+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},i.decode=function(e){var i,n,o,s,a,r=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var u=new ArrayBuffer(r),h=new Uint8Array(u);for(i=0;l>i;i+=4)n=t.indexOf(e[i]),o=t.indexOf(e[i+1]),s=t.indexOf(e[i+2]),a=t.indexOf(e[i+3]),h[c++]=n<<2|o>>4,h[c++]=(15&o)<<4|s>>2,
h[c++]=(3&s)<<6|63&a;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(t,e,i){(function(t){function i(t,e){e=e||{};for(var i=new n,o=0;o<t.length;o++)i.append(t[o]);return e.type?i.getBlob(e.type):i.getBlob()}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),s=n&&n.prototype.append&&n.prototype.getBlob;e.exports=function(){return o?t.Blob:s?i:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,i,n){(function(e){!function(o){function s(t){for(var e,i,n=[],o=0,s=t.length;s>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&s>o?(i=t.charCodeAt(o++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,i=t.length,n=-1,o="";++n<i;)e=t[n],e>65535&&(e-=65536,o+=y(e>>>10&1023|55296),e=56320|1023&e),o+=y(e);return o}function r(t,e){return y(t>>e&63|128)}function l(t){if(0==(4294967168&t))return y(t);var e="";return 0==(4294965248&t)?e=y(t>>6&31|192):0==(4294901760&t)?(e=y(t>>12&15|224),e+=r(t,6)):0==(4292870144&t)&&(e=y(t>>18&7|240),e+=r(t,12),e+=r(t,6)),e+=y(63&t|128)}function c(t){for(var e,i=s(t),n=i.length,o=-1,a="";++o<n;)e=i[o],a+=l(e);return a}function u(){if(b>=v)throw Error("Invalid byte index");var t=255&g[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(){var t,e,i,n,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(t=255&g[b],b++,0==(128&t))return t;if(192==(224&t)){var e=u();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=u(),i=u(),o=(15&t)<<12|e<<6|i,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=u(),i=u(),n=u(),o=(15&t)<<18|e<<12|i<<6|n,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function d(t){g=s(t),v=g.length,b=0;for(var e,i=[];(e=h())!==!1;)i.push(e);return a(i)}var p="object"==typeof n&&n,f="object"==typeof i&&i&&i.exports==p&&i,m="object"==typeof e&&e;(m.global===m||m.window===m)&&(o=m);var g,v,b,y=String.fromCharCode,w={version:"2.0.0",encode:c,decode:d};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return w});else if(p&&!p.nodeType)if(f)f.exports=w;else{var x={},C=x.hasOwnProperty;for(var _ in w)C.call(w,_)&&(p[_]=w[_])}else o.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){(function(t){var i=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,r=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(r,""),t.JSON&&JSON.parse?JSON.parse(e):i.test(e.replace(n,"@").replace(o,"]").replace(s,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,i){i.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},i.decode=function(t){for(var e={},i=t.split("&"),n=0,o=i.length;o>n;n++){var s=i[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},{}],30:[function(t,e,i){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,i=t.indexOf("["),s=t.indexOf("]");-1!=i&&-1!=s&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));for(var a=n.exec(t||""),r={},l=14;l--;)r[o[l]]=a[l]||"";return-1!=i&&-1!=s&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],31:[function(t,e,i){function n(t,e,i){var n;return n=e?new s(t,e):new s(t)}var o=function(){return this}(),s=o.WebSocket||o.MozWebSocket;e.exports=s?n:null,s&&(n.prototype=s.prototype)},{}],32:[function(t,e,i){(function(i){function n(t){function e(t){if(!t)return!1;if(i.Buffer&&i.Buffer.isBuffer(t)||i.ArrayBuffer&&t instanceof ArrayBuffer||i.Blob&&t instanceof Blob||i.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(e(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var s in t)if(t.hasOwnProperty(s)&&e(t[s]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(t,e,i){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],34:[function(t,e,i){var n=t("global");try{e.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(o){e.exports=!1}},{global:35}],35:[function(t,e,i){e.exports=function(){return this}()},{}],36:[function(t,e,i){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],37:[function(t,e,i){var n=Object.prototype.hasOwnProperty;i.keys=Object.keys||function(t){var e=[];for(var i in t)n.call(t,i)&&e.push(i);return e},i.values=function(t){var e=[];for(var i in t)n.call(t,i)&&e.push(t[i]);return e},i.merge=function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t},i.length=function(t){return i.keys(t).length},i.isEmpty=function(t){return 0==i.length(t)}},{}],38:[function(t,e,i){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=n.exec(t||""),i={},s=14;s--;)i[o[s]]=e[s]||"";return i}},{}],39:[function(t,e,i){(function(e){var n=t("isarray"),o=t("./is-buffer");i.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var s={_placeholder:!0,num:i.length};return i.push(t),s}if(n(t)){for(var a=new Array(t.length),r=0;r<t.length;r++)a[r]=e(t[r]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var l in t)a[l]=e(t[l]);return a}return t}var i=[],s=t.data,a=t;return a.data=e(s),a.attachments=i.length,{packet:a,buffers:i}},i.reconstructPacket=function(t,e){function i(t){if(t&&t._placeholder){var o=e[t.num];return o}if(n(t)){for(var s=0;s<t.length;s++)t[s]=i(t[s]);return t}if(t&&"object"==typeof t){for(var a in t)t[a]=i(t[a]);return t}return t}return t.data=i(t.data),t.attachments=void 0,t},i.removeBlobs=function(t,i){function s(t,l,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:r=this.result,--a||i(r)},u.readAsArrayBuffer(t)}else if(n(t))for(var h=0;h<t.length;h++)s(t[h],h,t);else if(t&&"object"==typeof t&&!o(t))for(var d in t)s(t[d],d,t)}var a=0,r=t;s(r),a||i(r)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(t,e,i){function n(){}function o(t){var e="",n=!1;return e+=t.type,(i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,e+=t.nsp),null!=t.id&&(n&&(e+=",",n=!1),e+=t.id),null!=t.data&&(n&&(e+=","),e+=h.stringify(t.data)),u("encoded %j as %s",t,e),e}function s(t,e){function i(t){var i=p.deconstructPacket(t),n=o(i.packet),s=i.buffers;s.unshift(n),e(s)}p.removeBlobs(t,i)}function a(){this.reconstructor=null}function r(t){var e={},n=0;if(e.type=Number(t.charAt(0)),null==i.types[e.type])return c();if(i.BINARY_EVENT==e.type||i.BINARY_ACK==e.type){for(e.attachments="";"-"!=t.charAt(++n);)e.attachments+=t.charAt(n);e.attachments=Number(e.attachments)}if("/"==t.charAt(n+1))for(e.nsp="";++n;){var o=t.charAt(n);if(","==o)break;if(e.nsp+=o,n+1==t.length)break}else e.nsp="/";var s=t.charAt(n+1);if(""!=s&&Number(s)==s){for(e.id="";++n;){var o=t.charAt(n);if(null==o||Number(o)!=o){--n;break}if(e.id+=t.charAt(n),n+1==t.length)break}e.id=Number(e.id)}if(t.charAt(++n))try{e.data=h.parse(t.substr(n))}catch(a){return c()}return u("decoded %s as %j",t,e),e}function l(t){this.reconPack=t,this.buffers=[]}function c(t){return{type:i.ERROR,data:"parser error"}}var u=t("debug")("socket.io-parser"),h=t("json3"),d=(t("isarray"),t("component-emitter")),p=t("./binary"),f=t("./is-buffer");i.protocol=4,i.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],i.CONNECT=0,i.DISCONNECT=1,i.EVENT=2,i.ACK=3,i.ERROR=4,i.BINARY_EVENT=5,i.BINARY_ACK=6,i.Encoder=n,i.Decoder=a,n.prototype.encode=function(t,e){if(u("encoding packet %j",t),i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type)s(t,e);else{var n=o(t);e([n])}},d(a.prototype),a.prototype.add=function(t){var e;if("string"==typeof t)e=r(t),i.BINARY_EVENT==e.type||i.BINARY_ACK==e.type?(this.reconstructor=new l(e),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!f(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(t,e,i){(function(t){function i(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(t,e,i){e.exports=t(33)},{}],43:[function(e,i,n){!function(e){function i(t){if(i[t]!==a)return i[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=i("json-stringify")&&i("json-parse");else{var n,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var s=u.stringify,l="function"==typeof s&&h;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(r)===a&&s(a)===a&&s()===a&&"1"===s(n)&&"[1]"==s([n])&&"[null]"==s([a])&&"null"==s(null)&&"[null,null,null]"==s([a,r,null])&&s({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===s(null,n)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new Date(-1))}catch(c){l=!1}}e=l}if("json-parse"==t){var d=u.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(o);var p=5==n.a.length&&1===n.a[0];if(p){try{p=!d('"	"')}catch(c){}if(p)try{p=1!==d("01")}catch(c){}if(p)try{p=1!==d("1.")}catch(c){}}}}catch(c){p=!1}e=p}}return i[t]=!!e}var o,s,a,r={}.toString,l="function"==typeof t&&t.amd,c="object"==typeof JSON&&JSON,u="object"==typeof n&&n&&!n.nodeType&&n;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=e.JSON=c||{};var h=new Date(-0xc782b5b800cec);try{h=-109252==h.getUTCFullYear()&&0===h.getUTCMonth()&&1===h.getUTCDate()&&10==h.getUTCHours()&&37==h.getUTCMinutes()&&6==h.getUTCSeconds()&&708==h.getUTCMilliseconds()}catch(d){}if(!i("json")){var p="[object Function]",f="[object Date]",m="[object Number]",g="[object String]",v="[object Array]",b="[object Boolean]",y=i("bug-string-char-index");if(!h)var w=Math.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(t,e){return x[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)};(o={}.hasOwnProperty)||(o=function(t){var e,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=r?o=function(t){var e=this.__proto__,i=t in(this.__proto__=null,this);return this.__proto__=e,i}:(e=i.constructor,o=function(t){var i=(this.constructor||e).prototype;return t in this&&!(t in i&&this[t]===i[t])}),i=null,o.call(this,t)});var _={"boolean":1,number:1,string:1,undefined:1},k=function(t,e){var i=typeof t[e];return"object"==i?!!t[e]:!_[i]};if(s=function(t,e){var i,n,a,l=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,n=new i;for(a in n)o.call(n,a)&&l++;return i=n=null,l?s=2==l?function(t,e){var i,n={},s=r.call(t)==p;for(i in t)s&&"prototype"==i||o.call(n,i)||!(n[i]=1)||!o.call(t,i)||e(i)}:function(t,e){var i,n,s=r.call(t)==p;for(i in t)s&&"prototype"==i||!o.call(t,i)||(n="constructor"===i)||e(i);(n||o.call(t,i="constructor"))&&e(i)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(t,e){var i,s,a=r.call(t)==p,l=!a&&"function"!=typeof t.constructor&&k(t,"hasOwnProperty")?t.hasOwnProperty:o;for(i in t)a&&"prototype"==i||!l.call(t,i)||e(i);for(s=n.length;i=n[--s];l.call(t,i)&&e(i));}),s(t,e)},!i("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",D=function(t,e){return(T+(e||0)).slice(-t)},A="\\u00",I=function(t){var e,i='"',n=0,o=t.length,s=o>10&&y;for(s&&(e=t.split(""));o>n;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:i+=S[a];break;default:if(32>a){i+=A+D(2,a.toString(16));break}i+=s?e[n]:y?t.charAt(n):t[n]}}return i+'"'},E=function(t,e,i,n,l,c,u){var h,d,p,y,x,_,k,S,T,A,O,P,M,N,L,R;try{h=e[t]}catch($){}if("object"==typeof h&&h)if(d=r.call(h),d!=f||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(d!=m&&d!=g&&d!=v||o.call(h,"toJSON"))&&(h=h.toJSON(t));else if(h>-1/0&&1/0>h){if(C){for(x=w(h/864e5),p=w(x/365.2425)+1970-1;C(p+1,0)<=x;p++);for(y=w((x-C(p,0))/30.42);C(p,y+1)<=x;y++);x=1+x-C(p,y),_=(h%864e5+864e5)%864e5,k=w(_/36e5)%24,S=w(_/6e4)%60,T=w(_/1e3)%60,A=_%1e3}else p=h.getUTCFullYear(),y=h.getUTCMonth(),x=h.getUTCDate(),k=h.getUTCHours(),S=h.getUTCMinutes(),T=h.getUTCSeconds(),A=h.getUTCMilliseconds();h=(0>=p||p>=1e4?(0>p?"-":"+")+D(6,0>p?-p:p):D(4,p))+"-"+D(2,y+1)+"-"+D(2,x)+"T"+D(2,k)+":"+D(2,S)+":"+D(2,T)+"."+D(3,A)+"Z"}else h=null;if(i&&(h=i.call(e,t,h)),null===h)return"null";if(d=r.call(h),d==b)return""+h;if(d==m)return h>-1/0&&1/0>h?""+h:"null";if(d==g)return I(""+h);if("object"==typeof h){for(N=u.length;N--;)if(u[N]===h)throw TypeError();if(u.push(h),O=[],L=c,c+=l,d==v){for(M=0,N=h.length;N>M;M++)P=E(M,h,i,n,l,c,u),O.push(P===a?"null":P);R=O.length?l?"[\n"+c+O.join(",\n"+c)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else s(n||h,function(t){var e=E(t,h,i,n,l,c,u);e!==a&&O.push(I(t)+":"+(l?" ":"")+e)}),R=O.length?l?"{\n"+c+O.join(",\n"+c)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return u.pop(),R}};u.stringify=function(t,e,i){var n,o,s,a;if("function"==typeof e||"object"==typeof e&&e)if((a=r.call(e))==p)o=e;else if(a==v){s={};for(var l,c=0,u=e.length;u>c;l=e[c++],a=r.call(l),(a==g||a==m)&&(s[l]=1));}if(i)if((a=r.call(i))==m){if((i-=i%1)>0)for(n="",i>10&&(i=10);n.length<i;n+=" ");}else a==g&&(n=i.length<=10?i:i.slice(0,10));return E("",(l={},l[""]=t,l),o,s,n,"",[])}}if(!i("json-parse")){var O,P,M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},L=function(){throw O=P=null,SyntaxError()},R=function(){for(var t,e,i,n,o,s=P,a=s.length;a>O;)switch(o=s.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=y?s.charAt(O):s[O],O++,t;case 34:for(t="@",O++;a>O;)if(o=s.charCodeAt(O),32>o)L();else if(92==o)switch(o=s.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=N[o],O++;break;case 117:for(e=++O,i=O+4;i>O;O++)o=s.charCodeAt(O),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||L();t+=M("0x"+s.slice(e,O));break;default:L()}else{if(34==o)break;for(o=s.charCodeAt(O),e=O;o>=32&&92!=o&&34!=o;)o=s.charCodeAt(++O);t+=s.slice(e,O)}if(34==s.charCodeAt(O))return O++,t;L();default:if(e=O,45==o&&(n=!0,o=s.charCodeAt(++O)),o>=48&&57>=o){for(48==o&&(o=s.charCodeAt(O+1),o>=48&&57>=o)&&L(),n=!1;a>O&&(o=s.charCodeAt(O),o>=48&&57>=o);O++);if(46==s.charCodeAt(O)){for(i=++O;a>i&&(o=s.charCodeAt(i),o>=48&&57>=o);i++);i==O&&L(),O=i}if(o=s.charCodeAt(O),101==o||69==o){for(o=s.charCodeAt(++O),(43==o||45==o)&&O++,i=O;a>i&&(o=s.charCodeAt(i),o>=48&&57>=o);i++);i==O&&L(),O=i}return+s.slice(e,O)}if(n&&L(),"true"==s.slice(O,O+4))return O+=4,!0;if("false"==s.slice(O,O+5))return O+=5,!1;if("null"==s.slice(O,O+4))return O+=4,null;L()}return"$"},$=function(t){var e,i;if("$"==t&&L(),"string"==typeof t){if("@"==(y?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=R(),"]"!=t;i||(i=!0))i&&(","==t?(t=R(),"]"==t&&L()):L()),","==t&&L(),e.push($(t));return e}if("{"==t){for(e={};t=R(),"}"!=t;i||(i=!0))i&&(","==t?(t=R(),"}"==t&&L()):L()),(","==t||"string"!=typeof t||"@"!=(y?t.charAt(0):t[0])||":"!=R())&&L(),e[t.slice(1)]=$(R());return e}L()}return t},F=function(t,e,i){var n=B(t,e,i);n===a?delete t[e]:t[e]=n},B=function(t,e,i){var n,o=t[e];if("object"==typeof o&&o)if(r.call(o)==v)for(n=o.length;n--;)F(o,n,i);else s(o,function(t){F(o,t,i)});return i.call(t,e,o)};u.parse=function(t,e){var i,n;return O=0,P=""+t,i=$(R()),"$"!=R()&&L(),O=P=null,e&&r.call(e)==p?B((n={},n[""]=i,n),"",e):i}}}l&&t(function(){return u})}(this)},{}],44:[function(t,e,i){function n(t,e){var i=[];e=e||0;for(var n=e||0;n<t.length;n++)i[n-e]=t[n];return i}e.exports=n},{}]},{},[1])(1)}),define("shared/consts",[],function(){return{Events:{NOTIFICATION:"Notification"},NotificationType:{INFO:"Info",ERROR:"danger"},NotificationName:{NEW_MSG:"NewMsg",UNREAD_COUNT:"UnreadMsgCount"}}}),define("text!app/components/admin/admin.tmpl.html",[],function(){return'<div data-bind="if: readyToRender"\n     class="notification modal fade" id="msgs-modal" tabindex="-1" role="dialog"\n     aria-labelledby="msgModalTitle"\n     aria-hidden="true"\n     style="top: 40px; margin: auto">\n\n    <div class="modal-dialog demo-modal">\n        <div class="modal-content">\n            <div class="notification modal-header"\n                 id="msgs-modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                    ×\n                </button>\n                <h4 class="modal-title" id="msgModalTitle"></h4>\n            </div>\n            <div class="modal-body" id="msgs-modal-body">\n                <ul class="notification list-group">\n                    <!-- ko foreach: msgs() -->\n                        <li class="notification list-group-item">\n\n                            <!-- ko if: $data.type == $parent.ServerConsts.NotificationType.ERROR -->\n                            <i class="notification fa fa-icon-warning-sign"\n                               data-bind="if: "></i>\n                            <!-- /ko -->\n\n                            <!-- ko if: $data.type == $parent.ServerConsts.NotificationType.INFO -->\n                            <i class="notification fa fa-check-circle"></i>\n                            <!-- /ko -->\n\n                            <span data-bind="html: $data.body,\n                                             css: \'list-group-item-\' + $data.type,\n                                             click: $parent.closeModal"></span>\n                        </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n            <div class="notification modal-footer">\n                <button type="button" class="btn btn-default btn-link" data-bind="click: onMarkAllAsRead">\n                    MARK AS READ\n                </button>\n                <button type="button" class="btn btn-default btn-link" data-dismiss="modal">\n                    CLOSE\n                </button>\n                <button type="button" class="btn btn-primary btn-link" data-bind="click: onServerBroadcast">\n                    BROADCAST\n                </button>\n\n            </div>\n        </div>\n        <!-- /.modal-content -->\n    </div>\n    <!-- /.modal-dialog -->\n</div>'}),define("app/components/admin/adminComponent",["jquery","knockout","amplify","app/utils/events","app/utils/ajaxUtils","socketio","app/utils/session","shared/consts","text!app/components/admin/admin.tmpl.html"],function(t,e,i,n,o,s,a,r,l){"use strict";function c(t){console.log("Init AdminVM"),this.msgs=e.observableArray([]),this.ServerConsts=r,this.readyToRender=e.observable(!1),i.subscribe(n.SHOW_MSGS,this,this.onShowMsgs);var o=this;setTimeout(function(){var t=window.location.protocol+"//"+window.location.hostname;u=s.connect(t),u.on("connect",function(){console.log("WS connected")}),u.on(a.getCurrentUserId(),function(t){console.log("WS broadcast: "+JSON.stringify(t)),"UnreadMsgCount"==t.name&&(document.getElementById("msgAlertAudio").play(),i.publish(n.UPDATE_UNREAD_MSGS_COUNT,t.body)),"NewMsg"==t.name&&(o.msgs.push(t),i.publish(n.SAVED_CLAIM_ENTRY,{}))}),u.emit("joinRoom",a.getCurrentUserId()),o.getUnreadMsgCount()},5e3)}var u;return c.prototype.closeModal=function(){return t("#msgs-modal").modal("hide"),!0},c.prototype.onMarkAllAsRead=function(){var t=this,e=this.msgs().length;o.post("/notification/markAllAsRead",JSON.stringify({ids:[]}),function(o){console.log("Marked as read"),i.publish(n.SHOW_MSGS),t.getUnreadMsgCount(),i.publish(n.SUCCESS_NOTIFICATION,{msg:"Marked "+e+" msgs as read"}),t.closeModal()})},c.prototype.getUnreadMsgCount=function(){o.getJSON("notification/unreadMsgCount").done(function(t){console.log("Unread msg count: "+t),i.publish(n.UPDATE_UNREAD_MSGS_COUNT,t.data)}.bind(this))},c.prototype.onServerBroadcast=function(){o.post("/notification/broadcast",JSON.stringify({msg:'Email processed. mailEntry.mail.subject <a href="#/claimEntry/">Goto task</a>'}),function(t){console.log("Requested server broadcast")})},c.prototype.onShowMsgs=function(){this.readyToRender(!0),t("#msgs-modal").modal("show"),o.getJSON("notification/unreadMsgs").done(function(t){console.log("Loaded unread msgs: "+JSON.stringify(t)),this.msgs(t.data)}.bind(this))},{viewModel:c,template:l}}),define("model/bill",["./billingStatus"],function(t){function e(){this._id=void 0,this.claimId=void 0,this.creationDate=void 0,this.submissionDate=void 0,this.paidDate=void 0,this.description=void 0,this.billRecipient=void 0,this.preTaxTotal=void 0,this.taxRate=void 0,this.tax=void 0,this.total=void 0,this.totalTime=0,this.totalMileage=0,this.totalExpenseAmount=0,this.totalTimeInDollars=0,this.totalMileageInDollars=0,this.status=t.NOT_SUBMITTED}return e}),define("text!app/components/billing/billing.tmpl.html",[],function(){return'<div data-bind="if: readyToRender">\n    <!-- **** Billing overview **** -->\n    <div data-bind="template: {name: \'app/components/billing/billing.list\',\n                               if: mode() === Consts.BILLING_TAB_HISTORY_MODE}"></div>\n\n    <!-- **** Create/View Bill **** -->\n    <div data-bind="template: {name: \'app/components/billing/billing.create\',\n                               ifnot: mode() === Consts.BILLING_TAB_HISTORY_MODE,\n                               afterRender: afterBillingCreateRender}"></div>\n</div>'}),define("text!app/components/billing/billing.print.tmpl.html",[],function(){return'<table style="border: solid #000000 1px; width: 100%">\n    <tbody class="print1 invoice-body">\n    <tr>\n        <th>Date</th>\n        <th>Code</th>\n        <th>Activity Description</th>\n        <th>Mileage</th>\n        <th>Time</th>\n        <th>Expense Type</th>\n        <th>Expense Amount</th>\n    </tr>\n\n    <!-- ko foreach: { data: groupedByCode, as: \'billingItem\' } -->\n    <tr>\n        <td data-bind="text: $parent.DateUtils.niceLocaleDate(new Date(billingItem.entryDate))" style="width: 90px"></td>\n        <td data-bind="text: billingItem.code"></td>\n        <td data-bind="text: billingItem.summary"></td>\n        <td data-bind="text: $parent.NumberUtils.nice(billingItem.mileage)"></td>\n        <td data-bind="text: $parent.NumberUtils.nice(billingItem.time)"></td>\n        <td data-bind="text: $parent.ObjectUtils.capitalize(billingItem.tag)"></td>\n        <td data-bind="text: $parent.NumberUtils.niceCCY(billingItem.expenseAmount)"></td>\n    </tr>\n    <!-- /ko -->\n\n    <tr>\n        <td colspan="2"></td>\n        <td>\n            <strong>Total Hours:</strong>\n            <span data-bind="text: NumberUtils.nice(bill().totalTime()) + \' hrs x \'"></span>\n            <span data-bind="text: \'$\' + Number(billingProfile.timeRate) + \'/hr = \'"></span>\n            <span data-bind="text: NumberUtils.niceCCY(bill().totalTimeInDollars())"></span>\n        </td>\n        <td colspan="4"></td>\n    </tr>\n    <tr>\n        <td colspan="2"></td>\n        <td>\n            <strong>Total Mileage:</strong>\n            <span data-bind="text: NumberUtils.nice(bill().totalMileage()) + \' Miles x \'"></span>\n            <span data-bind="text: \'$\' + Number(billingProfile.distanceRate) + \'/mile = \'"></span>\n            <span data-bind="text: NumberUtils.niceCCY(bill().totalMileageInDollars())"></span>\n        </td>\n        <td colspan="4"></td>\n    </tr>\n    <tr>\n        <td colspan="2"></td>\n        <td>\n            <strong>Total Expenses:</strong>\n            <span data-bind="text: NumberUtils.niceCCY(bill().totalExpenseAmount())"></span>\n        </td>\n        <td colspan="4"></td>\n    </tr>\n    <tr>\n        <td colspan="2"></td>\n        <td>\n            <strong>Total:</strong>\n            <span data-bind="text: NumberUtils.niceCCY(bill().total())"></span>\n        </td>\n        <td colspan="4"></td>\n    </tr>\n    <tr>\n        <td colspan="3"><strong>Insured: </strong><span data-bind="text: activeClaim.insuredContact ? activeClaim.insuredContact.name : \'None\'"/></td>\n        <td colspan="4"><strong>Date of loss: </strong><span data-bind="text: DateUtils.niceLocaleDate(activeClaim.dateOfLoss, false)"/></td>\n    </tr>\n    <tr>\n        <td colspan="3"><strong>Clmnt: </strong><span data-bind="text: activeClaim.claimantContact ? activeClaim.claimantContact.name : \'None\'"/></td>\n        <td colspan="4"><strong>Adjuster: </strong><span data-bind="text: userProfile.contactInfo.businessName"/></td>\n    </tr>\n    <tr>\n        <td colspan="3"><strong>Client file: </strong><span data-bind="text: activeClaim.insuranceCompanyFileNum"/></td>\n        <td colspan="4"><strong>Mark file: </strong><span data-bind="text: activeClaim.fileNum"/></td>\n    </tr>\n    </tbody>\n</table>\n'}),define("app/components/billing/billingComponent",["jquery","knockout","KOMap","amplify","bootbox","underscore","shared/dateUtils","shared/NumberUtils","shared/objectUtils","app/utils/ajaxUtils","app/utils/events","app/utils/consts","app/utils/router","app/utils/session","app/utils/sessionKeys","model/bill","model/billingItem","model/billingStatus","model/contact","text!app/components/billing/billing.tmpl.html","text!app/components/billing/billing.print.tmpl.html","app/utils/audit"],function(t,e,i,n,o,s,a,r,l,c,u,h,d,p,f,m,g,v,b,y,w,x){function C(){console.log("Init BillingVM."),this.vmId=(new Date).getTime(),this.readyToRender=e.observable(window.location.hash.indexOf("bill")>=0),this.Consts=h,this.DateUtils=a,this.BillingStatus=v,this.NumberUtils=r,this.ObjectUtils=l,this.router=d,this.billingStatus=i.fromJS(v),this.userProfile=void 0,this.billingProfile=void 0,this.mode=e.observable(),this.showClosedClaims=e.observable(!1),this.billRecipient=e.observable(i.fromJS(new b)),this.groupedByCode=e.observableArray([]),this.groupBy=e.observable("Not Submitted"),this.groupByOptions=e.observableArray(["Any","Not Submitted","Submitted","Paid"]),this.claimId=e.observable(),this.bill=e.observable(this.newEmptyBill()),this.removedBillingItems=[],this.bills=e.observableArray([]),this.filteredBills=e.observableArray([]),this.setupEvListeners(),this.setupModeListener(),this.mode.extend({notify:"always"}),this.mode(h.BILLING_TAB_HISTORY_MODE);var n=this;n.filteredBills=e.computed(function(){return s.filter(n.bills(),function(t){var e=t.status===n.groupBy()||"Any"===n.groupBy();return e})}),n.filteredTotal=e.computed(function(){return s.reduce(n.filteredBills(),function(t,e){return Number(t)+Number(e.total)},0)}),n.filteredTotalTime=e.computed(function(){return s.reduce(n.filteredBills(),function(t,e){return Number(t)+Number(e.totalTime)},0)}),n.filteredTotalMileage=e.computed(function(){return s.reduce(n.filteredBills(),function(t,e){return Number(t)+Number(e.totalMileage)},0)}),n.filteredTotalExpenses=e.computed(function(){return s.reduce(n.filteredBills(),function(t,e){return Number(t)+Number(e.totalExpenseAmount)},0)}),n.removeBillingItem=function(e){console.log("Toggle remove BillingItem timer");var o=this,e=arguments[1],s=t(e.target).parent().parent(),a=i.toJSON(o),r=3e3;"Undo"===o.removeOrUndoLabel()?(console.log("Cancelled remove BillingItem: "+a),clearTimeout(o.timeoutId),o.timeoutId=void 0,o.removeOrUndoLabel("Remove"),s.fadeTo("slow",1)):(s.fadeTo("slow",.5),o.removeOrUndoLabel("Undo"),o.timeoutId=setTimeout(function(){console.log("Remove BillingItem: "+a),s.fadeTo("slow",.1,function(){n.bill().billingItems.remove(o),n.removedBillingItems.push(o),n.calcAll()})}.bind(n),r))},n.isClaimClosed=e.computed(function(){return this.bill().isClaimClosed()===!0},this),n.isBillEditable=e.computed(function(){return this.bill().status()==this.billingStatus.NOT_SUBMITTED()&&!this.isClaimClosed()},this),n.isBillSubmitted=e.computed(function(){return this.bill().status()==this.billingStatus.SUBMITTED()},this),n.isBillPaid=e.computed(function(){return this.bill().status()==this.billingStatus.PAID()},this),n.haveBillableTasks=e.computed(function(){return this.bill().billingItems().length>0},this),this.loadUserProfileFromSession()}return C.prototype.newEmptyBill=function(){var t=new m;t.billingItems=[],t.status=this.billingStatus.NOT_SUBMITTED(),t.creationDate=new Date,t.submissionDate=null,t.paidDate=null,t.isClaimClosed=!1,this.billRecipient(i.fromJS(new b));var e=i.fromJS(t);return e},C.prototype.setupEvListeners=function(){n.subscribe(u.CREATE_NEW_BILL,this,this.onCreateNewBill),n.subscribe(u.SHOW_BILL,this,this.onShowBill),n.subscribe(u.SHOW_BILLING_HISTORY,this,this.onShowBilllingHistory),n.subscribe(u.CLOSE_BILLING_VIEW,this,this.onViewClose)},C.prototype.setupModeListener=function(){var t=this;t.mode.subscribe(function(e){e===h.BILLING_TAB_CREATE_MODE?(t.clearBill(),t.getEligibleBillingItemsForClaim(t.claimId()).done(function(e){t.bill().billingItems(e),t.calcAll()})):e===h.BILLING_TAB_HISTORY_MODE?t.getBillsForClaim():e===h.BILLING_TAB_VIEW_MODE&&console.log("View Bill")},this)},C.prototype.afterBillingCreateRender=function(e,i){i.initTooltipComponent(),t("#bililngCreateMsg").fadeOut(8e3)},C.prototype.loadUserProfileFromSession=function(t){n.subscribe(u.LOADED_USER_PROFILE,this,function(){this.userProfile=p.getCurrentUserProfile(),this.userProfile||console.error("Could not retrieve User profile from session")})},C.prototype.loadBillingProfile=function(e){var i=this,n=t.Deferred();return c.getJSON("/billing/profile/"+e).then(function(t){console.log("Loaded BillingProfile for Claim "+e),i.billingProfile=t.data,n.resolve()}),n},C.prototype.onClaimClick=function(t,e){return e.stopPropagation(),d.routeToClaim(t.claimId),!1},C.prototype.onBillingProfileClick=function(){this.claimId()?d.routeToBillingProfile(this.claimId()):console.error("No claim associated with Bill")},C.prototype.onUpdateBillStatus=function(t,e){console.log("BillingVM > onUpdateBillStatus: "+t),e.status=t,this.claimId(e.claimId),
this.bill(this.newEmptyBill()),this.bill(i.fromJS(e)),this._persistBill(t);var n=this.bills();this.bills([]),this.bills(n)},C.prototype.onCreateNewBill=function(t){console.log("BillingVM > onCreateNewBill"),console.assert(t.claimId,"Expecting ev to carry claimId"),this.claimId(t.claimId),this.readyToRender(!0);var e=this;e.loadBillingProfile(t.claimId).then(function(){e.getBillsForClaim(function(){var i=s.find(e.bills(),function(t){return t.status===v.NOT_SUBMITTED});i?(n.publish(u.INFO_NOTIFICATION,{msg:"An un-submitted bill is present for this Claim. Opening."}),d.routeToBill.bind({claimId:t.claimId,_id:i._id})()):e.mode(h.BILLING_TAB_CREATE_MODE)})})},C.prototype.onShowBill=function(t){var e=this;console.log("BillingVM > onShowBilll "+this.vmId),console.assert(t.claimId,"Expecting ev to carry claimId"),console.assert(t.billId,"Expecting ev to billId"),this.claimId(t.claimId),this.readyToRender(!0),e.loadBillingProfile(t.claimId).then(function(){return e.loadBill(t.billId)}).then(function(){e.calcAll()}).then(function(){function i(t){e.bill().billingItems(t),e.calcAll()}e.isBillEditable()&&e.getEligibleBillingItemsForClaim(t.claimId).done(function(t){var n=e.bill().billingItems(),a=s.map(n,function(t){return t._id()}),r=s.filter(t,function(t){return s.contains(a,t._id())});t.length>n.length?o.dialog({size:"small",backdrop:"true",title:"New tasks",message:"New tasks have been added since the last draft was saved. Add these?",buttons:{no:{label:"No",className:"btn-danger",callback:s.partial(i,r)},yes:{label:"Yes",className:"btn-info",callback:s.partial(i,t)}}}):i(r)})}).then(function(){e.mode(h.BILLING_TAB_VIEW_MODE),x.info("ViewBill",{_id:e.bill()._id()})})},C.prototype.onShowAllClaims=function(){this.claimId(null),this.onShowBilllingHistory({})},C.prototype.onShowBilllingHistory=function(t){console.assert("Billing component > SHOW_BILLING_HISTORY"),this.readyToRender(!0),t.hasOwnProperty("claimId")&&(console.log("Show Billing History for claim "+t.claimId),this.claimId(t.claimId)),this.mode(h.BILLING_TAB_HISTORY_MODE)},C.prototype.onViewClose=function(){console.log("BillingVM > onViewClose"),this.mode()===h.BILLING_TAB_CREATE_MODE?this.routeToBillingOverview():d.routeToHome()},C.prototype.routeToBillingOverview=function(){var e=this;this.isNewBill()&&this.haveBillableTasks()?this.onNavigateAwayFromUnsavedBill():t("#billPanel").velocity("fadeOut",{duration:200,complete:function(){d.routeToBillingOverview(e.claimId())}})},C.prototype.onNavigateAwayFromUnsavedBill=function(){var t=this;o.dialog({size:"small",backdrop:"false",title:"Unsaved Bill!",message:"Save a draft copy of the Invoice? ",buttons:{no:{label:"No",className:"btn-danger",callback:function(){d.routeToBillingOverview(t.claimId())}},yes:{label:"Yes",className:"btn-info",callback:function(){t.updateBill()}}}})},C.prototype.isNewBill=function(){return this.bill()&&!t.isNumeric(this.bill()._id())},C.prototype.onTimeUpdate=function(t,e,i){this._onBillingItemAttrUpdate(t,"time",i)},C.prototype.onMileageUpdate=function(t,e,i){this._onBillingItemAttrUpdate(t,"mileage",i)},C.prototype.onExpenseAmountUpdate=function(t,e,i){this._onBillingItemAttrUpdate(t,"expenseAmount",i)},C.prototype._onBillingItemAttrUpdate=function(t,e,o){var s=this;o=o||0,console.log("Updating "+e+" for BillingItem: "+i.toJSON(t)),console.log("New value: "+o),t[e](o),s.calcAll();var a=i.toJSON([t]);return c.post("/billingItem",a,function(e){console.log("Saved Billing Items: "+JSON.stringify(e)),t._id(e.data._id),n.publish(u.SUCCESS_NOTIFICATION,{msg:"Updated billing item"}),n.publish(u.SAVED_CLAIM_ENTRY,{claimId:s.claimId(),claimEntryId:a.claimEntryId}),s.getBillsForClaim()})},C.prototype.getEligibleBillingItemsForClaim=function(e){var n=t.Deferred();return c.getJSON("/claim/"+e+"/entries").done(function(e){console.log("Loaded claim entries"+JSON.prettyPrint(e.data));var o=e.data;o=s.sortBy(o,"dueDate");var a=[];t.each(o,function(t,e){if(e.billingItem&&e.billingItem.status!==v.NOT_SUBMITTED)console.log("Item already billed: "+JSON.stringify(e.billingItem));else{e.billingItem=e.billingItem||new g,e.billingItem.claimEntryId=e._id,e.billingItem.entryDate=e.dueDate,e.billingItem.tag=e.tag,e.billingItem.summary=e.summary,this.refreshRatesOnBillingItem(e.billingItem),e.billingItem.removeOrUndoLabel="Remove";var n=i.fromJS(e.billingItem);a.push(n),console.log("Eligible BillingItem: "+JSON.stringify(e.billingItem))}}.bind(this)),n.resolve(a)}.bind(this)),n},C.prototype.refreshRatesOnBillingItem=function(t){t.timeRate=Number(this.billingProfile.timeRate),t.distanceRate=Number(this.billingProfile.distanceRate),t.taxRate=Number(this.billingProfile.taxRate),t.timeUnit=this.billingProfile.timeUnit,t.distanceUnit=this.billingProfile.distanceUnit},C.prototype.calcAll=function(){this.isBillEditable()?(console.info("Bill not submitted. Re-calc"),this.calcBillingItemTotals(),this.calcSubTotals(),this.calcTax()):console.info("Bill submitted/paid. Skipping re-calc")},C.prototype.calcBillingItemTotals=function(){t.each(this.bill().billingItems(),function(t,e){this.calcBillingItemTotal(e)}.bind(this))},C.prototype.calcSubTotals=function(){var e=this.bill(),i=Number,n=0,o=0,s=0;t.each(e.billingItems(),function(t,e){n+=i(e.time()),o+=i(e.mileage()),s+=i(e.expenseAmount())}),e.totalTime(n),e.totalMileage(o),e.totalExpenseAmount(s),e.totalTimeInDollars(i(n)*i(this.billingProfile.timeRate)),e.totalMileageInDollars(i(o)*i(this.billingProfile.distanceRate))},C.prototype.calcTax=function(){var e=this.bill(),i=Number,n=0;t.each(e.billingItems(),function(t,e){n+=i(e.totalAmount())}),e.preTaxTotal(i(i(n).toFixed(2))),e.taxRate(i(this.billingProfile.taxRate)),e.tax(i((e.taxRate()/100*e.preTaxTotal()).toFixed(2))),e.total(i(i(i(e.preTaxTotal())+i(e.tax())).toFixed(2)))},C.prototype.calcBillingItemTotal=function(t){if(null===t.timeRate()||null===t.distanceRate())return console.error("Did not find billing rates in billing item"),void t.totalAmount(0);var e=Number;t.totalAmount(Number(e(t.time()*t.timeRate())+e(t.mileage()*t.distanceRate())+e(t.expenseAmount())).toFixed(2))},C.prototype.clearBill=function(){this.bill(this.newEmptyBill())},C.prototype.loadBill=function(e){console.log("Load bill"+e);var n=t.Deferred(),o=this;return c.post("/bill/search",JSON.stringify({search:{_id:e},includeClosedClaims:!0}),function(t){if(console.debug("Loaded blll for claim: "+JSON.stringify(t)),t.data[0]){var a=t.data[0];a.billRecipient=a.billRecipient||new b,a.billingItems=s.sortBy(a.billingItems,"entryDate"),s.each(a.billingItems,function(t){t.removeOrUndoLabel="Remove",a.status===v.NOT_SUBMITTED&&o.refreshRatesOnBillingItem(t)}),o.bill(i.fromJS(a)),o.billRecipient(o.bill().billRecipient),n.resolve()}else console.warn("No bill found for Id: "+e),n.reject()}),n},C.prototype.initTooltipComponent=function(){t('[data-toggle="tooltip"]').tooltip()},C.prototype.getBillsForClaim=function(e){console.log("Get bills for claim "+this.claimId());var i=null==this.claimId()||"null"==this.claimId()||"undefined"==this.claimId()?void 0:this.claimId(),n=Boolean(i)?!0:!1,e=e||t.noop;return c.post("/bill/search",JSON.stringify({search:{claimId:i},includeClosedClaims:n}),function(t){console.log("getBillsForClaim: "+JSON.stringify(t).substr(0,100)),this.bills(s.sortBy(t.data,"_id").reverse()),e()}.bind(this))},C.prototype.cancelBillCreation=function(){this.mode(h.BILLING_TAB_HISTORY_MODE)},C.prototype.updateBill=function(){return this._persistBill(v.NOT_SUBMITTED)},C.prototype.submitBill=function(){this.bill().submissionDate(new Date),this._persistBill(v.SUBMITTED)},C.prototype._persistBill=function(e,o){console.log("Saving Bill");var s=t.Deferred();return this.bill().claimId(this.claimId()),this.bill().billRecipient=this.billRecipient(),this.bill().status(e),e==v.SUBMITTED&&this.bill().submissionDate(new Date),e==v.PAID&&this.bill().paidDate(new Date),c.post("/bill",i.toJSON(this.bill),function(t){console.log("Saved Bill: "+JSON.stringify(t)),this.bill()._id(t.data._id),this.submitBillingItems(e,function(){n.publish(u.SUCCESS_NOTIFICATION,{msg:"Saved Bill"}),n.publish(u.SAVED_BILL,{billId:this.bill()._id()}),s.resolve(),this.removedBillingItems=[],this.routeToBillingOverview(),this.getBillsForClaim()}.bind(this))}.bind(this)),s},C.prototype.submitBillingItems=function(e,n){var o=t.map(this.removedBillingItems,function(t){var e=t;return e.billId(null),e.status(v.NOT_SUBMITTED),delete e.removeOrUndoLabel,delete e.timeoutId,e}.bind(this)),a=t.map(this.bill().billingItems(),function(t){var i=t;return i.billId(this.bill()._id()),i.status(e),delete i.removeOrUndoLabel,delete i.timeoutId,i}.bind(this)),r=s.union(o,a);return console.log("Saving BillingItems: "+i.toJSON(r)),c.post("/billingItem",i.toJSON(r),function(t){console.log("Saved Billing Items: "+JSON.stringify(t)),n()})},C.prototype.printBill=function(){t("#print-template").html(w);var n=document.createElement("div"),o=this;o.activeClaim=p.getActiveClaim(),o.groupedByCode([]);var a=t.Deferred();p.getActiveClaimId()!=o.claimId()?c.getJSON("/claim/"+o.claimId()).done(function(t){console.log("Loaded claim "+JSON.stringify(t.data).substr(0,100)),o.activeClaim=t.data,a.resolve()}):(o.activeClaim=p.getActiveClaim(),a.resolve()),a.then(function(){s.each(i.toJS(o.bill().billingItems()),function(t,e){0!=t.mileage&&(mileageItem=s.clone(t),mileageItem.code=t.mileageCode,mileageItem.time=null,mileageItem.mileage=Number(mileageItem.mileage),mileageItem.expenseAmount=null,o.groupedByCode.push(mileageItem)),0!=t.expenseAmount&&(expenseItem=s.clone(t),expenseItem.code=t.expenseCode,expenseItem.time=null,expenseItem.mileage=null,expenseItem.expenseAmount=Number(expenseItem.expenseAmount),o.groupedByCode.push(expenseItem)),0!=t.time&&(timeItem=s.clone(t),timeItem.code=t.timeCode,timeItem.time=Number(timeItem.time),timeItem.mileage=null,timeItem.expenseAmount=null,o.groupedByCode.push(timeItem))}),e.renderTemplate("print-template",o,{afterRender:function(){console.log(n.innerHTML);var t=document.createElement("iframe");document.body.appendChild(t);var e=t.contentWindow;e.document.open(),e.document.write("<head><link rel=stylesheet href=../../css/print.css type=text/css ></head>"),e.document.write(n.innerHTML),e.document.close(),setTimeout(function(){e.focus(),e.print(),document.body.removeChild(t)},500)}},n),x.info("PrintBill",{_id:o.bill()._id()})})},{viewModel:C,template:y}}),define("text!app/components/billingItem/billingItemComponent.tmpl.html",[],function(){return'<div class="row">\n    <div data-bind="if: readyToRender">\n\n        <!-- Mileage -->\n        <form class="form-inline">\n            <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-5 bottomMargin">\n                    <div class="input-group">\n                        <input class="form-control input-sm" id="appendprepend" type="number"\n                               data-bind="value: billingItem().mileage,\n                                          disable: isDisabled">\n                        <span class="input-group-addon">Miles</span>\n                    </div>\n                </div>\n                <div class="col-lg-6 col-md-7 col-sm-6 col-xs-7" style="padding-left: 0">\n                    <select id="billing-item-select-1"\n                            class="form-control input-sm bigdrop"\n                            type="text" style="width: 90%;"\n                            data-bind="select2: billingItem().mileageCode,\n                                       myoptions: billingCodesDatasource(),\n                                       disable: isDisabled">\n                    </select>\n                </div>\n            </div>\n        </form>\n\n        <!-- Time -->\n        <form class="form-inline">\n            <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-5 bottomMargin">\n                    <div class="input-group">\n                        <input class="form-control input-sm" id="appendprepend" type="number" step=".1"\n                               data-bind="value: billingItem().time,\n                                          disable: isDisabled">\n                        <span class="input-group-addon">Hours</span>\n                    </div>\n                </div>\n                <div class="col-lg-6 col-md-7 col-sm-6 col-xs-7" style="padding-left: 0">\n                    <select class="form-control input-sm bigdrop" type="text" style="width: 90%;"\n                            data-bind="select2: billingItem().timeCode,\n                                       myoptions: billingCodesDatasource(),\n                                       disable: isDisabled">\n                    </select>\n                </div>\n            </div>\n        </form>\n\n        <!-- Expense -->\n        <form class="form-inline">\n            <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-5 bottomMargin">\n                    <div class="input-group">\n                        <span class="input-group-addon">$</span>\n                        <input class="form-control input-sm" id="appendprepend" type="number"\n                               data-bind="value: billingItem().expenseAmount,\n                                          disable: isDisabled">\n                    </div>\n                </div>\n                <div class="col-lg-6 col-md-7 col-sm-6 col-xs-7" style="padding-left: 0">\n                    <select class="form-control input-sm bigdrop" type="text" style="width: 90%;"\n                            data-bind="select2: billingItem().expenseCode,\n                                       myoptions: billingCodesDatasource(),\n                                       disable: isDisabled">\n                    </select>\n                </div>\n            </div>\n        </form>\n\n    </div>\n</div>\n'}),define("app/components/billingItem/billingItemComponent",["knockout","KOMap","amplify","app/utils/events","app/utils/session","text!app/components/billingItem/billingItemComponent.tmpl.html","model/billingItem"],function(t,e,i,n,o,s,a){"use strict";function r(e){console.log("Init BillingItemVM"),console.assert(e.billingItem,"Expecting billingItem param"),this.billingItem=e.billingItem,this.isDisabled=e.disable,this.billingItem().mileageCode.subscribe(function(t){this.billingItem().timeCode(t)},this),this.readyToRender=t.observable(!1),this.userProfile=o.getCurrentUserProfile(),this.userProfile?this.readyToRender(!0):i.subscribe(n.LOADED_USER_PROFILE,this,function(){this.userProfile=o.getCurrentUserProfile(),this.readyToRender(!0)})}function l(t){var e=[];return $.each(t,function(i){e.push({id:i,text:t[i]})}),e}return r.prototype.billingCodesDatasource=function(){var t=this.userProfile.billingProfile.codes,e=[];return $.each(t,function(i){e.push({id:"",text:"-------- "+i+" --------",children:l(t[i])})}),e},r.prototype.removeBillingItem=function(t){},{viewModel:r,template:s}}),define("text!app/components/billingProfile/billingProfile.tmpl.html",[],function(){return'<div data-bind="if: readyToRender"\n     id="billingProfileModal"\n     class="modal fade modal-lg" role="dialog" aria-labelledby="userProfileModalLabel" aria-hidden="true"\n     style="top:20%; margin: auto;">\n\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <!-- Header -->\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title">\n                    <span>Billing rates for this Claim</span>\n                </h4>\n            </div>\n\n            <!-- Body -->\n            <div class="modal-body">\n                <div class="container-fluid">\n                    <form class="form-horizontal">\n\n                        <fieldset class="form-group">\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-6"><span class="pull-right">Tax rate</span></div>\n                                <div class="col-md-4 col-sm-6 col-xs-4">\n                                    <div class="input-group">\n                                        <input type="text" class="form-control input-sm"\n                                               data-bind="value: billingProfile.taxRate"/>\n                                        <div class="input-group-addon">%</div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-6"><span class="pull-right">Track time in</span>\n                                </div>\n                                <div class="col-md-4 col-sm-6 col-xs-4">\n                                    <input type="text" class="form-control input-sm"\n                                           data-bind="value: billingProfile.timeUnit"/>\n                                </div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-6">\n                                    <span class="pull-right"\n                                          data-bind="text: \'Rate/\' + billingProfile.timeUnit()"></span>\n                                </div>\n                                <div class="col-md-4 col-sm-6 col-xs-4">\n                                    <div class="input-group">\n                                        <div class="input-group-addon">$</div>\n                                        <input type="number" class="form-control input-sm"\n                                               data-bind="value: billingProfile.timeRate"/>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-6">\n                                    <span class="pull-right">Track distance in</span>\n                                </div>\n                                <div class="col-md-4 col-sm-6 col-xs-4">\n                                    <input type="text" class="form-control input-sm"\n                                           data-bind="value: billingProfile.distanceUnit"/>\n                                </div>\n                            </div>\n                            <div class="row bottomMargin5">\n                                <div class="col-md-4 col-sm-6 col-xs-6">\n                                    <span class="pull-right"\n                                          data-bind="text: \'Rate/\' + billingProfile.distanceUnit()"></span>\n                                </div>\n                                <div class="col-md-4 col-sm-6 col-xs-4">\n                                    <div class="input-group">\n                                        <div class="input-group-addon">$</div>\n                                        <input type="number" class="form-control input-sm"\n                                               data-bind="value: billingProfile.distanceRate"/>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n\n            <!-- Footer -->\n            <div class="modal-footer">\n                <div class="row">\n                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-6">\n                        <span class="pull-left"\n                              style="color: palevioletred">* Changes apply to un-submitted bills only</span>\n                    </div>\n                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">\n                        <button type="button" class="btn btn-info" data-dismiss="modal" data-bind="click: onSave">\n                            Save\n                        </button>\n                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <!-- modal-content -->\n    </div>\n    <!-- modal-dialog -->\n</div>'}),define("app/components/billingProfile/billingProfileComponent",["jquery","knockout","KOMap","amplify","app/utils/events","app/utils/session","app/utils/ajaxUtils","text!app/components/billingProfile/billingProfile.tmpl.html","model/billingProfile"],function(t,e,i,n,o,s,a,r,l){"use strict";function c(t){console.log("Init BillingProfile"),this.readyToRender=e.observable(!1),this.billingProfile=i.fromJS(new l),this.setupEvListeners()}return c.prototype.setupEvListeners=function(){n.subscribe(o.SHOW_BILLING_PROFILE,this,this.onShowProfile)},c.prototype.onShowProfile=function(e){return e.claimId?(console.log("BillingProfileComponent - SHOW_BILLING_PROFILE ev "+JSON.stringify(e)),this.readyToRender(!0),this.loadProfile(e.claimId),void t("#billingProfileModal").modal()):void console.error("Expecting ev to carry claimId")},c.prototype.loadProfile=function(t){return a.getJSON("/billing/profile/"+t).done(function(t){console.debug("Loaded BillingProfile "+JSON.stringify(t.data).substr(0,100)),i.fromJS(t.data,{},this.billingProfile)}.bind(this))},c.prototype.onSave=function(e){a.post("/billing/profile",i.toJSON(this.billingProfile),function(e){console.log("Updated billingProfile: "+JSON.stringify(e)),n.publish(o.SUCCESS_NOTIFICATION,{msg:"Biling rates updated"}),t("#billingProfileModal").modal("hide")}.bind(this),function(t){console.log("Failure: "+JSON.stringify(t)),n.publish(o.FAILURE_NOTIFICATION,{msg:t.message})})},{viewModel:c,template:r}}),require(["jquery","knockout","KOAmd","text","amplify","app/components/appVM","shared/dateUtils","app/utils/session","app/utils/audit","hopscotch","loggly","bootbox","app/utils/koDatetimePickerBinding","app/utils/koWYSIWYGBinding","app/utils/koTextTruncateBinding","app/utils/koSortableBinding","app/utils/koAutoComplete","app/utils/koSelect2","app/utils/koTaskEntryTag","velocity","bootstrap","KOXeditable","bootstrapTableCustom","bootstrapTable","tableExport","circliful","chartjs","app/components/userProfile/userProfileComponent","app/components/contact/contactComponent","app/components/contact/addContactComponent","app/components/contact/contactWidgetVM","app/components/fileUpload/fileUploadComponent","app/components/summary/summaryVM","app/components/claimsList/claimsListVM","app/components/notifier/notifierVM","app/components/maps/mapsComponent","app/components/maps/travelComponent","app/components/statusEditor/statusEditorComponent","app/components/stats/statsVM","app/components/taskEntry/taskEntryVM","app/components/claim/claimVM","text!app/components/claim/claim.tmpl.html","text!app/components/claim/claim.entries.tmpl.html","text!app/components/claim/claim.editor.tmpl.html","app/components/admin/adminComponent","app/components/billing/billingComponent","app/components/billingItem/billingItemComponent","app/components/billingProfile/billingProfileComponent"],function(t,e,i,n,o,s,a,r,l,c){console.log("Init App");Chart.noConflict();a.enableJSONDateHandling(),r.clearContacts(),e.amdTemplateEngine.defaultRequireTextPluginName="text",e.amdTemplateEngine.defaultPath="/",e.amdTemplateEngine.defaultSuffix=".tmpl.html",e.components.register("user-profile-component",{require:"app/components/userProfile/userProfileComponent"}),e.components.register("contact-component",{require:"app/components/contact/contactComponent"}),e.components.register("add-contact-component",{require:"app/components/contact/addContactComponent"}),e.components.register("contact-widget-component",{require:"app/components/contact/contactWidgetVM"}),e.components.register("file-upload-component",{require:"app/components/fileUpload/fileUploadComponent"}),e.components.register("summary-component",{require:"app/components/summary/summaryVM"}),e.components.register("claims-list-component",{require:"app/components/claimsList/claimsListVM"}),e.components.register("claim-selector-component",{require:"app/components/claimsList/claimSelectorVM"}),e.components.register("notifier-component",{require:"app/components/notifier/notifierVM"}),e.components.register("maps-component",{require:"app/components/maps/mapsComponent"}),e.components.register("travel-component",{require:"app/components/maps/travelComponent"}),e.components.register("status-editor-component",{require:"app/components/statusEditor/statusEditorComponent"}),e.components.register("stats-component",{require:"app/components/stats/statsVM"}),e.components.register("task-entry-component",{require:"app/components/taskEntry/taskEntryVM"}),e.components.register("admin-component",{require:"app/components/admin/adminComponent"}),e.components.register("billing-component",{require:"app/components/billing/billingComponent"}),e.components.register("billing-item-component",{require:"app/components/billingItem/billingItemComponent"}),e.components.register("billing-profile-component",{require:"app/components/billingProfile/billingProfileComponent"}),e.components.register("contact-sync-component",{require:"app/components/contactSync/contactSyncComponent"}),e.applyBindings(new s),l.init(),JSON.prettyPrint=function(t){var e=80;return JSON.stringify(t).substring(0,e)}}),define("app/components/start",function(){});
//# sourceMappingURL=start.js.map